<!DOCTYPE html>
<html lang="en">
  <head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-593498H');</script>
<!-- End Google Tag Manager -->

    <meta charset="utf-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <meta name="msapplication-config" content="/microsoft-tile.xml" />
    <meta name="theme-color" content="#ffffff">

    <meta property="og:url" content="https://bejoycalias.github.io/blogsataws/secblogs1.html" />
    <meta property="og:site_name" content="Bejoy's TechNotes"/>
    <meta property="og:title" content="Bejoy's TechNotes - Kindle Friendly AWS Security Blogs" />
    <meta property="og:image" content="https://bejoycalias.github.io/assets/images/og-image.png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="1200"/>
    <meta property="og:description" content="" />

    <title>Bejoy's TechNotes - Kindle Friendly AWS Security Blogs</title>
    <link href="../assets/stylesheets/application-832aa42c.css" rel="stylesheet" />

    <!--[if lt IE 9]>
      <script src="../assets/javascripts/ie-compat-c141a02d.js"></script>
    <![endif]-->
    <script src="../assets/javascripts/application-ff53d307.js"></script>

    <!-- Typekit script to import Klavika font -->
    <script src="https://use.typekit.net/wxf7mfi.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-100043608-1', 'auto');
  ga('send', 'pageview');

</script>

    
  </head>

  <body id="uh-oh-" class="layout-inner page-uh-oh-">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-593498H"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


    <div id="header" class="navigation navbar-static-top hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <div class="navbar-header">
              <div class="navbar-brand">
                <a href="/">
                  <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="135.000000pt" height="50" viewbox="0 0 135.000000 45.000000" preserveaspectratio="xMidYMid meet" class="logo">

<g transform="translate(0.000000,45.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
<path class="text" fill="#000000" d="M527 384 c-4 -4 -7 -18 -7 -31 0 -21 4 -24 28 -21 21 2 27 8 27 28 0
18 -6 26 -20 28 -12 2 -24 0 -28 -4z"></path>
<path class="text" fill="#000000" d="M1080 335 c0 -48 2 -55 20 -55 18 0 20 7 20 55 0 48 -2 55 -20 55
-18 0 -20 -7 -20 -55z"></path>
<path class="text" fill="#000000" d="M54 357 c-2 -7 -3 -69 -2 -138 l3 -124 65 -3 c90 -3 130 20 130 77 0
29 -6 44 -20 54 -20 14 -20 15 -3 45 14 25 15 34 5 56 -6 15 -23 31 -38 36
-38 15 -134 13 -140 -3z m110 -33 c19 -7 21 -45 4 -62 -7 -7 -22 -12 -35 -12
-20 0 -23 5 -23 40 0 41 13 50 54 34z m20 -130 c19 -18 19 -20 6 -45 -8 -13
-21 -19 -45 -19 -34 0 -35 1 -35 40 0 38 2 40 29 40 16 0 37 -7 45 -16z"></path>
<path class="text" fill="#000000" d="M319 271 c-23 -24 -29 -38 -29 -74 0 -25 3 -53 6 -62 20 -50 164 -64
164 -15 0 15 -7 17 -45 12 -46 -5 -75 8 -75 34 0 11 16 14 65 14 l65 0 0 35
c0 80 -92 114 -151 56z m99 -33 c3 -15 -4 -18 -37 -18 -43 0 -50 7 -29 28 18
18 62 11 66 -10z"></path>
<path class="text" fill="#000000" d="M520 184 c0 -107 -1 -116 -20 -121 -11 -3 -20 -12 -20 -19 0 -21 76
-19 84 2 3 9 6 69 6 135 l0 119 -25 0 -25 0 0 -116z"></path>
<path class="text" fill="#000000" d="M649 271 c-24 -25 -29 -37 -29 -78 1 -70 34 -103 105 -103 55 0 95
44 95 103 0 60 -7 75 -41 92 -47 25 -96 19 -130 -14z m111 -30 c25 -48 2 -111
-40 -111 -45 0 -69 80 -34 114 21 22 61 20 74 -3z"></path>
<path class="text" fill="#000000" d="M850 287 c0 -8 16 -57 36 -110 28 -76 33 -100 25 -116 -16 -28 -14
-31 18 -31 27 0 29 4 70 123 23 67 41 128 41 135 0 6 -11 12 -24 12 -21 0 -26
-8 -41 -65 -10 -36 -21 -68 -25 -70 -3 -2 -16 27 -29 66 -19 60 -25 69 -47 69
-13 0 -24 -6 -24 -13z"></path>
<path class="text" fill="#000000" d="M1192 284 c-17 -12 -22 -24 -20 -47 2 -26 10 -36 45 -52 49 -23 59
-55 17 -55 -14 0 -34 5 -45 10 -16 9 -19 7 -19 -13 0 -17 7 -27 23 -31 69 -18
117 6 117 60 0 32 -4 37 -45 55 -60 26 -62 54 -4 46 37 -5 40 -3 37 16 -2 18
-11 23 -43 25 -25 2 -49 -3 -63 -14z"></path>
</g>
</svg>

                </a>
              </div>
              <button class="navbar-toggle" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <div class="buttons hidden-xs">
              <nav class="navigation-links" role="navigation">
                <ul class="main-links nav navbar-nav navbar-right">
                  <li><a href="../aws.html">AWS</a></li>
                  <li><a href="../linux.html">Linux</a></li>
                  <li><a href="../docker.html">Docker</a></li>
                  <li><a href="../ibmpower.html">IBM Power</a></li>
                  <li><a href="blogsataws1.html">Blogs@AWS (Kindle Friendly)</a></li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar-overlay"></div>

<aside class="sidebar" role="navigation">
  <div class="sidebar-header">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="135.000000pt" height="42" viewbox="0 0 135.000000 45.000000" preserveaspectratio="xMidYMid meet">

<g transform="translate(0.000000,45.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
<path class="text" fill="#000000" d="M527 384 c-4 -4 -7 -18 -7 -31 0 -21 4 -24 28 -21 21 2 27 8 27 28 0
18 -6 26 -20 28 -12 2 -24 0 -28 -4z"></path>
<path class="text" fill="#000000" d="M1080 335 c0 -48 2 -55 20 -55 18 0 20 7 20 55 0 48 -2 55 -20 55
-18 0 -20 -7 -20 -55z"></path>
<path class="text" fill="#000000" d="M54 357 c-2 -7 -3 -69 -2 -138 l3 -124 65 -3 c90 -3 130 20 130 77 0
29 -6 44 -20 54 -20 14 -20 15 -3 45 14 25 15 34 5 56 -6 15 -23 31 -38 36
-38 15 -134 13 -140 -3z m110 -33 c19 -7 21 -45 4 -62 -7 -7 -22 -12 -35 -12
-20 0 -23 5 -23 40 0 41 13 50 54 34z m20 -130 c19 -18 19 -20 6 -45 -8 -13
-21 -19 -45 -19 -34 0 -35 1 -35 40 0 38 2 40 29 40 16 0 37 -7 45 -16z"></path>
<path class="text" fill="#000000" d="M319 271 c-23 -24 -29 -38 -29 -74 0 -25 3 -53 6 -62 20 -50 164 -64
164 -15 0 15 -7 17 -45 12 -46 -5 -75 8 -75 34 0 11 16 14 65 14 l65 0 0 35
c0 80 -92 114 -151 56z m99 -33 c3 -15 -4 -18 -37 -18 -43 0 -50 7 -29 28 18
18 62 11 66 -10z"></path>
<path class="text" fill="#000000" d="M520 184 c0 -107 -1 -116 -20 -121 -11 -3 -20 -12 -20 -19 0 -21 76
-19 84 2 3 9 6 69 6 135 l0 119 -25 0 -25 0 0 -116z"></path>
<path class="text" fill="#000000" d="M649 271 c-24 -25 -29 -37 -29 -78 1 -70 34 -103 105 -103 55 0 95
44 95 103 0 60 -7 75 -41 92 -47 25 -96 19 -130 -14z m111 -30 c25 -48 2 -111
-40 -111 -45 0 -69 80 -34 114 21 22 61 20 74 -3z"></path>
<path class="text" fill="#000000" d="M850 287 c0 -8 16 -57 36 -110 28 -76 33 -100 25 -116 -16 -28 -14
-31 18 -31 27 0 29 4 70 123 23 67 41 128 41 135 0 6 -11 12 -24 12 -21 0 -26
-8 -41 -65 -10 -36 -21 -68 -25 -70 -3 -2 -16 27 -29 66 -19 60 -25 69 -47 69
-13 0 -24 -6 -24 -13z"></path>
<path class="text" fill="#000000" d="M1192 284 c-17 -12 -22 -24 -20 -47 2 -26 10 -36 45 -52 49 -23 59
-55 17 -55 -14 0 -34 5 -45 10 -16 9 -19 7 -19 -13 0 -17 7 -27 23 -31 69 -18
117 6 117 60 0 32 -4 37 -45 55 -60 26 -62 54 -4 46 37 -5 40 -3 37 16 -2 18
-11 23 -43 25 -25 2 -49 -3 -63 -14z"></path>
</g>
</svg>

  </div>

  <ul class="nav sidebar-nav">
    <li><a href="../aws.html">AWS</a></li>
    <li><a href="../linux.html">Linux</a></li>
    <li><a href="../docker.html">Docker</a></li>
    <li><a href="../ibmpower.html">IBM Power</a></li>
    <li><a href="blogsataws1.html">Blogs@AWS (Kindle Friendly)</a></li>
  </ul>
</aside>


    <div class="container">
  <div class="row">
    <div id="docs-sidebar" class="col-sm-3 col-md-3 col-xs-12 hidden-print" role="complementary">
      <ul class="nav docs-sidenav">
      <li><a href="blogsataws1.html">Blogs @ AWS</a></li>
      <li><a href="whatsnew1.html">What's New @ AWS</a></li>
      <li><a href="mgmtblogs1.html">Management Tools Blogs @ AWS</a></li>
      <li><a href="computeblogs1.html">Compute Blogs @ AWS</a></li>
      <li><a href="devopsblogs1.html">DevOps Blogs @ AWS</a></li>
      <li class="active"><a href="secblogs1.html">Security Blogs @ AWS</a></li>
      <li><a href="apnblogs1.html">APN Blogs @ AWS</a></li>

    </ul>
    </div>

    <div id="inner" class="col-sm-9 col-md-9 col-xs-12" role="main">
<p></p>
<p><i>Contents of this page is copied directly from AWS blog sites to make it Kindle friendly. Some styles & sections from these pages are removed to render this properly in 'Article Mode' of Kindle e-Reader browser. All the contents of this page is property of AWS.</i></p>
<p><a href="secblogs1.html">Page 1</a>|<a href="secblogs2.html">Page 2</a>|<a href="secblogs3.html">Page 3</a>|<a href="secblogs4.html">Page 4</a></p>
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/16/fedRAMP.png" /> 
<b class="lb-b blog-post-title" property="name headline">AWS Achieves FedRAMP JAB Moderate Provisional Authorization for 20 Services in the AWS US East/West Region</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Chris Gile</span></span> | on 
<time property="datePublished" datetime="2017-11-20T09:59:42+00:00">20 NOV 2017</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/compliance/" title="View all posts in Compliance*"><span property="articleSection">Compliance*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/public-sector/government/" title="View all posts in Government*"><span property="articleSection">Government*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/public-sector/" title="View all posts in Public Sector*"><span property="articleSection">Public Sector*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/" title="View all posts in Security, Identity, &amp; Compliance*"><span property="articleSection">Security, Identity, &amp; Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/aws-achieves-fedramp-jab-moderate-authorization-for-20-services-in-us-eastwest/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-6308" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=6308&amp;disqus_title=AWS+Achieves+FedRAMP+JAB+Moderate+Provisional+Authorization+for+20+Services+in+the+AWS+US+East%2FWest+Region&amp;disqus_url=https://aws.amazon.com/blogs/security/aws-achieves-fedramp-jab-moderate-authorization-for-20-services-in-us-eastwest/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-6308');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/16/fedRAMP.png" /></p> 
<p>The&nbsp;AWS US East/West Region has received a Provisional Authority to Operate (P-ATO) from the Joint Authorization Board (JAB) at the Federal Risk and Authorization Management Program (FedRAMP) Moderate baseline.</p> 
<p>Though AWS has&nbsp;maintained an AWS US East/West Region Agency-ATO since early 2013, this announcement represents AWS’s carefully deliberated move to the JAB for the centralized maintenance of our P-ATO for 10 services already authorized. This also includes the addition of 10 new services to our <a href="https://aws.amazon.com/compliance/fedramp/" target="_blank" rel="noopener noreferrer">FedRAMP program</a> (see the complete list of services below). This doubles the number of FedRAMP Moderate services available to our customers to enable increased use of the cloud and support modernized IT missions. Our public sector customers now can leverage this FedRAMP P-ATO as a baseline for their own authorizations and look to the JAB for centralized Continuous Monitoring reporting and updates. In a significant enhancement for our partners that build their solutions on the AWS US East/West Region, they can now achieve FedRAMP JAB P-ATOs of their own for their Platform as a Service (PaaS) and Software as a Service (SaaS) offerings.</p> 
<p>In line with FedRAMP security requirements, our independent FedRAMP assessment was completed in partnership with a FedRAMP accredited Third Party Assessment Organization (3PAO) on our technical, management, and operational security controls to validate that they meet or exceed FedRAMP’s Moderate baseline requirements. Effective immediately, you can begin leveraging this P-ATO for the following 20 services in the AWS US East/West Region:</p> 
<li>Amazon Aurora (MySQL)*</li> 
<li>Amazon CloudWatch Logs*</li> 
<li>Amazon DynamoDB</li> 
<li>Amazon Elastic Block Store</li> 
<li>Amazon Elastic Compute Cloud</li> 
<li>Amazon EMR*</li> 
<li>Amazon Glacier*</li> 
<li>Amazon Kinesis Streams*</li> 
<li>Amazon RDS (MySQL, Oracle, Postgres*)</li> 
<li>Amazon Redshift</li> 
<li>Amazon Simple Notification Service*</li> 
<li>Amazon Simple Queue Service*</li> 
<li>Amazon Simple Storage Service</li> 
<li>Amazon Simple Workflow Service*</li> 
<li>Amazon Virtual Private Cloud</li> 
<li>AWS CloudFormation*</li> 
<li>AWS CloudTrail*</li> 
<li>AWS Identity and Access Management</li> 
<li>AWS Key Management Service</li> 
<li>Elastic Load Balancing</li> 
<p>* Services with first-time FedRAMP Moderate authorizations</p> 
<p>We continue to work with the FedRAMP Project Management Office (PMO), other regulatory and compliance bodies,&nbsp;and our customers and partners to ensure that we are raising the bar on our customers’ security and compliance needs.</p> 
<p>To learn more about how AWS helps customers meet their security and compliance requirements,&nbsp;see the&nbsp;<a href="https://aws.amazon.com/compliance/" target="_blank" rel="noopener noreferrer">AWS Compliance website</a>. To learn about what other public sector customers are doing on AWS,&nbsp;see our <a href="https://aws.amazon.com/solutions/case-studies/government-education/" target="_blank" rel="noopener noreferrer">Government, Education, and Nonprofits Case Studies and Customer Success Stories</a>. To review the public posting of our FedRAMP authorizations,&nbsp;see the <a href="https://aws.amazon.com/compliance/" target="_blank" rel="noopener noreferrer">FedRAMP Marketplace</a>.</p> 
<p>– Chris Gile, Senior Manager, AWS Public Sector Risk and Compliance</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-6308');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/17/Netapp_1117_Pereira_noborder_a-1-776x630.png" /> 
<b class="lb-b blog-post-title" property="name headline">How AWS Managed Microsoft AD Helps to Simplify the Deployment and Improve the Security of Active Directory–Integrated .NET Applications</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Peter Pereira</span></span> | on 
<time property="datePublished" datetime="2017-11-20T08:59:30+00:00">20 NOV 2017</time> | 
<a href="https://aws.amazon.com/blogs/security/how-aws-managed-microsoft-ad-helps-to-simplify-the-deployment-and-improve-the-security-of-active-directory-integrated-net-applications/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-6284" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=6284&amp;disqus_title=How+AWS+Managed+Microsoft+AD+Helps+to+Simplify+the+Deployment+and+Improve+the+Security+of+Active+Directory%E2%80%93Integrated+.NET+Applications&amp;disqus_url=https://aws.amazon.com/blogs/security/how-aws-managed-microsoft-ad-helps-to-simplify-the-deployment-and-improve-the-security-of-active-directory-integrated-net-applications/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-6284');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p>Companies using .NET applications to access sensitive user information, such as employee salary, Social Security Number, and credit card information, need an easy and secure way to manage access for users and applications.</p> 
<p>For example, let’s say that your company has a .NET payroll application. You want your Human Resources (HR) team to manage and update the payroll data for all the employees in your company. You also want your employees to be able to see their own payroll information in the application. To meet these requirements in a user-friendly and secure way, you want to manage access to the .NET application by using your existing Microsoft Active Directory identities. This enables you to provide users with single sign-on (SSO) access to the .NET application and to manage permissions using Active Directory groups. You also want the .NET application to authenticate itself to access the database, and to limit access to the data in the database based on the identity of the application user.</p> 
<p>Microsoft Active Directory supports these requirements through <a href="https://technet.microsoft.com/en-us/library/jj128431(v=ws.11).aspx" target="_blank" rel="noopener noreferrer">group Managed Service Accounts</a> (gMSAs) and <a href="https://technet.microsoft.com/en-us/library/jj553400(v=ws.11).aspx" target="_blank" rel="noopener noreferrer">Kerberos constrained delegation</a> (KCD). <a href="https://aws.amazon.com/directoryservice/" target="_blank" rel="noopener noreferrer">AWS Directory Service for Microsoft Active Directory</a>, also known as AWS Managed Microsoft AD, enables you to manage gMSAs and KCD through your administrative account, helping you to migrate and develop .NET applications that need these native Active Directory features.</p> 
<p>In this blog post, I give an overview of how to use AWS Managed Microsoft AD to manage gMSAs and KCD and demonstrate how you can configure a gMSA and KCD in six steps for a .NET application:</p> 
<ol> 
<li>Create your AWS Managed Microsoft AD.</li> 
<li>Create your Amazon RDS for SQL Server database.</li> 
<li>Create a gMSA for your .NET application.</li> 
<li>Deploy your .NET application.</li> 
<li>Configure your .NET application to use the gMSA.</li> 
<li>Configure KCD for your .NET application.</li> 
</ol> 
<h3>Solution overview</h3> 
<p>The following diagram shows the components of a .NET application that uses <a href="https://aws.amazon.com/rds/sqlserver/" target="_blank" rel="noopener noreferrer">Amazon RDS for SQL Server</a> with a gMSA and KCD. The diagram also illustrates authentication and access and is numbered to show the six key steps required to use a gMSA and KCD. To deploy this solution, the AWS Managed Microsoft AD directory must be in the same <a href="https://aws.amazon.com/vpc/" target="_blank" rel="noopener noreferrer">Amazon Virtual Private Cloud</a> (VPC) as RDS for SQL Server. For this example, my company name is Example Corp., and my directory uses the domain name, <code>example.com</code>.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/17/Netapp_1117_Pereira_noborder_a.png" /></p> 
<h3>Deploy the solution</h3> 
<p>The following six steps (numbered to correlate with the preceding diagram) walk you through configuring and using a gMSA and KCD.</p> 
<h4>1. Create your AWS Managed Microsoft AD directory</h4> 
<p>Using the <a href="https://console.aws.amazon.com/directoryservice/home" target="_blank" rel="noopener noreferrer">Directory Service console</a>, <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/create_directory.html" target="_blank" rel="noopener noreferrer">create your AWS Managed Microsoft AD directory</a> in your Amazon VPC. In my example, my domain name is <code>example.com</code>.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/16/1_Create_directory_a.png" /></p> 
<h4>2. Create your Amazon RDS for SQL Server database</h4> 
<p>Using the RDS console, <a href="http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_GettingStarted.CreatingConnecting.SQLServer.html#CHAP_GettingStarted.Creating.SQLServer" target="_blank" rel="noopener noreferrer">create your Amazon RDS for SQL Server database instance</a> in the same Amazon VPC where your directory is running, and enable Windows Authentication. To enable Windows Authentication, select your directory in the <strong>Microsoft SQL Server Windows Authentication</strong> section in the <strong>Configure Advanced Settings</strong> step of the database creation workflow (see the following screenshot).</p> 
<p>In my example, I create my Amazon RDS for SQL Server <code>db-example</code> database, and enable Windows Authentication to allow my <code>db-example</code> database to authenticate against my <code>example.com</code> directory.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/16/2_Create_db_windows_auth_a.png" /></p> 
<h4>3. Create a gMSA for your .NET application</h4> 
<p>Now that you have deployed your directory, database, and application, you can create a gMSA for your .NET application.</p> 
<p>To perform the next steps, you must <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/install_ad_tools.html" target="_blank" rel="noopener noreferrer">install the Active Directory administration</a> tools on a Windows server that is joined to your AWS Managed Microsoft AD directory domain. If you do not have a Windows server joined to your directory domain, you can deploy a new <a href="https://aws.amazon.com/windows/products/ec2/" target="_blank" rel="noopener noreferrer">Amazon EC2 for Microsoft Windows Server</a> instance and <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/join_a_directory.html" target="_blank" rel="noopener noreferrer">join it to your directory domain</a>.</p> 
<p>To create a gMSA for your .NET application:</p> 
<ol start="1" type="a"> 
<li>Log on to the instance on which you installed the Active Directory administration tools by using a user that is a member of the <code>Admins</code> security group or the <code>Managed Service Accounts Admins</code> security group in your organizational unit (OU). For my example, I use the <code>Admin</code> user in the <code>example&nbsp;</code>OU.</li> 
</ol> 
<p style="padding-left: 30px"><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/16/3_Admin_user.png" /></p> 
<ol start="2" type="a"> 
<li>Identify which .NET application servers (hosts) will run your .NET application. Create a <a href="https://msdn.microsoft.com/en-us/library/aa545347%28v=cs.70%29.aspx" target="_blank" rel="noopener noreferrer">new security group</a> in your OU and <a href="https://technet.microsoft.com/en-us/library/cc733097%28v=ws.11%29.aspx" target="_blank" rel="noopener noreferrer">add your .NET application servers as members</a> of this new group. This allows a group of application servers to use a single gMSA, instead of creating one gMSA for each server. In my example, I create a group, <code>App_server_grp</code>, in my <code>example</code> OU. I also add <code>Appserver1</code>, which is my .NET application server computer name, as a member of this new group.</li> 
</ol> 
<p style="padding-left: 30px"><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/16/4_Security_group_a.png" /></p> 
<ol start="3" type="a"> 
<li><a href="https://technet.microsoft.com/en-us/library/jj128431%28v=ws.11%29.aspx" target="_blank" rel="noopener noreferrer">Create&nbsp;a gMSA</a> in your directory by running Windows PowerShell from the Start menu. The basic syntax to create the gMSA at the Windows PowerShell command prompt follows. 
<code class="lang-text">PS C:\Users\admin&gt; New-ADServiceAccount -name [gMSAname] -DNSHostName [domainname] -PrincipalsAllowedToRetrieveManagedPassword [AppServersSecurityGroup] -TrustedForDelegation $truedn &lt;Enter&gt;</code> 
<code class="lang-text">PS C:\Users\admin&gt; New-ADServiceAccount -name gMSAexample -DNSHostName example.com -PrincipalsAllowedToRetrieveManagedPassword App_server_grp -TrustedForDelegation $truedn &lt;Enter&gt;</code> 
<code class="lang-text">PS C:\Users\admin&gt; Get-ADServiceAccount gMSAexample &lt;Enter&gt;
DistinguishedName : CN=gMSAexample,CN=Managed Service Accounts,DC=example,DC=com
Enabled           : True
Name              : gMSAexample
ObjectClass       : msDS-GroupManagedServiceAccount
ObjectGUID        : 24d8b68d-36d5-4dc3-b0a9-edbbb5dc8a5b
SamAccountName    : gMSAexample$
SID               : S-1-5-21-2100421304-991410377-951759617-1603
UserPrincipalName :</code> 
</ol> 
<h4>4. Deploy your .NET application</h4> 
<p><a href="https://docs.microsoft.com/en-us/aspnet/web-forms/overview/deployment/visual-studio-web-deployment/deploying-to-iis" target="_blank" rel="noopener noreferrer">Deploy your .NET application on IIS</a> on <a href="https://aws.amazon.com/windows/products/ec2/" target="_blank" rel="noopener noreferrer">Amazon EC2 for Windows Server</a> instances. For this step, I assume you are the application’s expert and already know how to deploy it. Make sure that all of your instances are <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/join_a_directory.html" target="_blank" rel="noopener noreferrer">joined to your directory</a>.</p> 
<h4>5. Configure your .NET application to use the gMSA</h4> 
<p>You can configure your .NET application to use the gMSA to enforce strong password security policy and ensure password rotation of your service account. This helps to improve the security and simplify the management of your .NET application. Configure your .NET application in two steps:</p> 
<ol type="a"> 
<li><a href="https://msdn.microsoft.com/en-us/library/bb727008.aspx" target="_blank" rel="noopener noreferrer">Grant to gMSA the required permissions</a> to run your .NET application in the respective application folders. This is a critical step because when you change the application pool identity account to use gMSA, downtime can occur if the gMSA does not have the application’s required permissions. Therefore, make sure you first test the configurations in your development and test environments.</li> 
<li><a href="https://technet.microsoft.com/library/cc771170%28ws.10%29.aspx" target="_blank" rel="noopener noreferrer">Configure your application pool identity</a> on IIS to use the gMSA as the service account. When you configure a gMSA as the service account, you include the <code>$</code> at the end of the gMSA name. You do not need to provide a password because AWS Managed Microsoft AD automatically creates and rotates the password. In my example, my service account is <code>gMSAexample$</code>, as shown in the following screenshot.</li> 
</ol> 
<p style="padding-left: 30px"><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/16/6_Application_Pool_gMSA_b.png" /></p> 
<p>You have completed all the steps to use gMSA to create and rotate your .NET application service account password! Now, you will configure KCD for your .NET application.</p> 
<h4>6. Configure KCD for your .NET application</h4> 
<p>You now are ready to allow your .NET application to have access to other services by using the user identity’s permissions instead of the application service account’s permissions. Note that KCD and gMSA are independent features, which means you do not have to create a gMSA to use KCD. For this example, I am using both features to show how you can use them together. To configure a regular service account such as a user or local built-in account, see the <a href="https://blogs.msdn.microsoft.com/wushuai/2017/01/13/constrained-kerberos-delegation-with-asp-net/" target="_blank" rel="noopener noreferrer">Kerberos constrained delegation with ASP.NET blog post on MSDN</a>.</p> 
<p>In my example, my goal is to delegate to the <code>gMSAexample</code> account the ability to enforce the user’s permissions to my <code>db-example</code> SQL Server database, instead of the <code>gMSAexample</code> account’s permissions. For this, I have to update the <code>msDS-AllowedToDelegateTo</code> gMSA attribute. The value for this attribute is the <a href="https://msdn.microsoft.com/en-us/library/ms677949%28v=vs.85%29.aspx" target="_blank" rel="noopener noreferrer">service principal name</a> (SPN) of the service instance that you are targeting, which in this case is the <code>db-example</code> Amazon RDS for SQL Server database.</p> 
<p>The SPN format for the <code>msDS-AllowedToDelegateTo</code> attribute is a combination of the service class, the Kerberos authentication endpoint, and the port number. The <a href="http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_SQLServerWinAuth.html" target="_blank" rel="noopener noreferrer">Amazon RDS for SQL Server Kerberos authentication endpoint</a> format is <code>[database_name].[domain_name]</code>. The value for my <code>msDS-AllowedToDelegateTo</code> attribute is <code>MSSQLSvc/db-example.example.com:1433</code>, where <code>MSSQLSvc</code> and <code>1433</code> are the SQL Server Database service class and port number standards, respectively.</p> 
<p>Follow these steps to perform the <code>msDS-AllowedToDelegateTo</code> gMSA attribute configuration:</p> 
<ol type="a"> 
<li>Log on to your Active Directory management instance with a user identity that is a member of the <code>Kerberos Delegation Admins</code> security group. In this case, I will use <code>admin</code>.</li> 
<li>Open the <strong>Active Directory Users and Groups</strong> utility located in your <strong>Administrative Tools</strong> folder, choose <strong>View</strong>, and then choose <strong>Advanced Features</strong>.</li> 
<li>Expand your domain name (<code>example.com</code> in this example), and then choose the Managed Service Accounts security group. Right-click the gMSA account for the application pool you want to enable for Kerberos delegation, choose <strong>Properties, </strong>and choose the<strong> Attribute Editor </strong>tab.</li> 
<li>Search for the <code>msDS-AllowedToDelegateTo</code> attribute on the <strong>Attribute Editor</strong> tab and choose <strong>Edit</strong>.</li> 
<li>Enter the <code>MSSQLSvc/db-example.example.com:1433</code> value and choose <strong>Add</strong>.<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/16/7_gMSA_RDS_SPN_a.png" /></li> 
<li>Choose <strong>OK</strong> and <strong>Apply</strong>, and your KCD configuration is complete.</li> 
</ol> 
<p>Congratulations! At this point, your application is using a gMSA rather than an embedded static user identity and password, and the application is able to access SQL Server using the identity of the application user. The gMSA eliminates the need for you to rotate the application’s password manually, and it allows you to better scope permissions for the application. When you use KCD, you can enforce access to your database consistently based on user identities at the database level, which prevents improper access that might otherwise occur because of an application error.</p> 
<h4>Summary</h4> 
<p>In this blog post, I demonstrated&nbsp;how to simplify the deployment and improve the security of your .NET application by using a group Managed Service Account and Kerberos constrained delegation with your AWS Managed Microsoft AD directory. I also outlined the main steps to get your .NET environment up and running on a managed Active Directory and SQL Server infrastructure. This approach will make it easier for you to build new .NET applications in the AWS Cloud or migrate existing ones in a more secure way.</p> 
<p>For additional information about using group Managed Service Accounts and Kerberos constrained delegation with your AWS Managed Microsoft AD directory, see the <a href="https://aws.amazon.com/documentation/directory-service/" target="_blank" rel="noopener noreferrer">AWS Directory Service documentation</a>.</p> 
<p>To learn more about AWS Directory Service, see the <a href="http://aws.amazon.com/directoryservice/" target="_blank" rel="noopener noreferrer">AWS Directory Service home page</a>. If you have questions about this post or its solution, start a new thread on the&nbsp;<a href="https://forums.aws.amazon.com/forum.jspa?forumID=180" target="_blank" rel="noopener noreferrer">Directory Service forum.</a></p> 
<p>– Peter</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-6284');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/KMS_feature11.png" /> 
<b class="lb-b blog-post-title" property="name headline">How to Encrypt and Decrypt Your Data with the AWS Encryption CLI</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">June Blender</span></span> | on 
<time property="datePublished" datetime="2017-11-20T07:44:23+00:00">20 NOV 2017</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-key-management-service/" title="View all posts in AWS Key Management Service*"><span property="articleSection">AWS Key Management Service*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/encryption/" title="View all posts in Encryption"><span property="articleSection">Encryption</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-encrypt-and-decrypt-your-data-with-the-aws-encryption-cli/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-5934" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=5934&amp;disqus_title=How+to+Encrypt+and+Decrypt+Your+Data+with+the+AWS+Encryption+CLI&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-encrypt-and-decrypt-your-data-with-the-aws-encryption-cli/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5934');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p style="text-align: center"><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/12/KMS_feature1.png" /></p> 
<p>You can now encrypt and decrypt your data at the command line and in scripts—no cryptography or programming expertise is required. The new <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/crypto-cli.html" target="_blank" rel="noopener noreferrer">AWS Encryption SDK Command Line Interface</a> (AWS Encryption CLI) brings the <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/introduction.html" target="_blank" rel="noopener noreferrer">AWS Encryption SDK</a> to the command line.</p> 
<p>With the AWS Encryption CLI, you can take advantage of the advanced data protection built into the AWS Encryption SDK, including <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/how-it-works.html#envelope-encryption" target="_blank" rel="noopener noreferrer">envelope encryption</a> and strong <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/supported-algorithms.html" target="_blank" rel="noopener noreferrer">algorithm suites</a>, such as 256-bit <a href="https://en.wikipedia.org/wiki/Galois/Counter_Mode" target="_blank" rel="noopener noreferrer">AES-GCM</a> with <a href="https://en.wikipedia.org/wiki/HKDF" target="_blank" rel="noopener noreferrer">HKDF</a>. The AWS Encryption CLI supports best-practice features, such as <a href="http://docs.aws.amazon.com/kms/latest/developerguide/crypto_authen.html" target="_blank" rel="noopener noreferrer">authenticated encryption</a> with symmetric encryption keys and asymmetric signing keys, as well as unique data keys for each encryption operation. You can use the CLI with customer master keys (CMKs) from <a href="https://aws.amazon.com/kms/" target="_blank" rel="noopener noreferrer">AWS Key Management Service</a> (AWS KMS), master keys that you manage in <a href="https://aws.amazon.com/cloudhsm/" target="_blank" rel="noopener noreferrer">AWS CloudHSM</a>, or master keys from your own custom master key provider, but the AWS Encryption CLI does not require any AWS service.</p> 
<p>The AWS Encryption CLI is built on the <a href="https://github.com/awslabs/aws-encryption-sdk-python" target="_blank" rel="noopener noreferrer">AWS Encryption SDK for Python</a> and is fully interoperable with all language-specific implementations of the AWS Encryption SDK. It is supported on Linux, macOS, and Windows platforms. You can encrypt and decrypt your data in a&nbsp;shell&nbsp;on Linux and macOS, in a Command Prompt window (cmd.exe) on Windows, or in a PowerShell console on any system.</p> 
<p>In this blog post, I walk you through the process of using the AWS Encryption CLI to encrypt and decrypt a file. You can find more <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/crypto-cli-examples.html" target="_blank" rel="noopener noreferrer">examples of using the new CLI</a> and detailed instructions for <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/crypto-cli-install.html" target="_blank" rel="noopener noreferrer">installing and configuring</a> the CLI in the <a href="http://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/introduction.html" target="_blank" rel="noopener noreferrer">AWS Encryption SDK Developer Guide</a>. You are also welcome to participate in the development of the AWS Encryption CLI (<a href="https://github.com/awslabs/aws-encryption-sdk-cli" target="_blank" rel="noopener noreferrer">aws-encryption-sdk-cli</a>) on GitHub.</p> 
<h3>Encrypt a file</h3> 
<p>Let’s use the AWS Encryption CLI to encrypt a file called <code>secret.txt</code> in your current directory. I will write the file of encrypted output to the same directory. This <code>secret.txt</code> file contains a <code>Hello World</code> string, but it might contain data that is critical to your business.</p> 
<code class="lang-text">$ ls
secret.txt
$ cat secret.txt
Hello World</code> 
<p>I’m using a Linux shell, but you can run similar commands in a macOS shell, a Command Prompt window, or a PowerShell console.<span id="more-5934"></span></p> 
<p>When you encrypt data, you specify a master key. This example uses an <a href="http://docs.aws.amazon.com/kms/latest/developerguide/overview.html" target="_blank" rel="noopener noreferrer">AWS KMS</a> CMK, but you can use a master key from any master key provider that is compatible with the AWS Encryption SDK. The AWS Encryption CLI uses the master key to generate a unique data key for each file that it encrypts.</p> 
<p>If you use an AWS KMS CMK as your master key, you need to <a href="http://docs.aws.amazon.com/cli/latest/userguide/installing.html" target="_blank" rel="noopener noreferrer">install </a>and <a href="http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html#cli-quick-configuration" target="_blank" rel="noopener noreferrer">configure</a> the AWS Command Line Interface (AWS CLI) so that the credentials you use to authenticate to AWS KMS are available to the AWS Encryption CLI. Those credentials must give you permission to call the AWS KMS <a href="http://docs.aws.amazon.com/kms/latest/APIReference/API_GenerateDataKey.html" target="_blank" rel="noopener noreferrer">GenerateDataKey</a> and <a href="http://docs.aws.amazon.com/kms/latest/APIReference/API_Decrypt.html" target="_blank" rel="noopener noreferrer">Decrypt</a> APIs on the CMK.</p> 
<p>The first line of this example saves an <span style="color: #ff0000"><strong>AWS KMS CMK ID</strong></span> in the <code>$keyID</code> variable. The second line encrypts the data in the <code>secret.txt</code> file. (The backslash, “\”, is the line continuation character in Linux shells.)</p> 
<p>To run the following command, substitute a valid&nbsp;CMK identifier&nbsp;for the placeholder value in the command.</p> 
<code class="lang-text">$ keyID = &quot;<strong><span style="color: #ff0000">111122223333</span></strong>&quot;
$ aws-encryption-cli --encrypt --input secret.txt \
--master-keys key=$keyID \
--encryption-context purpose=test \
--metadata-output ~/metadata \
--output .
</code> 
<p>This command uses the <code>--encrypt</code> <code>(-e)</code> parameter to specify the encryption action and the <code>--master-keys</code> (<code>-m</code>) parameter with a <code>key</code> attribute to specify an AWS KMS CMK. If you’re not using an AWS KMS CMK, you need to include a <code>provider</code> attribute that identifies the master key provider.</p> 
<p>The command uses the <code>--encryption-context</code> parameter (<code>-c</code>) to specify an <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/concepts.html#encryption-context" target="_blank" rel="noopener noreferrer">encryption context</a>, <code>purpose=test</code>, for the operation. The encryption context is non-secret data that is cryptographically bound to the encrypted data and included in plaintext in the encrypted message that the CLI returns. Providing additional authenticated data, such as an encryption context, is a recommended best practice.</p> 
<p>The <code>--metadata-output</code> parameter tells the AWS Encryption CLI where to write the metadata for the encrypt command. The metadata includes the full paths to the input and output files, the encryption context, the algorithm suite, and other valuable information that you can use to review the operation and verify that it meets your security standards.</p> 
<p>The <code>--input</code> (<code>-i</code>) and <code>--output</code> (<code>-o</code>) parameters are required in every AWS Encryption CLI command. In this example, the input file is the <code>secret.txt</code> file. The output location is the current directory, which is represented by a dot (“<code>.</code>”).</p> 
<p>When the <code>--encrypt</code> command is successful, it creates a new file that contains the encrypted data, but it does not return any output. To see the results of the command, use a directory listing command, such as <code>ls</code> or <code>dir</code>. Running an <code>ls</code> command in this example shows that the AWS Encryption CLI generated the <code>secret.txt.encrypted</code> file.</p> 
<code class="lang-text">$ ls
secret.txt  secret.txt.encrypted</code> 
<p>By default, the output file that the <code>--encrypt</code> command creates has the same name as the input file, plus a <code>.encrypted</code> suffix. You can use the <code>--suffix</code> parameter to specify a custom suffix.</p> 
<p>The <code>secret.txt.encrypted</code> file contains a single, portable, secure <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/concepts.html#message" target="_blank" rel="noopener noreferrer">encrypted message</a>. The encrypted message includes the encrypted data, an encrypted copy of the data key that encrypted the data, and metadata, including the plaintext encryption context that I provided.</p> 
<p>You can manage an encrypted file in any way that you choose, including <a href="http://docs.aws.amazon.com/cli/latest/reference/s3/cp.html" target="_blank" rel="noopener noreferrer">copying it to an Amazon S3 bucket</a> or archiving it for later use.</p> 
<h3>Decrypt a file</h3> 
<p>Now, let’s use the AWS Encryption CLI to decrypt the <code>secret.txt.encrypted</code> file. If you have the required permissions on your master key, you can use any version of the AWS Encryption SDK to decrypt a file that the AWS Encryption CLI encrypted, including the AWS Encryption SDK libraries in <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java.html" target="_blank" rel="noopener noreferrer">Java</a> and <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/python.html" target="_blank" rel="noopener noreferrer">Python</a>.</p> 
<p>However, you cannot use other tools, such as the <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingClientSideEncryption.html" target="_blank" rel="noopener noreferrer">Amazon S3 encryption client</a> or the <a href="https://aws.amazon.com/blogs/developer/client-side-encryption-for-amazon-dynamodb/" target="_blank" rel="noopener noreferrer">Amazon DynamoDB encryption client</a>, to decrypt the encrypted message because they use an incompatible <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/message-format.html" target="_blank" rel="noopener noreferrer">encrypted message format</a>.</p> 
<p>The following command decrypts the contents of the <code>secret.txt.encrypted</code> file.</p> 
<code class="lang-text">$ aws-encryption-cli --decrypt --input secret.txt.encrypted \
--encryption-context purpose=test \
--metadata-output ~/metadata \
--output .</code> 
<p>The <code>--decrypt</code> command requires an encrypted message, like the one that the <code>--encrypt</code> command returned, and both <code>--input</code> and&nbsp;<code>--output</code> parameters.</p> 
<p>This command has no <code>--master-keys</code> parameter. A <code>--master-keys</code> parameter is required only if you’re not using an AWS KMS CMK.</p> 
<p>In this example command, the <code>--input</code> parameter specifies the <code>secret.txt.encrypted</code> file. The <code>--output</code> parameter specifies the current directory, which again is represented by a dot (“<code>.</code>”).</p> 
<p>The <code>--encryption-context</code> parameter supplies the same encryption context that was used in the encrypt command. This parameter is not required, but verifying the encryption context during decryption is a cryptographic best practice.</p> 
<p>The <code>--metatdata-output</code> parameter tells the command where to write the metadata for the decrypt command. If the file exists, this parameter appends the metadata to the existing file. The AWS Encryption CLI also has parameters that overwrite the metadata file or suppress the metadata.</p> 
<p>When it is successful, the decrypt command generates the file of decrypted (plaintext) data, but it does not return any output. To see the results of the decryption command, use a command that gets the content of the file, such as <code>cat</code> or <a href="https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Management/Get-Content" target="_blank" rel="noopener noreferrer">Get-Content</a>.</p> 
<code class="lang-text">$ ls
secret.txt  secret.txt.encrypted  secret.txt.encrypted.decrypted
$ cat secret.txt.encrypted.decrypted
Hello World
</code> 
<p>The output file that the <code>--decrypt</code> command created has the same name as the input file, plus a <code>.decrypted</code> suffix. The <code>--suffix</code> parameter works on <code>--decrypt</code> commands, too.</p> 
<h3>Encrypt directories and more</h3> 
<p>In addition to encrypting and decrypting a single file, you can use the AWS Encryption CLI to encrypt and decrypt strings that you pipe to the CLI, and all or selected files in a directory and its subdirectories, or local or remote volumes. We have <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/crypto-cli-examples.html" target="_blank" rel="noopener noreferrer">examples for you to try</a> in the AWS Encryption SDK documentation.</p> 
<p>The new AWS Encryption CLI also supports more advanced features of the AWS Encryption SDK, including alternate <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/supported-algorithms.html" target="_blank" rel="noopener noreferrer">algorithm suites</a>, alternate <a href="https://github.com/awslabs/aws-encryption-sdk-cli/blob/master/README.rst#advanced-configuration" target="_blank" rel="noopener noreferrer">Python-based master key providers</a>, encryption with <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/crypto-cli-how-to.html#crypto-cli-master-key" target="_blank" rel="noopener noreferrer">multiple master keys</a>, encrypting streamed data, creating encrypted messages with <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/crypto-cli-reference.html#cli-advanced-parameters" target="_blank" rel="noopener noreferrer">custom frame sizes</a>, and <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/data-key-caching.html" target="_blank" rel="noopener noreferrer">data key caching</a>.</p> 
<p>For more information about the AWS Encryption CLI, see the <a href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/crypto-cli.html" target="_blank" rel="noopener noreferrer">AWS Encryption SDK Developer Guide</a> and the <a href="http://aws-encryption-sdk-cli.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">full documentation</a>.</p> 
<p>– June</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5934');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/JC4_11171.jpg" /> 
<b class="lb-b blog-post-title" property="name headline">Use the New Visual Editor to Create and Modify Your AWS IAM Policies</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Joy Chatterjee</span></span> | on 
<time property="datePublished" datetime="2017-11-16T18:01:59+00:00">16 NOV 2017</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-identity-and-access-management-iam/" title="View all posts in AWS Identity and Access Management (IAM)*"><span property="articleSection">AWS Identity and Access Management (IAM)*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/use-the-new-visual-editor-to-create-and-modify-your-aws-iam-policies/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-5967" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=5967&amp;disqus_title=Use+the+New+Visual+Editor+to+Create+and+Modify+Your+AWS+IAM+Policies&amp;disqus_url=https://aws.amazon.com/blogs/security/use-the-new-visual-editor-to-create-and-modify-your-aws-iam-policies/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5967');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p style="text-align: left">Today, <a href="https://aws.amazon.com/iam/" target="_blank" rel="noopener noreferrer">AWS Identity and Access Management</a> (IAM) made it easier for you to create and modify your IAM policies by using a point-and-click visual editor in the <a href="https://console.aws.amazon.com/iam/home" target="_blank" rel="noopener noreferrer">IAM console</a>. The new visual editor guides you through granting permissions&nbsp;for IAM policies without requiring you to write policies in <a href="https://aws.amazon.com/blogs/security/back-to-school-understanding-the-iam-policy-grammar/" target="_blank" rel="noopener noreferrer">JSON</a> (although you can still author and edit policies in JSON, if you prefer). This update to the IAM console makes it easier to grant <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#grant-least-privilege" target="_blank" rel="noopener noreferrer">least privilege</a>&nbsp;for the AWS service <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_actionsconditions.html" target="_blank" rel="noopener noreferrer">actions</a> you select by listing all the supported <a href="http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html" target="_blank" rel="noopener noreferrer">resource types</a> and <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html" target="_blank" rel="noopener noreferrer">request conditions</a> you can specify.&nbsp;<a href="https://aws.amazon.com/blogs/security/move-over-json-policy-summaries-make-understanding-iam-policies-easier/" target="_blank" rel="noopener noreferrer">Policy summaries</a>&nbsp;identify <a href="https://aws.amazon.com/blogs/security/new-features-for-iam-policy-summaries-an-easier-way-to-detect-potential-typos-in-your-iam-policies/" target="_blank" rel="noopener noreferrer">unrecognized services and actions</a> and <a href="https://aws.amazon.com/blogs/security/iam-policy-summaries-now-help-you-identify-errors-and-correct-permissions-in-your-iam-policies/" target="_blank" rel="noopener noreferrer">permissions errors</a> when you import existing policies, and now you can use the visual editor to correct them. In this blog post, I give a brief overview of policy concepts and show you how to create a new policy by using the visual editor.</p> 
<h3>IAM policy concepts</h3> 
<p>You use IAM policies to define permissions for your IAM entities (<a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_groups.html" target="_blank" rel="noopener noreferrer">groups</a>, <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html" target="_blank" rel="noopener noreferrer">users</a>, and <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html" target="_blank" rel="noopener noreferrer">roles</a>). <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html" target="_blank" rel="noopener noreferrer">Policies</a> are composed of one or more <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_statement.html" target="_blank" rel="noopener noreferrer">statements</a> that include the following elements:</p> 
<li><a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_effect.html" target="_blank" rel="noopener noreferrer">Effect</a>: Determines if a policy statement allows or explicitly denies access.</li> 
<li><a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_action.html" target="_blank" rel="noopener noreferrer">Action</a>: Defines AWS service actions in a policy (these typically map to individual AWS APIs.)</li> 
<li><a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html" target="_blank" rel="noopener noreferrer">Resource</a>: Defines the AWS resources to which actions can apply. The defined resources must be supported by the actions defined in the <span style="font-family: courier">Action</span> element for permissions to be granted.</li> 
<li><a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html" target="_blank" rel="noopener noreferrer">Condition</a>: Defines when a permission is allowed or denied. The conditions defined in a policy must be supported by the actions defined in the <span style="font-family: courier">Action</span> element for the permission to be granted.</li> 
<p>To grant permissions, you attach policies to groups, users, or roles. Now that I have reviewed the <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html" target="_blank" rel="noopener noreferrer">elements of a policy</a>, I will demonstrate how to create an IAM policy&nbsp;with the visual editor.<span id="more-5967"></span></p> 
<h3>How to create an IAM policy with the visual editor</h3> 
<p>Let’s say my human resources (HR) recruiter, Casey, needs to review files located in an <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">Amazon S3</a> bucket for all the product manager (PM) candidates our HR team has interviewed in 2017. To grant this access, I will create and attach a policy to <span style="font-family: courier">Casey</span> that grants list and <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_understand-policy-summary-access-level-summaries.html" target="_blank" rel="noopener noreferrer">limited</a> read access to all folders that begin with <span style="font-family: courier">PM_Candidate</span> in the <span style="font-family: courier">pmrecruiting2017</span> S3 bucket. To create this new policy, I navigate to the <strong>Policies</strong> page in the <a href="https://console.aws.amazon.com/iam/home" target="_blank" rel="noopener noreferrer">IAM console</a> and choose <strong>Create policy</strong>. Note that I could also use the visual editor to modify existing policies by choosing <strong>Import existing policy</strong>; however, for <span style="font-family: courier">Casey</span>, I will create a new policy.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/12/JC1_Createpolicy_1117.png" /></p> 
<p>On the <strong>Visual editor</strong> tab, I see a section that includes <strong>Service</strong>, <strong>Actions</strong>, <strong>Resources</strong>, and <strong>Request Conditions</strong>.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/14/JC2_1117.jpg" /></p> 
<h3>Select a service</h3> 
<p>To grant S3 permissions, I choose <strong>Select a service</strong>, type S3 in the search box, and choose <strong>S3</strong> from the list.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/14/JC3_1117_a.jpg" /></p> 
<h3>Select actions</h3> 
<p>After selecting <strong>S3</strong>, I can define actions for <span style="font-family: courier">Casey</span> by using one of four options:</p> 
<ol> 
<li>Filter actions in the service by using the search box.</li> 
<li>Type actions by choosing <strong>Add action</strong>&nbsp;next to <strong>Manual actions</strong>. For example, I can type <span style="font-family: courier">List*</span> to grant all S3 actions that begin with <span style="font-family: courier">List*</span>.</li> 
<li>Choose <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_understand-policy-summary-access-level-summaries.html" target="_blank" rel="noopener noreferrer">access levels</a> from <strong>List</strong>, <strong>Read</strong>, <strong>Write</strong>, <strong>Permissions management</strong>, and <strong>Tagging</strong>.</li> 
<li>Select individual actions by expanding each access level.</li> 
</ol> 
<p style="padding-left: 30px">In the following screenshot, I choose options 3 and 4, and choose <span style="font-family: courier">List</span> and <span style="font-family: courier">s3:GetObject</span> from the <strong>Read</strong> access level.</p> 
<p style="padding-left: 30px"><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/14/JC4_1117.jpg" /></p> 
<p>We introduced access levels when we launched <a href="https://aws.amazon.com/blogs/security/move-over-json-policy-summaries-make-understanding-iam-policies-easier/" target="_blank" rel="noopener noreferrer">policy summaries</a> earlier in 2017. Access levels give you a way to categorize actions and help you understand the permissions in a policy. The following table gives you a quick overview of access levels.</p> 
<table border="1" cellpadding="5"> 
<tbody> 
<tr> 
<td width="129"><strong>Access level</strong></td> 
<td width="279"><strong>Description</strong></td> 
<td width="279"><strong>Example actions</strong></td> 
</tr> 
<tr> 
<td width="129"><span style="font-family: courier">List</span></td> 
<td width="279">Actions that allow you to see a list of resources</td> 
<td width="279"><span style="font-family: courier">s3:ListBucket</span>, <span style="font-family: courier">s3:ListAllMyBuckets</span></td> 
</tr> 
<tr> 
<td width="129"><span style="font-family: courier">Read</span></td> 
<td width="279">Actions that allow you to read the content in resources</td> 
<td width="279"><span style="font-family: courier">s3:GetObject</span>, <span style="font-family: courier">s3:GetBucketTagging</span></td> 
</tr> 
<tr> 
<td width="129"><span style="font-family: courier">Write</span></td> 
<td width="279">Actions that allow you to create, delete, or modify resources</td> 
<td width="279"><span style="font-family: courier">s3:PutObject</span>, <span style="font-family: courier">s3:DeleteBucket</span></td> 
</tr> 
<tr> 
<td width="129"><span style="font-family: courier">Permissions management</span></td> 
<td width="279">Actions that allow you to grant or modify permissions to resources</td> 
<td width="279"><span style="font-family: courier">s3:PutBucketPolicy</span></td> 
</tr> 
<tr> 
<td width="129"><span style="font-family: courier">Tagging</span></td> 
<td width="279">Actions that allow you to create, delete, or modify tags<br /> <strong>Note:</strong> Some services support <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html" target="_blank" rel="noopener noreferrer">authorization based on tags</a>.</td> 
<td width="279"><span style="font-family: courier">s3:PutBucketTagging</span>, <span style="font-family: courier">s3:DeleteObjectVersionTagging</span></td> 
</tr> 
</tbody> 
</table> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/JC5_1117_b.jpg" /></p> 
<p><strong>Note:</strong> By default, all actions you choose will be allowed. To deny actions, choose <strong>Switch to deny permissions&nbsp;</strong>in the upper right corner of the <strong>Actions</strong> section.</p> 
<p>As shown in the preceding screenshot, if I choose the question mark icon next to <span style="font-family: courier">GetObject</span>, I can see the description and supported resources and conditions for this action, which can help me scope permissions.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/14/JC6_1117.jpg" /></p> 
<p>The visual editor makes it easy to decide which actions I should select by providing in an integrated documentation panel the action description, supported resources or conditions, and any <a href="https://docs.aws.amazon.com/console/iam/policies-dependent-actions" target="_blank" rel="noopener noreferrer">required actions</a> for every AWS service action. Some AWS service actions have required actions, which are other AWS service actions that need to be granted in a policy for an action to run. For example, the AWS Directory Service action, <span style="font-family: courier">ds:CreateDirectory</span>, requires seven Amazon EC2 actions to be able to create a Directory Service directory.</p> 
<h3>Choose resources</h3> 
<p>In the <strong>Resources</strong> section, I can choose the resources on which actions can be taken. I choose <strong>Resources</strong> and see two ways that I can define or select resources:</p> 
<ol> 
<li>Define specific resources</li> 
<li>Select all resources</li> 
</ol> 
<p><strong>Specific</strong> is the default option, and only the applicable resources are presented based on the service and actions I chose previously. Because I want to grant <span style="font-family: courier">Casey</span> access to some objects in a specific bucket, I choose <strong>Specific </strong> and choose <strong>Add ARN</strong> under <strong>bucket</strong>.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/14/JC7_1117_a.jpg" /></p> 
<p>In the pop-up, I type the bucket name, <span style="font-family: courier">pmrecruiting2017</span>, and choose <strong>Add</strong> to specify the S3 bucket resource.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/14/JC8_1117.jpg" /></p> 
<p>To specify the objects, I choose <strong>Add ARN</strong> under <strong>object</strong> and grant <span style="font-family: courier">Casey</span> access to all objects starting with <span style="font-family: courier">PM_Candidate</span> in the <span style="font-family: courier">pmrecruiting2017</span> bucket. The visual editor helps you build your <a href="http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html" target="_blank" rel="noopener noreferrer">Amazon Resource Name (ARN)</a> and validates that it is structured correctly. For AWS services that are AWS Region specific, the visual editor prompts for AWS Region and account number.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/JC9_1117_a.jpg" /></p> 
<p>The visual editor displays all applicable resources in the <strong>Resources</strong> section based on the actions I choose. For <span style="font-family: courier">Casey</span>,&nbsp;I defined an S3 bucket and object in the <strong>Resources</strong>&nbsp;section. In this example, when the visual editor creates the policy, it&nbsp;creates three statements. The first statement includes all actions that require&nbsp;a wildcard (*) for the <span style="font-family: courier">Resource</span> element because this action does not support resource-level permissions. The second statement includes all S3 actions&nbsp;that support an S3 bucket. The third statement includes all actions that support an S3 object resource. The visual editor generates policy syntax for you based on supported permissions in AWS services.</p> 
<h3>Specify request conditions</h3> 
<p>For <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#use-policy-conditions" target="_blank" rel="noopener noreferrer">additional security</a>, I specify a condition to restrict access to the S3 bucket from inside our internal network. To do this, I choose <strong>Specify request conditions</strong> in the <strong>Request Conditions</strong> section, and choose the&nbsp;<strong>Source IP </strong>check box. A condition is&nbsp;composed of a <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" target="_blank" rel="noopener noreferrer">condition key, an operator, and a value</a>. I choose <span style="font-family: courier">aws:SourceIp</span> for my&nbsp;<strong>Key</strong>&nbsp;so that I can control from where the S3 files can be accessed. By default,&nbsp;<span style="font-family: courier">IpAddress</span>&nbsp;is the&nbsp;<strong>Operator</strong>, and I set the <strong>Value</strong> to my internal network.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/14/JC10.5_1117_a.jpg" /></p> 
<p>To add other conditions, choose <strong>Add condition</strong> and choose <strong>Save changes</strong> after choosing the key, operator, and value.</p> 
<p>After specifying my request condition, I am now able to review all the elements of these S3 permissions.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/14/JC10_1117_a.jpg" /></p> 
<p>Next, I can choose to grant permissions for another service by choosing <strong>Add new permissions</strong> (bottom left of preceding screenshot), or I can review and create this new policy. Because I have granted all the permissions <span style="font-family: courier">Casey</span> needs, I choose <strong>Review policy</strong>. I type a name and a description, and I review the policy summary before choosing <strong>Create policy</strong>.<strong>&nbsp;</strong></p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/JC12-_Reviewpolicy_1117-a.png" /></p> 
<p>Now that I have created the policy, I attach it to <span style="font-family: courier">Casey</span> by choosing the <strong>Attached entities</strong> tab of the policy I just created. I choose <strong>Attach </strong>and&nbsp;choose&nbsp;<strong><span style="font-family: courier">Casey</span></strong>. I then choose <strong>Attach policy</strong>. <span style="font-family: courier">Casey</span> should now be able to access the interview files she needs to review.</p> 
<h3>Summary</h3> 
<p>The visual editor makes it easier to create and modify your IAM policies by guiding you through each element of the policy. The visual editor helps you define resources and request conditions so that you can <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#grant-least-privilege" target="_blank" rel="noopener noreferrer">grant least privilege</a>&nbsp;and generate policies. To start using the visual editor, sign in to the <a href="https://console.aws.amazon.com/iam/home?#/home" target="_blank" rel="noopener noreferrer">IAM console</a>, navigate to the <strong>Policies</strong> page, and choose <strong>Create policy</strong>.</p> 
<p>If you have comments about this post, submit them in the “Comments” section below. If you have questions about or suggestions for this solution, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=76" target="_blank" rel="noopener noreferrer">IAM forum</a>.</p> 
<p>– Joy</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5967');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/10/SOC_New_111017_sm.jpg" /> 
<b class="lb-b blog-post-title" property="name headline">Updated AWS SOC Reports Are Now Available with 19 Additional Services in Scope</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Chad Woolf</span></span> | on 
<time property="datePublished" datetime="2017-11-10T16:39:22+00:00">10 NOV 2017</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/compliance/" title="View all posts in Compliance*"><span property="articleSection">Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/updated-aws-soc-reports-are-now-available-with-19-additional-services-in-scope/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-5912" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=5912&amp;disqus_title=Updated+AWS+SOC+Reports+Are+Now+Available+with+19+Additional+Services+in+Scope&amp;disqus_url=https://aws.amazon.com/blogs/security/updated-aws-soc-reports-are-now-available-with-19-additional-services-in-scope/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5912');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/10/SOC_New_111017_sm.jpg" /></p> 
<p>Newly updated reports are available for AWS System and Organization Control Report 1 (SOC 1), formerly called AWS Service Organization Control Report 1, and AWS SOC 2: Security, Availability, &amp; Confidentiality Report. You can download both reports for free and on demand in the <a href="https://console.aws.amazon.com/console/home" target="_blank" rel="noopener noreferrer">AWS Management Console</a> through <a href="https://console.aws.amazon.com/artifact/home" target="_blank" rel="noopener noreferrer">AWS Artifact</a>. The updated <a href="https://d1.awsstatic.com/whitepapers/compliance/AWS_SOC3.pdf" target="_blank" rel="noopener noreferrer">AWS SOC 3: Security, Availability, &amp; Confidentiality Report</a> also was just released. All three reports cover April 1, 2017, through September 30, 2017.</p> 
<p>With the addition of the following 19 services, AWS now supports 51 SOC-compliant AWS services and is committed to&nbsp;increasing the number:</p> 
<li>Amazon API Gateway</li> 
<li>Amazon Cloud Directory</li> 
<li>Amazon CloudFront</li> 
<li>Amazon Cognito</li> 
<li>Amazon Connect</li> 
<li>AWS Directory Service for Microsoft Active Directory</li> 
<li>Amazon EC2 Container Registry</li> 
<li>Amazon EC2 Container Service</li> 
<li>Amazon EC2 Systems Manager</li> 
<li>Amazon Inspector</li> 
<li>AWS IoT Platform</li> 
<li>Amazon Kinesis Streams</li> 
<li>AWS Lambda</li> 
<li>AWS Lambda@Edge</li> 
<li>AWS Managed Services</li> 
<li>Amazon S3 Transfer Acceleration</li> 
<li>AWS Shield</li> 
<li>AWS Step Functions</li> 
<li>AWS WAF</li> 
<p>With this release, we also are introducing&nbsp;a separate spreadsheet, eliminating the need to extract the information from multiple PDFs.</p> 
<p>If you are not yet an AWS customer, contact <a href="https://pages.awscloud.com/compliance-contact-us.html">AWS Compliance</a> to access the SOC Reports.</p> 
<p>– Chad</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5912');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/webinar_banner1.png" /> 
<b class="lb-b blog-post-title" property="name headline">Now Better Together! Register for and Attend this November 15 Tech Talk: “How to Integrate AWS Directory Service with Office 365”</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><a href="https://aws.amazon.com/blogs/security/author/clieb/" title="Posts by Craig Liebendorfer" property="name">Craig Liebendorfer</a></span> | on 
<time property="datePublished" datetime="2017-11-08T11:01:47+00:00">08 NOV 2017</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-directory-service/" title="View all posts in AWS Directory Service*"><span property="articleSection">AWS Directory Service*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/events/" title="View all posts in Events*"><span property="articleSection">Events*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/now-better-together-register-for-and-attend-this-november-15-tech-talk-how-to-integrate-aws-directory-service-with-office-365/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-5900" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=5900&amp;disqus_title=Now+Better+Together%21+Register+for+and+Attend+this+November+15+Tech+Talk%3A+%26%238220%3BHow+to+Integrate+AWS+Directory+Service+with+Office+365%26%238221%3B&amp;disqus_url=https://aws.amazon.com/blogs/security/now-better-together-register-for-and-attend-this-november-15-tech-talk-how-to-integrate-aws-directory-service-with-office-365/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5900');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p><img width="100%" src="https://d0.awsstatic.com/Digital%20Marketing/Webinar/webinar_banner.png" /></p> 
<p><strong>Update:</strong> The <a href="https://nam03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DgSXLxqnjUSA&amp;data=02%7C01%7Cclieb%40live.com%7Cbc30a13f707e4643086508d52d1ae77a%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C636464515929469040&amp;sdata=t%2B4TpBSK74qhk%2FPXKc3B4CqyXg08fKBys7txUbWkY4%3D&amp;reserved=0" target="_blank" rel="noopener noreferrer">on-demand recording</a> and <a href="https://nam03.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.slideshare.net%2FAmazonWebServices%2Fhow-to-integrate-aws-directory-service-with-office365-aws-online-tech-talks%3Fqid%3Df7853243-ae28-4771-b44a-b826085a40ef%26v%3D%26b%3D%26from_search%3D1&amp;data=02%7C01%7Cclieb%40live.com%7Cbc30a13f707e4643086508d52d1ae77a%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C636464515929469040&amp;sdata=a%2FcFqi6CCLKSgHoG9AieIwWgFJVzsCQeSFvQEipvcH8%3D&amp;reserved=0" target="_blank" rel="noopener noreferrer">slide deck</a> are now available.</p> 
<hr /> 
<p>As part of the AWS Online Tech Talks series, AWS will present&nbsp;<a href="https://pages.awscloud.com/registration_111517_How-to-Integrate-AWS-Directory-Service-with-Office365.html" target="_blank" rel="noopener noreferrer">How to Integrate AWS Directory Service with Office 365</a>&nbsp;on Wednesday, November 15. This tech talk will start at 9:00 A.M. Pacific Time and end at 9:40 A.M. Pacific Time.</p> 
<p>If you want to support Active Directory–aware workloads in AWS and Office 365 simultaneously using a managed Active Directory in the cloud, you need a nonintuitive integration to synchronize identities between deployments. AWS has recently introduced the ability for you to authenticate your Office 365 permissions using AWS Directory Service for Microsoft Active Directory (AWS Managed Microsoft AD) by using a custom configuration of Active Directory Federation Services (AD FS). In this webinar, AWS Directory Service Product Manager Ron Cully shows how to configure your AWS Managed Microsoft AD environment to synchronize with Office 365. He will provide detailed configuration settings, architectural considerations, and deployment steps for a highly available, secure, and easy-to-manage solution in the AWS Cloud.</p> 
<p>You also will learn how to:</p> 
<li>Deploy AWS Managed Microsoft AD.</li> 
<li>Deploy Microsoft Azure AD Connect and AD FS with AWS Managed Microsoft AD.</li> 
<li>Authenticate user access to Office 365 by using AWS Managed Microsoft AD.</li> 
<p>This tech talk is free.&nbsp;<a href="https://pages.awscloud.com/registration_111517_How-to-Integrate-AWS-Directory-Service-with-Office365.html" target="_blank" rel="noopener noreferrer">Register today</a>.</p> 
<p>–&nbsp;Craig</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5900');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/HIPAA1.png" /> 
<b class="lb-b blog-post-title" property="name headline">Amazon ElastiCache for Redis Is Now a HIPAA Eligible Service and You Can Use It to Power Real-Time Healthcare Applications</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Manan Goel</span></span> | on 
<time property="datePublished" datetime="2017-11-02T15:45:47+00:00">02 NOV 2017</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/database/amazon-elasticache/" title="View all posts in Amazon ElastiCache*"><span property="articleSection">Amazon ElastiCache*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/compliance/" title="View all posts in Compliance*"><span property="articleSection">Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/now-you-can-use-amazon-elasticache-for-redis-a-hipaa-eligible-service-to-power-real-time-healthcare-applications/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-5825" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=5825&amp;disqus_title=Amazon+ElastiCache+for+Redis+Is+Now+a+HIPAA+Eligible+Service+and+You+Can+Use+It+to+Power+Real-Time+Healthcare+Applications&amp;disqus_url=https://aws.amazon.com/blogs/security/now-you-can-use-amazon-elasticache-for-redis-a-hipaa-eligible-service-to-power-real-time-healthcare-applications/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5825');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p style="text-align: center"><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/10/30/HIPAA.png" /></p> 
<p><a href="https://aws.amazon.com/elasticache/redis/" target="_blank" rel="noopener noreferrer">Amazon ElastiCache for Redis</a> is now a <a href="https://aws.amazon.com/compliance/hipaa-eligible-services-reference/" target="_blank" rel="noopener noreferrer">HIPAA Eligible Service</a> and has been added to the <a href="https://aws.amazon.com/compliance/hipaa-compliance/" target="_blank" rel="noopener noreferrer">AWS Business Associate Addendum</a> (BAA). This means you can use ElastiCache for Redis to help you power healthcare applications as well as process, maintain, and store protected health information (PHI). ElastiCache for Redis is a Redis-compatible, fully-managed, in-memory data store and cache in the cloud that provides sub-millisecond latency to power applications. Now you can use the speed, simplicity, and flexibility of ElastiCache for Redis to build secure, fast, and internet-scale healthcare applications.</p> 
<p>ElastiCache for Redis with HIPAA eligibility is available for all current-generation instance node types and requires <a href="http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/SelectEngine.RedisVersions.html#SelectEngine.RedisVersions.RedisVersions.3-2-6" target="_blank" rel="noopener noreferrer">Redis engine version 3.2.6</a>. You must ensure that nodes are configured to encrypt the data <a href="http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/in-transit-encryption.html#in-transit-encryption-enable" target="_blank" rel="noopener noreferrer">in transit</a> and <a href="http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/at-rest-encryption.html#at-rest-encryption-enable" target="_blank" rel="noopener noreferrer">at rest</a>, and to authenticate Redis commands before the engine executes them. See&nbsp;<a href="https://d0.awsstatic.com/whitepapers/compliance/AWS_HIPAA_Compliance_Whitepaper.pdf" target="_blank" rel="noopener noreferrer">Architecting for HIPAA Security and Compliance on Amazon Web Services</a> for information about how to configure Amazon HIPAA Eligible Services to store, process, and transmit PHI.</p> 
<p>ElastiCache for Redis uses <a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard" target="_blank" rel="noopener noreferrer">Advanced Encryption Standard</a> (AES)-512 symmetric keys to encrypt data on disk. The Redis backups stored in <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">Amazon S3</a> are encrypted with <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html" target="_blank" rel="noopener noreferrer">server-side encryption</a> (SSE) using AES-256 symmetric keys. ElastiCache for Redis uses <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security" target="_blank" rel="noopener noreferrer">Transport Layer Security</a> (TLS) to encrypt data in transit. It uses the Redis AUTH token that you provide at the time of Redis cluster creation to authenticate the Redis commands coming from clients. The AUTH token is encrypted using <a href="https://aws.amazon.com/kms/" target="_blank" rel="noopener noreferrer">AWS Key Management Service</a>.</p> 
<p>There is no additional charge for using ElastiCache for Redis clusters with HIPAA eligibility. To get started, see <a href="https://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/elasticache-compliance-hipaa.html" target="_blank" rel="noopener noreferrer">HIPAA Compliance for Amazon ElastiCache for Redis</a>.</p> 
<p>– Manan</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5825');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/FINAL_Dashboard_RM_1117_a1-642x630.png" /> 
<b class="lb-b blog-post-title" property="name headline">Now You Can Monitor DDoS Attack Trends with AWS Shield Advanced</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Ritwik Manan</span></span> | on 
<time property="datePublished" datetime="2017-11-01T12:41:45+00:00">01 NOV 2017</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-shield/" title="View all posts in AWS Shield*"><span property="articleSection">AWS Shield*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/now-you-can-monitor-ddos-attack-trends-with-aws-shield-advanced/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-5831" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=5831&amp;disqus_title=Now+You+Can+Monitor+DDoS+Attack+Trends+with+AWS+Shield+Advanced&amp;disqus_url=https://aws.amazon.com/blogs/security/now-you-can-monitor-ddos-attack-trends-with-aws-shield-advanced/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5831');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p>AWS Shield Advanced has always notified you about <a href="https://aws.amazon.com/shield/ddos-attack-protection/">DDoS attacks</a> on your applications via the AWS Management Console and API as well as Amazon CloudWatch metrics. Today, we added the global threat environment dashboard to <a href="https://aws.amazon.com/shield/tiers/">AWS Shield Advanced</a> to allow you to view trends and metrics about DDoS attacks across <a href="https://aws.amazon.com/cloudfront/" target="_blank" rel="noopener noreferrer">Amazon CloudFront</a>, Elastic Load Balancing, and Amazon Route 53. This information can help you understand the DDoS target profile of the AWS&nbsp;services you use and, in turn, can help you create a more resilient and distributed architecture for your application.</p> 
<p>The global threat environment dashboard shows comprehensive and easy-to-understand data about DDoS attacks. The dashboard displays a summary of the global threat environment, including the largest attacks, top vectors, and the relative number of significant attacks. You also can view the dashboard for different time durations to give you a history of DDoS attacks.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/01/FINAL_Dashboard_RM_1117_a.png" /></p> 
<p>To get started with the global threat environment dashboard:</p> 
<ol> 
<li>Sign in to the <a href="https://console.aws.amazon.com/console/home" target="_blank" rel="noopener noreferrer">AWS Management Console</a> and navigate to the <a href="https://console.aws.amazon.com/waf/home" target="_blank" rel="noopener noreferrer">AWS WAF and AWS Shield console</a>.</li> 
<li>To activate AWS Shield Advanced,&nbsp;choose&nbsp;<strong>Protected resources</strong> in the navigation pane,&nbsp;choose&nbsp;<strong>Activate AWS Shield Advanced</strong>, and then accept the terms by typing&nbsp;<span style="font-family: courier">I accept</span>.</li> 
<li>Navigate to the global threat environment dashboard through the navigation pane.</li> 
<li>Choose your desired time period from the time period drop-down menu in the top right part of the page.</li> 
</ol> 
<p>You can use the information on the global threat environment dashboard to understand the threat landscape as well as to inform decisions&nbsp;you make that will help to better protect your AWS resources.</p> 
<p>To learn more information, see <a href="https://aws.amazon.com/about-aws/whats-new/2017/11/global-threat-environment-dashboard-view-ddos-attack-trends-across-aws/" target="_blank" rel="noopener noreferrer">Global Threat Environment Dashboard: View DDoS Attack Trends Across AWS</a>.</p> 
<p>– Ritwik</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5831');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/Marketo_1200x350_NYC_1200x25011.png" /> 
<b class="lb-b blog-post-title" property="name headline">Join Us for AWS Security Week November 6–9 in New York City</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><a href="https://aws.amazon.com/blogs/security/author/clieb/" title="Posts by Craig Liebendorfer" property="name">Craig Liebendorfer</a></span> | on 
<time property="datePublished" datetime="2017-11-01T09:52:44+00:00">01 NOV 2017</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/events/" title="View all posts in Events*"><span property="articleSection">Events*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/federation/" title="View all posts in Federation"><span property="articleSection">Federation</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/join-us-for-aws-security-week-november-6-9-in-new-york-city/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-5865" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=5865&amp;disqus_title=Join+Us+for+AWS+Security+Week+November+6%E2%80%939+in+New+York+City&amp;disqus_url=https://aws.amazon.com/blogs/security/join-us-for-aws-security-week-november-6-9-in-new-york-city/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5865');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/10/05/Marketo_1200x350_NYC_1200x2501.png" /></p> 
<p>Want to learn how to securely deploy applications and services in the AWS Cloud? Join us in&nbsp;New York City at the AWS Pop-up Loft for <a href="https://pages.awscloud.com/namer_ny-security_november_2017_RegistrationPage.html" target="_blank" rel="noopener noreferrer">AWS Security Week</a>, November 6–9. At this free technical event,&nbsp;you will learn security concepts and strategies from AWS security professionals in sessions, demos, and labs.</p> 
<p>Here is a sampling of the security offerings during the week:</p> 
<li>Become a Cloud Security Ninja</li> 
<li>Data Protection in Transit and at Rest</li> 
<li>Soup to Nuts: Identity Federation for AWS</li> 
<li>Brewing an Effective Cloud Security Strategy</li> 
<p>Learn more about the available sessions and <a href="https://pages.awscloud.com/namer_ny-security_november_2017_RegistrationPage.html" target="_blank" rel="noopener noreferrer">register</a>!</p> 
<p>– Craig</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5865');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/AWSCertificateManager_2b1.png" /> 
<b class="lb-b blog-post-title" property="name headline">How to Prepare for AWS’s Move to Its Own Certificate Authority</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Jonathan Kozolchyk</span></span> | on 
<time property="datePublished" datetime="2017-10-30T06:57:55+00:00">30 OCT 2017</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-certificate-manager/" title="View all posts in AWS Certificate Manager*"><span property="articleSection">AWS Certificate Manager*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-prepare-for-aws-move-to-its-own-certificate-authority/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-5777" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=5777&amp;disqus_title=How+to+Prepare+for+AWS%26%238217%3Bs+Move+to+Its+Own+Certificate+Authority&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-prepare-for-aws-move-to-its-own-certificate-authority/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5777');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p style="text-align: center"><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/10/25/AWSCertificateManager_2b.png" /></p> 
<p>Transport Layer Security (TLS, formerly called Secure Sockets Layer [SSL]) is essential for encrypting information that is exchanged on the internet. For example, Amazon.com uses TLS for all traffic on its website, and AWS uses it to secure calls to AWS services.</p> 
<p>An electronic document called a <em>certificate</em>&nbsp;verifies the identity of the server when creating such an encrypted connection. The certificate helps establish proof that your web browser is communicating securely with the website that you typed in your browser’s address field. <em>Certificate Authorities</em>, also known as CAs, issue certificates to specific domains. When a domain presents a certificate that is issued by a trusted CA, your browser or application knows it’s safe to make the connection.</p> 
<p>In January 2016, AWS launched <a href="https://aws.amazon.com/acm/" target="_blank" rel="noopener noreferrer">AWS Certificate Manager</a> (ACM), a service that lets you easily provision, manage, and deploy SSL/TLS certificates for use with AWS services. These certificates are available for no additional charge through Amazon’s own CA: <a href="https://www.amazontrust.com/repository/" target="_blank" rel="noopener noreferrer">Amazon Trust Services</a>. For browsers and other applications to trust a certificate, the certificate’s issuer must be included in the browser’s <em>trust store</em>, which is a list of trusted CAs. If the issuing CA is not in the trust store, the browser will display an error message (see an <a href="https://untrusted-root.badssl.com/" target="_blank" rel="noopener noreferrer">example</a>) and applications will show an application-specific error. To ensure the ubiquity of the Amazon Trust Services CA, AWS purchased the Starfield Services CA, a root found in most browsers and which has been valid since 2005. This means you shouldn’t have to take any action to use the certificates issued by Amazon Trust Services.</p> 
<p>AWS has been offering free certificates to AWS customers from the Amazon Trust Services CA. Now, AWS is in the process of moving certificates for services such as <a href="https://aws.amazon.com/ec2/" target="_blank" rel="noopener noreferrer">Amazon EC2</a> and <a href="https://aws.amazon.com/dynamodb/" target="_blank" rel="noopener noreferrer">Amazon DynamoDB</a> to use certificates from Amazon Trust Services as well. Most software doesn’t need to be changed to handle this transition, but there are exceptions. In this blog post, I show you how to verify that you are prepared to use the Amazon Trust Services CA.</p> 
<h3>How to tell if the Amazon Trust Services CAs are in your trust store</h3> 
<p>The following table lists the Amazon Trust Services certificates. To verify that these certificates are in your browser’s trust store, click each Test URL in the following table to verify that it works for you. When a Test URL does not work, it displays an error similar to <a href="https://untrusted-root.badssl.com/" target="_blank" rel="noopener noreferrer">this example</a>.<span id="more-5777"></span></p> 
<table border="1" width="475" cellpadding="5"> 
<tbody> 
<tr> 
<td><strong>Distinguished name</strong></td> 
<td><strong>SHA-256 hash of subject public key information</strong></td> 
<td><strong>Test URL</strong></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Amazon Root CA 1,O=Amazon,C=US</span></td> 
<td><span style="font-family: courier">fbe3018031f9586bcbf41727e417b7d1c45c2f47f93be372a17b96b50757d5a2</span></td> 
<td><a href="https://good.sca1a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Amazon Root CA 2,O=Amazon,C=US</span></td> 
<td><span style="font-family: courier">7f4296fc5b6a4e3b35d3c369623e364ab1af381d8fa7121533c9d6c633ea2461</span></td> 
<td><a href="https://good.sca2a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Amazon Root CA 3,O=Amazon,C=US</span></td> 
<td><span style="font-family: courier">36abc32656acfc645c61b71613c4bf21c787f5cabbee48348d58597803d7abc9</span></td> 
<td><a href="https://good.sca3a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Amazon Root CA 4,O=Amazon,C=US</span></td> 
<td><span style="font-family: courier">f7ecded5c66047d28ed6466b543c40e0743abe81d109254dcf845d4c2c7853c5</span></td> 
<td><a href="https://good.sca4a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Starfield Services Root Certificate Authority – G2,O=Starfield Technologies\, Inc.,L=Scottsdale,ST=Arizona,C=US</span></td> 
<td><span style="font-family: courier">2b071c59a0a0ae76b0eadb2bad23bad4580b69c3601b630c2eaf0613afa83f92</span></td> 
<td><a href="https://good.sca0a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">Starfield&nbsp;Root Certificate Authority – G2</span></td> 
<td><span style="font-family: courier">2ce1cb0bf9d2f9e102993fbe215152c3b2dd0cabde1c68e5319b839154dbb7f5</span></td> 
<td><a href="https://starfieldtech.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
</tbody> 
</table> 
<h3>What to do if the Amazon Trust Services CAs are not in your trust store</h3> 
<p>If your tests of any of the Test URLs failed, you must update your trust store. The easiest way to update your trust store is to upgrade the operating system or browser that you are using.</p> 
<p>You will find the Amazon Trust Services CAs in the following operating systems (release dates are in parentheses):</p> 
<li>Microsoft Windows versions that have January 2005 or later updates installed, Windows Vista, Windows 7, Windows Server 2008, and newer versions</li> 
<li>Mac OS X 10.4 with Java for Mac OS X 10.4 Release 5, Mac OS X 10.5 and newer versions</li> 
<li>Red Hat Enterprise Linux 5 (March 2007), Linux 6, and Linux 7 and CentOS 5, CentOS 6, and CentOS 7</li> 
<li>Ubuntu 8.10</li> 
<li>Debian 5.0</li> 
<li>Amazon Linux (all versions)</li> 
<li>Java 1.4.2_12, Java 5 update 2, and all newer versions, including Java 6, Java 7, and Java 8</li> 
<p>All modern browsers trust Amazon’s CAs. You can update the certificate bundle in your browser simply by updating your browser. You can find instructions for updating the following browsers on their respective websites:</p> 
<li><a href="https://support.google.com/chrome/answer/95414?hl=en" target="_blank" rel="noopener noreferrer">Chrome</a></li> 
<li><a href="https://support.mozilla.org/en-US/kb/update-firefox-latest-version" target="_blank" rel="noopener noreferrer">Firefox</a></li> 
<li><a href="https://support.apple.com/en-us/HT204416" target="_blank" rel="noopener noreferrer">Safari</a></li> 
<li>The Windows operating system manages certificate bundles for <a href="http://windows.microsoft.com/en-us/internet-explorer/which-version-am-i-using#ie=other" target="_blank" rel="noopener noreferrer">Internet Explorer and Microsoft Edge</a>, so you must update Windows as well.</li> 
<p>If your application is using a custom trust store, you must add the <a href="https://www.amazontrust.com/repository/" target="_blank" rel="noopener noreferrer">Amazon root CAs</a> to your application’s trust store. The instructions for doing this vary based on the application or platform. Please refer to the documentation for the application or platform you are using.</p> 
<h4>AWS SDKs and CLIs</h4> 
<p>Most&nbsp;<a href="https://aws.amazon.com/tools/" target="_blank" rel="noopener noreferrer">AWS SDKs and CLIs</a> are not impacted by the transition to the Amazon Trust Services CA. If you are using a version of the Python AWS SDK or CLI released before October 29, 2013, you&nbsp;must upgrade. The .NET, Java, PHP, Go, JavaScript, and C++ SDKs and CLIs do not bundle any certificates, so their certificates come from the underlying operating system. The Ruby SDK has included at least one of the required CAs since June 10, 2015. Before that date, the Ruby V2 SDK did not bundle certificates.</p> 
<h3>Certificate pinning</h3> 
<p>If you are using a technique called <em>certificate pinning</em> to lock down the CAs you trust on a domain-by-domain basis, you must adjust your pinning to include the Amazon Trust Services CAs. Certificate pinning helps defend you from an attacker&nbsp;using&nbsp;misissued certificates to fool an application into creating a connection to a spoofed host (an illegitimate host masquerading as a legitimate host). The restriction to a specific, pinned certificate is made by checking that the certificate issued is the expected certificate. This is done by checking that the hash of the certificate public key received from the server matches the expected hash stored in the application. If the hashes do not match, the code stops the connection.</p> 
<p>AWS recommends against using certificate pinning because it introduces a potential availability risk. If the certificate to which you pin is replaced, your application will fail to connect. If your use case requires pinning, we&nbsp;recommend that you pin to a CA rather than to an individual certificate. If you are pinning to an Amazon Trust Services CA, you should pin to all&nbsp;CAs shown in the table earlier in this post.</p> 
<p>If you have comments about this post, submit them in the “Comments” section below. If you have questions about this post, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=206" target="_blank" rel="noopener noreferrer">ACM forum</a>.</p> 
<p>– Jonathan</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5777');
});
</script> 
</article> 
<p>
© 2018 Amazon Web Services, Inc. or its affiliates. All rights reserved.
</p>

    </div>
  </div>
</div>


    <div id="footer" class="navigation hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <ul class="footer-links nav navbar-nav">
              <li><a href="../aws.html">AWS</a></li>
              <li><a href="../linux.html">Linux</a></li>
              <li><a href="../docker.html">Docker</a></li>
              <li><a href="../ibmpower.html">IBM Power</a></li>
              <li><a href="blogsataws1.html">Blogs@AWS (Kindle Friendly)</a></li>
            </ul>
            <ul class="footer-links nav navbar-nav navbar-right">
              <li><a href="../comments.html">Comments?</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
