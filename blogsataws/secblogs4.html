<!DOCTYPE html>
<html lang="en">
  <head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-593498H');</script>
<!-- End Google Tag Manager -->

    <meta charset="utf-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <meta name="msapplication-config" content="/microsoft-tile.xml" />
    <meta name="theme-color" content="#ffffff">

    <meta property="og:url" content="https://bejoycalias.github.io/blogsataws/secblogs1.html" />
    <meta property="og:site_name" content="Bejoy's TechNotes"/>
    <meta property="og:title" content="Bejoy's TechNotes - Security Blogs @ AWS" />
    <meta property="og:image" content="https://bejoycalias.github.io/assets/images/og-image.png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="1200"/>
    <meta property="og:description" content="" />

    <title>Bejoy's TechNotes - Security Blogs @ AWS</title>
    <link href="../assets/stylesheets/application-832aa42c.css" rel="stylesheet" />

    <!--[if lt IE 9]>
      <script src="../assets/javascripts/ie-compat-c141a02d.js"></script>
    <![endif]-->
    <script src="../assets/javascripts/application-ff53d307.js"></script>

    <!-- Typekit script to import Klavika font -->
    <script src="https://use.typekit.net/wxf7mfi.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-100043608-1', 'auto');
  ga('send', 'pageview');

</script>

    
  </head>

  <body id="uh-oh-" class="layout-inner page-uh-oh-">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-593498H"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


    <div id="header" class="navigation navbar-static-top hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <div class="navbar-header">
              <div class="navbar-brand">
                <a href="/">
                  <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="135.000000pt" height="50" viewbox="0 0 135.000000 45.000000" preserveaspectratio="xMidYMid meet" class="logo">

<g transform="translate(0.000000,45.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
<path class="text" fill="#000000" d="M527 384 c-4 -4 -7 -18 -7 -31 0 -21 4 -24 28 -21 21 2 27 8 27 28 0
18 -6 26 -20 28 -12 2 -24 0 -28 -4z"></path>
<path class="text" fill="#000000" d="M1080 335 c0 -48 2 -55 20 -55 18 0 20 7 20 55 0 48 -2 55 -20 55
-18 0 -20 -7 -20 -55z"></path>
<path class="text" fill="#000000" d="M54 357 c-2 -7 -3 -69 -2 -138 l3 -124 65 -3 c90 -3 130 20 130 77 0
29 -6 44 -20 54 -20 14 -20 15 -3 45 14 25 15 34 5 56 -6 15 -23 31 -38 36
-38 15 -134 13 -140 -3z m110 -33 c19 -7 21 -45 4 -62 -7 -7 -22 -12 -35 -12
-20 0 -23 5 -23 40 0 41 13 50 54 34z m20 -130 c19 -18 19 -20 6 -45 -8 -13
-21 -19 -45 -19 -34 0 -35 1 -35 40 0 38 2 40 29 40 16 0 37 -7 45 -16z"></path>
<path class="text" fill="#000000" d="M319 271 c-23 -24 -29 -38 -29 -74 0 -25 3 -53 6 -62 20 -50 164 -64
164 -15 0 15 -7 17 -45 12 -46 -5 -75 8 -75 34 0 11 16 14 65 14 l65 0 0 35
c0 80 -92 114 -151 56z m99 -33 c3 -15 -4 -18 -37 -18 -43 0 -50 7 -29 28 18
18 62 11 66 -10z"></path>
<path class="text" fill="#000000" d="M520 184 c0 -107 -1 -116 -20 -121 -11 -3 -20 -12 -20 -19 0 -21 76
-19 84 2 3 9 6 69 6 135 l0 119 -25 0 -25 0 0 -116z"></path>
<path class="text" fill="#000000" d="M649 271 c-24 -25 -29 -37 -29 -78 1 -70 34 -103 105 -103 55 0 95
44 95 103 0 60 -7 75 -41 92 -47 25 -96 19 -130 -14z m111 -30 c25 -48 2 -111
-40 -111 -45 0 -69 80 -34 114 21 22 61 20 74 -3z"></path>
<path class="text" fill="#000000" d="M850 287 c0 -8 16 -57 36 -110 28 -76 33 -100 25 -116 -16 -28 -14
-31 18 -31 27 0 29 4 70 123 23 67 41 128 41 135 0 6 -11 12 -24 12 -21 0 -26
-8 -41 -65 -10 -36 -21 -68 -25 -70 -3 -2 -16 27 -29 66 -19 60 -25 69 -47 69
-13 0 -24 -6 -24 -13z"></path>
<path class="text" fill="#000000" d="M1192 284 c-17 -12 -22 -24 -20 -47 2 -26 10 -36 45 -52 49 -23 59
-55 17 -55 -14 0 -34 5 -45 10 -16 9 -19 7 -19 -13 0 -17 7 -27 23 -31 69 -18
117 6 117 60 0 32 -4 37 -45 55 -60 26 -62 54 -4 46 37 -5 40 -3 37 16 -2 18
-11 23 -43 25 -25 2 -49 -3 -63 -14z"></path>
</g>
</svg>

                </a>
              </div>
              <button class="navbar-toggle" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <div class="buttons hidden-xs">
              <nav class="navigation-links" role="navigation">
                <ul class="main-links nav navbar-nav navbar-right">
                  <li><a href="../aws.html">AWS</a></li>
                  <li><a href="../linux.html">Linux</a></li>
                  <li><a href="../docker.html">Docker</a></li>
                  <li><a href="../ibmpower.html">IBM Power</a></li>
                  <li><a href="blogsataws1.html">Blogs@AWS (Kindle Friendly)</a></li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar-overlay"></div>

<aside class="sidebar" role="navigation">
  <div class="sidebar-header">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="135.000000pt" height="42" viewbox="0 0 135.000000 45.000000" preserveaspectratio="xMidYMid meet">

<g transform="translate(0.000000,45.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
<path class="text" fill="#000000" d="M527 384 c-4 -4 -7 -18 -7 -31 0 -21 4 -24 28 -21 21 2 27 8 27 28 0
18 -6 26 -20 28 -12 2 -24 0 -28 -4z"></path>
<path class="text" fill="#000000" d="M1080 335 c0 -48 2 -55 20 -55 18 0 20 7 20 55 0 48 -2 55 -20 55
-18 0 -20 -7 -20 -55z"></path>
<path class="text" fill="#000000" d="M54 357 c-2 -7 -3 -69 -2 -138 l3 -124 65 -3 c90 -3 130 20 130 77 0
29 -6 44 -20 54 -20 14 -20 15 -3 45 14 25 15 34 5 56 -6 15 -23 31 -38 36
-38 15 -134 13 -140 -3z m110 -33 c19 -7 21 -45 4 -62 -7 -7 -22 -12 -35 -12
-20 0 -23 5 -23 40 0 41 13 50 54 34z m20 -130 c19 -18 19 -20 6 -45 -8 -13
-21 -19 -45 -19 -34 0 -35 1 -35 40 0 38 2 40 29 40 16 0 37 -7 45 -16z"></path>
<path class="text" fill="#000000" d="M319 271 c-23 -24 -29 -38 -29 -74 0 -25 3 -53 6 -62 20 -50 164 -64
164 -15 0 15 -7 17 -45 12 -46 -5 -75 8 -75 34 0 11 16 14 65 14 l65 0 0 35
c0 80 -92 114 -151 56z m99 -33 c3 -15 -4 -18 -37 -18 -43 0 -50 7 -29 28 18
18 62 11 66 -10z"></path>
<path class="text" fill="#000000" d="M520 184 c0 -107 -1 -116 -20 -121 -11 -3 -20 -12 -20 -19 0 -21 76
-19 84 2 3 9 6 69 6 135 l0 119 -25 0 -25 0 0 -116z"></path>
<path class="text" fill="#000000" d="M649 271 c-24 -25 -29 -37 -29 -78 1 -70 34 -103 105 -103 55 0 95
44 95 103 0 60 -7 75 -41 92 -47 25 -96 19 -130 -14z m111 -30 c25 -48 2 -111
-40 -111 -45 0 -69 80 -34 114 21 22 61 20 74 -3z"></path>
<path class="text" fill="#000000" d="M850 287 c0 -8 16 -57 36 -110 28 -76 33 -100 25 -116 -16 -28 -14
-31 18 -31 27 0 29 4 70 123 23 67 41 128 41 135 0 6 -11 12 -24 12 -21 0 -26
-8 -41 -65 -10 -36 -21 -68 -25 -70 -3 -2 -16 27 -29 66 -19 60 -25 69 -47 69
-13 0 -24 -6 -24 -13z"></path>
<path class="text" fill="#000000" d="M1192 284 c-17 -12 -22 -24 -20 -47 2 -26 10 -36 45 -52 49 -23 59
-55 17 -55 -14 0 -34 5 -45 10 -16 9 -19 7 -19 -13 0 -17 7 -27 23 -31 69 -18
117 6 117 60 0 32 -4 37 -45 55 -60 26 -62 54 -4 46 37 -5 40 -3 37 16 -2 18
-11 23 -43 25 -25 2 -49 -3 -63 -14z"></path>
</g>
</svg>

  </div>

  <ul class="nav sidebar-nav">
    <li><a href="../aws.html">AWS</a></li>
    <li><a href="../linux.html">Linux</a></li>
    <li><a href="../docker.html">Docker</a></li>
    <li><a href="../ibmpower.html">IBM Power</a></li>
    <li><a href="blogsataws1.html">Blogs@AWS (Kindle Friendly)</a></li>
  </ul>
</aside>


    <div class="container">
  <div class="row">
    <div id="docs-sidebar" class="col-sm-3 col-md-3 col-xs-12 hidden-print" role="complementary">
      <ul class="nav docs-sidenav">
      <li>
        <a href="blogsataws1.html">Blogs @ AWS</a>
      </li>

      <li>
        <a href="whatsnew1.html">What's New @ AWS</a>
      </li>
      <li class="active">
        <a href="secblogs1.html">Security Blogs @ AWS</a>
      </li>

    </ul>
    </div>

    <div id="inner" class="col-sm-9 col-md-9 col-xs-12" role="main">
<p></p>
<p><i>Contents of this page is copied directly from AWS blog sites to make it Kindle friendly. Some styles & sections from these pages are removed to render this properly in 'Article Mode' of Kindle e-Reader browser. All the contents of this page is property of AWS.</i></p>
<p><a href="secblogs1.html">Page 1</a>|<a href="secblogs2.html">Page 2</a>|<a href="secblogs3.html">Page 3</a>|<a href="secblogs4.html">Page 4</a></p>
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b class="b post-title" property="name headline">How to Use AWS Organizations to Automate End-to-End Account Creation</b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">David Schonbrun</span></span> | on 
<time property="datePublished" datetime="2017-07-24T06:54:53+00:00">24 JUL 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-organizations/" title="View all posts in AWS Organizations*"><span property="articleSection">AWS Organizations*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-use-aws-organizations-to-automate-end-to-end-account-creation/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-4071" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=4071&amp;disqus_title=How+to+Use+AWS+Organizations+to+Automate+End-to-End+Account+Creation&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-use-aws-organizations-to-automate-end-to-end-account-creation/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4071');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p><a href="https://aws.amazon.com/organizations/" target="_blank" rel="noopener noreferrer">AWS Organizations</a>&nbsp;offers new capabilities for managing AWS accounts, including automated account creation via the <a href="http://docs.aws.amazon.com/organizations/latest/APIReference/Welcome.html" target="_blank" rel="noopener noreferrer">Organizations API</a>. For example, you can bring new development teams onboard by using the Organizations API to create an account, <a href="https://aws.amazon.com/cloudformation/" target="_blank" rel="noopener noreferrer">AWS CloudFormation</a> templates to configure the account (such as for <a href="https://aws.amazon.com/iam/" target="_blank" rel="noopener noreferrer">AWS Identity and Access Management</a> [IAM] and networking), and <a href="https://aws.amazon.com/blogs/security/announcing-aws-organizations-centrally-manage-multiple-aws-accounts/" target="_blank" rel="noopener noreferrer">service control policies</a> (SCPs) to help enforce corporate policies.</p> 
<p>In this blog post, I demonstrate the step-by-step process for end-to-end account creation in Organizations as well as how to automate the entire process. I also show how to move a new account into an organizational unit (OU).</p> 
<h3>Process overview</h3> 
<p>The following process flow diagram illustrates the steps required to create an account, configure the account, and then move it into an OU so that the account can take advantage of the centralized <a href="http://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scp.html" target="_blank" rel="noopener noreferrer">SCP functionality</a> in Organizations. The tasks in the blue nodes occur in the master account in the organization in question, and the task in the orange node occurs in the new member account I create. In this post, I provide a script (in both Bash/CLI and Python) that you can use to automate this account creation process, and I walk through each step shown in the diagram to explain the process in detail. For the purposes of this post, I use the <a href="https://aws.amazon.com/cli/" target="_blank" rel="noopener noreferrer">AWS CLI</a> in combination with CloudFormation to create and configure an account.<span id="more-4071"></span></p> 
<p><img class="alignnone wp-image-4330 size-full" title="The process flow diagram of this post's solution" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/19/DavidSDiagram-071917.png" alt="The process flow diagram of this post's solution" width="898" height="545" /></p> 
<b>The account creation process</b> 
<p>Follow the steps in this section to create an account, configure it, and move it into an OU. I am also providing a&nbsp;<a href="https://s3.amazonaws.com/awsiammedia/public/sample/AWSOrganizationsAutomateEndtoEndAccountCreation/AWSOrganizations_AutomateEndtoEndAccountCreation_ScriptandTemplates.zip" target="_blank" rel="noopener noreferrer">script and CloudFormation templates</a>&nbsp;that you can use to automate the entire process.</p> 
<h3>1. Sign in to AWS Organizations</h3> 
<p>In order to create an account, you must <a href="https://console.aws.amazon.com/organizations/" target="_blank" rel="noopener noreferrer">sign in</a> to your organization’s master account with a minimum of the following permissions:</p> 
<ul> 
<li><span style="font-family: courier">organizations:DescribeOrganization</span></li> 
<li><span style="font-family: courier">organizations:CreateAccount</span></li> 
</ul> 
<h3>2. Create a new member account</h3> 
<p>After signing in to your organization’s master account, <a href="http://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_accounts_create.html" target="_blank" rel="noopener noreferrer">create a new member account</a>. Before you can create the member account, you need three pieces of information:</p> 
<ul> 
<li><strong>An account name</strong> – The friendly name of the member account, which you can find on the <strong>Accounts</strong> tab in the master account.</li> 
<li><strong>An email address</strong> – The email address of the owner of the new member account. This email address is used by AWS when we need to contact the account owner.</li> 
<li><strong>An IAM role name</strong> – The name of an IAM role that Organizations automatically preconfigures in the new member account. This role trusts the master account, allowing users in the master account to assume the role, as permitted by the master account administrator. The role also has administrator permissions in the new member account. If you do not change the role’s name, the name defaults to <span style="font-family: courier">OrganizationAccountAccessRole</span>.</li> 
</ul> 
<p>The following AWS CLI command creates a new member account.</p> 
<pre><code class="lang-text">aws organizations create-account --email <strong>&lt;newAccEmail&gt;</strong> --account-name &quot;<strong>&lt;newAccName&gt;</strong>&quot; --role-name <strong>&lt;roleName&gt;</strong></code></pre> 
<p>To explain the <strong>placeholder values</strong>&nbsp;in the preceding command that you must update with your own values:</p> 
<ul> 
<li><strong>newAccEmail</strong> – The email address of the owner of the new member account. This email address must <em>not</em> already be associated with another AWS account.</li> 
<li><strong>newAccName</strong> – The friendly name of the new member account.</li> 
<li><strong>roleName</strong> – The name of an IAM role that Organizations automatically preconfigures in the new member account. The default name is <span style="font-family: courier">OrganizationAccountAccessRole</span>.</li> 
</ul> 
<p>This CLI command returns a <span style="font-family: courier">request_id</span> that uniquely identifies the request, a value that is required for in Step 3.</p> 
<p><strong>Important: </strong> When you create an account using Organizations, you currently cannot remove this account from your organization. This, in turn, can prevent you from later deleting the organization.</p> 
<h3>3. Verify account creation</h3> 
<p>Account creation may take a few seconds to complete, so before doing anything with the newly created account, you must first verify the account creation status. To check the status, you must have at least the following permission:</p> 
<ul> 
<li><span style="font-family: courier">organizations:DescribeCreateAccountStatus</span></li> 
</ul> 
<p>The following CLI command, with the <span style="font-family: courier">request_id</span> returned in the previous step as an input parameter, verifies that the account was created:</p> 
<pre><code class="lang-text">aws organizations describe-create-account-status --create-account-request-id <strong>&lt;request_id&gt;</strong></code></pre> 
<p>The command returns the state of your account creation request and can have three different values: <span style="font-family: courier">IN_PROGRESS</span>, <span style="font-family: courier">SUCCEEDED</span>, and <span style="font-family: courier">FAILED</span>.</p> 
<h3>4. Assume a role</h3> 
<p>After you have verified that the new account has been created, configure the account. In order to configure the newly created account, you must sign in with a user who has permission to assume the role submitted in the <span style="font-family: courier">createAccount</span> API call. In the example in Step 1, I named the role <span style="font-family: courier">OrganizationAccountAccessRole</span>; however, if you revised the name of the role, you must use that revised name when assuming the role. Note that when an account is created from within an organization, cross-account trust between the master and programmatically created accounts is automatically established.</p> 
<p>The following CLI command assumes a role.</p> 
<pre><code class="lang-text">aws sts assume-role --role-arn &lt;<strong>role-arn</strong>&gt; --role-session-name &lt;&quot;<strong>role-session-name</strong>&quot;&gt;</code></pre> 
<p>To explain the <strong>placeholder values</strong>&nbsp;in the preceding command that you must update with your own values:</p> 
<ul> 
<li><strong>role-arn&nbsp;– </strong>The <a href="http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html" target="_blank" rel="noopener noreferrer">Amazon Resource Name</a> (ARN) of the role to assume.</li> 
<li><strong>role-session-name&nbsp;– </strong>An identifier for the assumed role session.</li> 
</ul> 
<h3>5. Configure the new account</h3> 
<p>After you assume the role, build the new account’s networking, IAM, and governance resources as explained in this section. Again, to learn more about and download the account creation script and the templates that can automate this process, see “Automating the entire end-to-end process” later in this post.</p> 
<ol type="A"> 
<li>Networking – Amazon VPC, web access control lists (ACLs), and Internet gateway: 
<ol type="1"> 
<li><a href="http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/getting-started-ipv4.html" target="_blank" rel="noopener noreferrer">Create a new Amazon VPC</a>&nbsp;to enable you to launch AWS resources in a virtual network that you define.</li> 
<li>Run the script at the end of this post to create a VPC with two subnets (one public subnet and one private subnet) in each of two Availability Zones.</li> 
<li>Set up <a href="http://docs.aws.amazon.com/waf/latest/developerguide/web-acl.html" target="_blank" rel="noopener noreferrer">web ACLs</a>&nbsp;to control traffic in and out of the subnets. You can set up network ACLs with rules similar to your security groups in order to add an additional layer of security to your VPC.</li> 
<li>Connect your VPC to remote networks by using a <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpn-connections.html" target="_blank" rel="noopener noreferrer">VPN connection</a>.</li> 
<li>If the resources in the VPC require access to the Internet, create an <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html" target="_blank" rel="noopener noreferrer">Internet gateway</a> to allow communication between instances in your VPC and the Internet.</li> 
</ol> </li> 
<li>IAM – Identity provider (IdP), IAM policies, and IAM roles: 
<ol type="1"> 
<li>Many customers use enterprise <a href="https://aws.amazon.com/iam/details/manage-federation/" target="_blank" rel="noopener noreferrer">federated authentication</a> (such as Active Directory) to manage users and permissions centrally outside AWS. If you use federated authentication, <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create.html" target="_blank" rel="noopener noreferrer">set up an IdP</a>.</li> 
<li>After you set up the IdP, author the <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#customer-managed-policies" target="_blank" rel="noopener noreferrer">customer managed IAM policies</a> you will use.</li> 
<li>Use <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies" target="_blank" rel="noopener noreferrer">AWS managed policies</a> or your customer managed policies to manage access to your AWS resources.</li> 
</ol> </li> 
<li>Governance – AWS Config Rules: 
<ol type="1"> 
<li>Create <a href="http://docs.aws.amazon.com/config/latest/developerguide/evaluate-config.html" target="_blank" rel="noopener noreferrer">AWS Config rules </a>to help manage and enforce standards for resources deployed on AWS.</li> 
<li>Develop a tagging strategy that specifies a minimum set of tags required on every taggable resource. A tagging rule checks that all resources created or edited fulfill this requirement. A noncompliance report is created to document resources that do not meet the AWS Config rule. <a href="http://docs.aws.amazon.com/config/latest/developerguide/evaluate-config_develop-rules_nodejs-sample.html" target="_blank" rel="noopener noreferrer">AWS Lambda scripts</a> can also be launched as a result of AWS Config rules.</li> 
</ol> </li> 
</ol> 
<h3>6. Move the new account into an OU</h3> 
<p>Before allowing your development teams to access the new member account that you configured in the previous steps, <a href="http://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scp.html" target="_blank" rel="noopener noreferrer">apply an SCP</a> to the account to limit the API calls that can be made by all users. To do this, you must move the member account into an OU that has an SCP attached to it.</p> 
<p>An OU is a container for&nbsp;accounts. It can contain other OUs, allowing you to create a hierarchy that resembles an upside-down tree with a “root” at the top and OU “branches” that reach down, ending with accounts that are the “leaves” of the tree. When you attach a policy to one of the nodes in the hierarchy, it affects all the branches (OUs) and leaves (accounts) under it. An OU can have exactly one parent, and currently, each account can be a member of exactly one OU.</p> 
<p>The following CLI command moves an account into an OU.</p> 
<pre><code class="lang-text">aws organizations move-account --account-id &lt;<strong>account_id</strong>&gt; --source-parent-id &lt;<strong>source_parent_id</strong>&gt; --destination-parent-id &lt;<strong>destination_parent_id</strong>&gt;</code></pre> 
<p>To explain the <strong>placeholder values</strong> in the preceding command that you must update with your own values:</p> 
<ul> 
<li><strong>account_id</strong> – The unique identifier (ID) of the account you want to move.</li> 
<li><strong>source_parent_id</strong> – The unique ID of the root or OU from which you want to move the account.</li> 
<li><strong>destination_parent_id</strong> – The unique ID of the root or OU to which you want to move the account.</li> 
</ul> 
<h3>7. Reduce the IAM role permissions</h3> 
<p>The <span style="font-family: courier">OrganizationAccountAccessRole</span> is created with full administrative permissions to enable the creation and development of the new member account. After you complete the development process and you have moved the member account into an OU, <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_manage_modify.html#roles-managingrole-editing-cli" target="_blank" rel="noopener noreferrer">reduce the permissions</a> of <span style="font-family: courier">OrganizationAccountAccessRole</span> to match your anticipated use of this role going forward.</p> 
<b>Automating the entire end-to-end process</b> 
<p>To help you fully automate the process of creating new member accounts, setting up those accounts, and moving new member accounts into an OU, I am providing a script in both Bash/CLI and Python. You can modify or call additional CloudFormation templates as needed.</p> 
<h3>Download the script and CloudFormation templates</h3> 
<p>Download the <a href="https://s3.amazonaws.com/awsiammedia/public/sample/AWSOrganizationsAutomateEndtoEndAccountCreation/AWSOrganizations_AutomateEndtoEndAccountCreation_ScriptandTemplates.zip" target="_blank" rel="noopener noreferrer">script and CloudFormation templates</a>&nbsp;to help you automate this end-to-end process. The global variables in the script are set in the opening lines of code. Update these variables’ values, and they will flow as input parameters to the API commands when the script is executed. I have prepopulated the <span style="font-family: courier">roleName</span> by using AWS best practices nomenclature, but you can use a custom name.</p> 
<p>I am including the following descriptions of the elements of the script to give you a better idea of how the script works.</p> 
<p>Bash/CLI:</p> 
<ul> 
<li><strong><span style="font-family: courier">Organization-new-acc.sh</span></strong> – An example shell script that includes parameters, account creation, and a call to the JSON sample templates for each of three subtasks in Step 5 earlier in this post.</li> 
<li><strong><span style="font-family: courier">CF-VPC.json</span></strong>&nbsp;– An example Cloud Formation template that creates and configures a VPC in the new member account. Each AWS account must have at least one VPC as a networking construct where you can deploy customer resources. Though AWS does create a default VPC when an account is created, you must configure that VPC to meet your needs. This includes creating subnets with specific IP <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Subnets.html" target="_blank" rel="noopener noreferrer">Classless Inter-Domain Routing (CIDR) blocks</a>, creating gateways (including an <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Internet_Gateway.html" target="_blank" rel="noopener noreferrer">Internet gateway</a>, a <a href="http://docs.aws.amazon.com/AmazonVPC/latest/NetworkAdminGuide/Introduction.html#CustomerGateway" target="_blank" rel="noopener noreferrer">customer gateway</a>, <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_VPN.html#VPNTunnels" target="_blank" rel="noopener noreferrer">a VPN tunnel</a>, <a href="https://aws.amazon.com/storagegateway/" target="_blank" rel="noopener noreferrer">AWS Storage Gateway</a>, <a href="https://aws.amazon.com/api-gateway/" target="_blank" rel="noopener noreferrer">Amazon API Gateway</a>, and a <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-nat-gateway.html" target="_blank" rel="noopener noreferrer">NAT gateway</a>), and <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-peering.html" target="_blank" rel="noopener noreferrer">VPC peering connections</a>. Web ACLs are also part of this process to limit the source IP addresses and ports that can access the VPC. The VPC created by this script includes four <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Subnets.html" target="_blank" rel="noopener noreferrer">subnets</a> across two Availability Zones. Two of the subnets are public and two are private.</li> 
<li><strong><span style="font-family: courier">CF-IAM.json</span></strong>&nbsp;– An example Cloud Formation template that creates IAM roles in the new member account. As part of a security baseline, you should develop a standard set of IAM roles and related policies. Update this template with the IAM role definitions and policies you want to create in the member account to controls privilege and access.</li> 
<li><strong><span style="font-family: courier">CF-ConfigRules.json</span></strong>&nbsp;– An example Cloud Formation template that creates an AWS Config rule to enforce tagging standards on resources created in the new account.</li> 
<li><strong><span style="font-family: courier">Organization_Output.docx</span></strong>&nbsp;– Example output of the results from running <span style="font-family: courier">Organization-new-acc.sh</span>.</li> 
</ul> 
<p>Python:</p> 
<ul> 
<li><strong><span style="font-family: courier">Create_account_with_iam.py</span></strong><em> – </em>An example Python template that creates an account, moves it into an OU, applies an SCP, and then calls additional templates to deploy resources. <span style="font-family: courier">CF-VPC.JSON</span> can be called by this template if you first customize the <span style="font-family: courier">.json</span> file.</li> 
</ul> 
<ul> 
<li><strong><span style="font-family: courier">Baseline.yml</span></strong> – An example CloudFormation template for creating a new IAM administrative user, IAM user group, IAM role, and IAM policy in the account.</li> 
</ul> 
<h3>Summary</h3> 
<p>In this post, I have demonstrated the step-by-step process for end-to-end account creation in Organizations as well as how to automate the entire process. I also showed how to move a new account into an OU. This solution should save you some time and help you avoid common issues that tend to crop up in the manual account-creation process. To learn more about the features of Organizations, see the <a href="http://docs.aws.amazon.com/organizations/latest/userguide/orgs_introduction.html">AWS Organizations User Guide</a>. For more information about the APIs used in this post, see the <a href="http://docs.aws.amazon.com/organizations/latest/APIReference/Welcome.html">Organizations API Reference</a>.</p> 
<p>If you have comments about this blog post, submit them in the “Comments” section below. If you have implementation or troubleshooting questions, start a new thread on the&nbsp;<a href="https://forums.aws.amazon.com/forum.jspa?forumID=219">Organizations forum</a>.</p> 
<p>– David</p> 
<footer> 
TAGS: 
<span property="keywords"><a href="https://aws.amazon.com/blogs/security/tag/account-creation/" rel="tag">account creation</a>, <a href="https://aws.amazon.com/blogs/security/tag/aws-accounts/" rel="tag">AWS Accounts</a>, <a href="https://aws.amazon.com/blogs/security/tag/aws-cloudformation/" rel="tag">AWS CloudFormation</a>, <a href="https://aws.amazon.com/blogs/security/tag/aws-organizations/" rel="tag">AWS Organizations</a>, <a href="https://aws.amazon.com/blogs/security/tag/devops-automation/" rel="tag">DevOps automation</a>, <a href="https://aws.amazon.com/blogs/security/tag/organizational-unit/" rel="tag">organizational unit</a>, <a href="https://aws.amazon.com/blogs/security/tag/ous/" rel="tag">OUs</a></span> 
</footer> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4071');
});
</script> 
</article> 
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b class="b post-title" property="name headline">How to Use Batch References in Amazon Cloud Directory to Refer to New Objects in a Batch Request</b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">Vineeth Harikumar</span></span> | on 
<time property="datePublished" datetime="2017-07-19T06:39:01+00:00">19 JUL 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/amazon-cloud-directory/" title="View all posts in Amazon Cloud Directory"><span property="articleSection">Amazon Cloud Directory</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-use-batch-references-in-amazon-cloud-directory-to-refer-to-new-objects-in-a-batch-request/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-4248" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=4248&amp;disqus_title=How+to+Use+Batch+References+in+Amazon+Cloud+Directory+to+Refer+to+New+Objects+in+a+Batch+Request&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-use-batch-references-in-amazon-cloud-directory-to-refer-to-new-objects-in-a-batch-request/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4248');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p>In <a href="https://aws.amazon.com/clouddirectory/" target="_blank" rel="noopener noreferrer">Amazon Cloud Directory</a>, it’s often necessary to add new objects or add relationships between new objects and existing objects to reflect changes in a real-world hierarchy. With Cloud Directory, you can make these changes efficiently by using batch references within batch operations.</p> 
<p>Let’s say I want to take an existing child object in a hierarchy, detach it from its parent, and reattach it to another part of the hierarchy. A simple way to do this would be to make a call to get the object’s unique identifier, another call to detach the object from its parent using the unique identifier, and a third call to attach it to a new parent. However, if I use batch references within a batch write operation, I can perform all three of these actions in the same request, greatly simplifying my code and reducing the round trips required to make such changes.</p> 
<p>In this post, I demonstrate how to use batch references in a single write request to simplify adding and restructuring a Cloud Directory hierarchy. I have used the <a href="https://aws.amazon.com/sdk-for-java/" target="_blank" rel="noopener noreferrer">AWS SDK for Java</a> for all the sample code in this post, but you can use <a href="https://aws.amazon.com/tools/" target="_blank" rel="noopener noreferrer">other language SDKs</a> or the <a href="https://aws.amazon.com/cli/" target="_blank" rel="noopener noreferrer">AWS CLI</a> in a similar way.</p> 
<h3><strong>Using batch references</strong></h3> 
<p>In my <a href="https://aws.amazon.com/blogs/security/write-and-read-multiple-objects-in-amazon-cloud-directory-by-using-batch-operations/" target="_blank" rel="noopener noreferrer">previous post</a>, I demonstrated how to add AnyCompany’s North American warehouses to a global network of warehouses. As time passes and demand grows, AnyCompany launches multiple warehouses in North American cities to fulfill customer orders with continued efficiency. This requires the company to restructure the network to group warehouses in the same region so that the company can apply similar standards to them, such as delivery times, delivery areas, and types of products sold.<span id="more-4248"></span></p> 
<p>For instance, in the <span style="font-family: courier">NorthAmerica</span> object (see the following diagram), AnyCompany has launched two new warehouses in the Phoenix (<span style="font-family: courier">PHX</span>) area: <span style="font-family: courier">PHX_2</span> and <span style="font-family: courier">PHX_3</span>. AnyCompany wants to add these new warehouses to the network and regroup them with existing warehouse&nbsp;<span style="font-family: courier">PHX_1</span>&nbsp;under the new node, <span style="font-family: courier">PHX</span>.</p> 
<p>The state of the hierarchy before this regrouping is shown in the following diagram, where I added the <span style="font-family: courier">NorthAmerica</span> warehouses (also represented as <span style="font-family: courier">NA</span> in the diagram) to the larger network of AnyCompany’s warehouses.</p> 
<p><img class="alignnone wp-image-4246 size-full" title="Diagram showing the state of the hierarchy before this post's regrouping" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/11/Diagram2-Vineeth-July2017-b.png" alt="Diagram showing the state of the hierarchy before this post's regrouping" width="900" height="495" /></p> 
<h3>Adding and grouping new warehouses in the NorthAmerica network</h3> 
<p>I want to add and group the new warehouses with a single request, and using batch references in a batch write lets me do that. A batch reference is just another way of using&nbsp;object references that you are allowed to define arbitrarily. This allows you to chain operations, which means using the return value from one operation in a subsequent operation within the same batch write request</p> 
<p>Let’s say I have a batch write request&nbsp;with two batch operations: operation A&nbsp;and operation B. Both batch operations operate on the same object X. In operation A, I use the object X found at <span style="font-family: courier">/NorthAmerica/Phoenix</span>, and I assign it to a batch reference that I call <span style="font-family: courier">referencePhoenix</span>. In operation B, I want to modify the same object X, so I use <span style="font-family: courier">referencePhoenix</span> as the object reference that points to the same unique&nbsp;object X used in operation A. I also will use the same helper method implementation from my <a href="https://aws.amazon.com/blogs/security/write-and-read-multiple-objects-in-amazon-cloud-directory-by-using-batch-operations/" target="_blank" rel="noopener noreferrer">previous post</a> for <span style="font-family: courier">getBatchCreateOperation</span>. To learn more about batch references, see the <a href="http://docs.aws.amazon.com/directoryservice/latest/APIReference/API_ObjectReference.html" target="_blank" rel="noopener noreferrer">ObjectReference documentation</a>.</p> 
<p>To add and group the new warehouses, I will take advantage of batch references to sequentially:</p> 
<ol> 
<li>Detach <span style="font-family: courier">PHX_1</span> from the <span style="font-family: courier">NA</span> node and maintain a reference to <span style="font-family: courier">PHX_1</span>.</li> 
<li>Create a new child node, <span style="font-family: courier">PHX</span>, and attach it to the <span style="font-family: courier">NA</span> node.</li> 
<li>Create <span style="font-family: courier">PHX_2</span> and <span style="font-family: courier">PHX_3</span> nodes for the new warehouses.</li> 
<li>Link all three nodes—<span style="font-family: courier">PHX_1</span> (using the batch reference), <span style="font-family: courier">PHX_2</span>, and <span style="font-family: courier">PHX_3</span>—to the <span style="font-family: courier">PHX</span> node.</li> 
</ol> 
<p>The following code example achieves these changes in a single batch by using references. First, the code sets up a <span style="font-family: courier">createObjectPHX</span> operation to create the <span style="font-family: courier">PHX</span> parent object and attach it to the parent <span style="font-family: courier">NorthAmerica</span> object. It then sets up <span style="font-family: courier">createObjectPHX_2</span> and <span style="font-family: courier">createObjectPHX_3</span> and attaches these new objects to the new <span style="font-family: courier">PHX</span> object. The code then sets up a <span style="font-family: courier">detachObject</span> to detach the current <span style="font-family: courier">PHX_1</span> object from its parent and assign it to a batch reference. The last operation uses that same batch reference to attach the <span style="font-family: courier">PHX_1</span> object to the newly created <span style="font-family: courier">PHX</span> object. The code example orders these steps sequentially in a batch write operation.</p> 
<pre><code class="lang-text">   BatchWriteOperation createObjectPHX = getBatchCreateOperation(
&quot;PHX&quot;,
directorySchemaARN,
&quot;/NorthAmerica&quot;,
&quot;Phoenix&quot;);
BatchWriteOperation createObjectPHX_2 = getBatchCreateOperation(
&quot;PHX_2&quot;,
directorySchemaARN,
&quot;/NorthAmerica/Phoenix&quot;,
&quot;PHX_2&quot;);
BatchWriteOperation createObjectPHX_3 = getBatchCreateOperation(
&quot;PHX_3&quot;,
directorySchemaARN,
&quot;/NorthAmerica/Phoenix&quot;,
&quot;PHX_3&quot;);
BatchDetachObject detachObject = new BatchDetachObject()
.withBatchReferenceName(&quot;<strong>referenceToPHX_1</strong>&quot;)
.withLinkName(&quot;Phoenix&quot;)
.withParentReference(new ObjectReference()
.withSelector(&quot;/NorthAmerica&quot;));
BatchAttachObject attachObject = new BatchAttachObject()
.withChildReference(new ObjectReference().withSelector(&quot;#referenceToPHX_1&quot;))
.withLinkName(&quot;PHX_1&quot;)
.withParentReference(new ObjectReference()
.withSelector(&quot;/NorthAmerica/Phoenix&quot;));
BatchWriteOperation detachOperation = new BatchWriteOperation()
.withDetachObject(detachObject);
BatchWriteOperation attachOperation = new BatchWriteOperation()
.withAttachObject(attachObject);
BatchWriteRequest request = new BatchWriteRequest();
request.setDirectoryArn(directoryARN);
request.setOperations(Lists.newArrayList(
detachOperation,
createObjectPHX,
createObjectPHX_2,
createObjectPHX_3,
attachOperation));
client.batchWrite(request);</code></pre> 
<p>In the preceding code example, I use the batch reference, <strong><span style="font-family: courier">referenceToPHX_1</span></strong>, in the same batch write operation because I do not have to know the object identifier of that object. If I couldn’t use such a batch reference, I would have to use separate requests to get the <span style="font-family: courier">PHX_1</span> identifier, detach it from the <span style="font-family: courier">NA</span> node, and then attach it to the new <span style="font-family: courier">PHX</span> node.</p> 
<p>I now have the network configuration I want, as shown in the following diagram. I have used a combination of batch operations with batch references to bring new warehouses into the network and regroup them within the same local group of warehouses.</p> 
<p><img class="aligncenter wp-image-4252 size-full" title="Diagram showing the desired network configuration" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/11/Diagram4-Vineeth-July2017.png" alt="Diagram showing the desired network configuration" width="497" height="529" /></p> 
<h3>Summary</h3> 
<p>In this post, I have shown how you can use batch references in a single batch write request to simplify adding and restructuring your existing hierarchies in Cloud Directory. You can use batch references in scenarios where you want to get an object identifier, but don’t want the overhead of using a read operation before a write operation. Instead, you can use a batch reference to refer to an object as part of the intermediate batch operation. To learn more about batch operations, see <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/batches.html" target="_blank" rel="noopener noreferrer">Batches</a>, <a href="http://docs.aws.amazon.com/directoryservice/latest/APIReference/API_BatchWrite.html" target="_blank" rel="noopener noreferrer">BatchWrite</a>, and <a href="http://docs.aws.amazon.com/directoryservice/latest/APIReference/API_BatchRead.html" target="_blank" rel="noopener noreferrer">BatchRead</a>.</p> 
<p>If you have comments about this post, submit them in the “Comments” section below. If you have implementation questions, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=180" target="_blank" rel="noopener noreferrer">Directory Service forum</a>.</p> 
<p>– Vineeth</p> 
<footer> 
TAGS: 
<span property="keywords"><a href="https://aws.amazon.com/blogs/security/tag/amazon-cloud-directory/" rel="tag">Amazon Cloud Directory</a>, <a href="https://aws.amazon.com/blogs/security/tag/aws-cli/" rel="tag">AWS CLI</a>, <a href="https://aws.amazon.com/blogs/security/tag/batch-read-operations/" rel="tag">batch read operations</a>, <a href="https://aws.amazon.com/blogs/security/tag/batch-references/" rel="tag">batch references</a>, <a href="https://aws.amazon.com/blogs/security/tag/batch-write-operations/" rel="tag">batch write operations</a>, <a href="https://aws.amazon.com/blogs/security/tag/cloud-directory-apis/" rel="tag">Cloud Directory APIs</a>, <a href="https://aws.amazon.com/blogs/security/tag/java-sdk/" rel="tag">Java SDK</a></span> 
</footer> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4248');
});
</script> 
</article> 
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b class="b post-title" property="name headline">Write and Read Multiple Objects in Amazon Cloud Directory by Using Batch Operations</b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">Vineeth Harikumar</span></span> | on 
<time property="datePublished" datetime="2017-07-18T06:31:57+00:00">18 JUL 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/amazon-cloud-directory/" title="View all posts in Amazon Cloud Directory"><span property="articleSection">Amazon Cloud Directory</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/write-and-read-multiple-objects-in-amazon-cloud-directory-by-using-batch-operations/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-4233" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=4233&amp;disqus_title=Write+and+Read+Multiple+Objects+in+Amazon+Cloud+Directory+by+Using+Batch+Operations&amp;disqus_url=https://aws.amazon.com/blogs/security/write-and-read-multiple-objects-in-amazon-cloud-directory-by-using-batch-operations/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4233');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p><a href="https://aws.amazon.com/cloud-directory/" target="_blank" rel="noopener noreferrer">Amazon Cloud Directory</a> is a hierarchical data store that enables you to build flexible, cloud-native directories for organizing hierarchies of data along multiple dimensions. For example, you can create an organizational structure that you can navigate through multiple hierarchies for reporting structure, location, and cost center.</p> 
<p>In this blog post, I demonstrate how you can use <a href="http://docs.aws.amazon.com/directoryservice/latest/APIReference/welcome.html" target="_blank" rel="noopener noreferrer">Cloud Directory APIs</a> to write and read multiple objects by using batch operations. With <a href="http://docs.aws.amazon.com/directoryservice/latest/APIReference/API_BatchWrite.html" target="_blank" rel="noopener noreferrer">batch write operations</a>, you can execute a sequence of operations atomically—meaning that all of the write operations must occur, or none of them do. You also can make your application efficient by reducing the number of required round trips to read and write objects to your directory. I have used the <a href="https://aws.amazon.com/sdk-for-java/" target="_blank" rel="noopener noreferrer">AWS SDK for Java</a> for all the sample code in this blog post, but you can use <a href="https://aws.amazon.com/tools/" target="_blank" rel="noopener noreferrer">other language SDKs</a> or the <a href="https://aws.amazon.com/cli/" target="_blank" rel="noopener noreferrer">AWS CLI</a> in a similar way.</p> 
<h3>Using batch write operations</h3> 
<p>To demonstrate batch write operations, let’s say that AnyCompany’s warehouses are organized to determine the fastest methods to ship orders to its customers. In North America, AnyCompany plans to open new warehouses regularly so that the company can keep up with customer demand while continuing to meet the delivery times to which they are committed.</p> 
<p>The following diagram shows part of AnyCompany’s global network, including Asian and European warehouse networks.<span id="more-4233"></span></p> 
<p><img class="alignnone wp-image-4245 size-full" title="Diagram showing AnyCompany's global network" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/11/Diagram1-Vineeth-July2017-b.png" alt="" width="900" height="316" /></p> 
<p>Let’s take a look at how I can use batch write operations to add <span style="font-family: courier">NorthAmerica</span> to AnyCompany’s global network of warehouses, with the first three warehouses in New York City (<span style="font-family: courier">NYC</span>), Las Vegas (<span style="font-family: courier">LAS</span>), and Phoenix (<span style="font-family: courier">PHX</span>).</p> 
<h4>Adding NorthAmerica to the global network</h4> 
<p>To add <span style="font-family: courier">NorthAmerica</span> to the global network, I can use a batch write operation to create and link all the objects in the existing network.</p> 
<p>First, I set up a helper method, which performs repetitive tasks, for the <span style="font-family: courier">getBatchCreateOperation</span> object. The following lines of code help me create an <span style="font-family: courier">NA</span> object for <span style="font-family: courier">NorthAmerica</span> and then attach the three city-related nodes: <span style="font-family: courier">NYC</span>, <span style="font-family: courier">LAS</span>, and <span style="font-family: courier">PHX</span>. Because AnyCompany is planning to grow its network, I add a suffix of <span style="font-family: courier">_1</span> to each city code (such as <span style="font-family: courier">PHX_1</span>), which will be helpful hierarchically when the company adds more warehouses within a city.</p> 
<pre><code class="lang-text">    private BatchWriteOperation getBatchCreateOperation(
String warehouseName,
String directorySchemaARN,
String parentReference,
String linkName) {
SchemaFacet warehouse_facet = new SchemaFacet()
.withFacetName(&quot;warehouse&quot;)
.withSchemaArn(directorySchemaARN);
AttributeKeyAndValue kv = new AttributeKeyAndValue()
.withKey(new AttributeKey()
.withFacetName(&quot;warehouse&quot;)
.withName(&quot;name&quot;)
.withSchemaArn(directorySchemaARN))
.withValue(new TypedAttributeValue()
.withStringValue(warehouseName);
List&lt;SchemaFacet&gt; facets = Lists.newArrayList(warehouse_facet);
List&lt;AttributeKeyAndValue&gt; kvs = Lists.newArrayList(kv);
BatchCreateObject createObject = new BatchCreateObject();
createObject.withParentReference(new ObjectReference()
.withSelector(parentReference));
createObject.withLinkName(linkName);
createObject.withBatchReferenceName(UUID.randomUUID().toString());
createObject.withSchemaFacet(facets);
createObject.withObjectAttributeList(kvs);
return new BatchWriteOperation().withCreateObject
(createObject);
}</code></pre> 
<p>The parameters of this helper method include:</p> 
<ul> 
<li><span style="font-family: courier">warehouseName</span> – The name of the warehouse to create in the <span style="font-family: courier">getBatchCreateOperation</span> object.</li> 
<li><span style="font-family: courier">directorySchemaARN</span> – The Amazon Resource Name (ARN) of the schema applied to the directory.</li> 
<li><span style="font-family: courier">parentReference</span> – The object reference of the parent object.</li> 
<li><span style="font-family: courier">linkName</span> – The unique child path from the parent reference where the object should be attached.</li> 
</ul> 
<p>I then use this helper method to set up multiple <span style="font-family: courier">create</span> operations for <span style="font-family: courier">NorthAmerica</span>, <span style="font-family: courier">NewYork</span>, <span style="font-family: courier">Phoenix</span>, and <span style="font-family: courier">LasVegas</span>. For the sake of simplicity, I use airport codes to stand for the cities (for example, <span style="font-family: courier">NYC</span> stands for <span style="font-family: courier">NewYork</span>).</p> 
<pre><code class="lang-text">   BatchWriteOperation createObjectNA = getBatchCreateOperation(
&quot;NA&quot;,
directorySchemaARN,
&quot;/&quot;,
&quot;NorthAmerica&quot;);
BatchWriteOperation createObjectNYC = getBatchCreateOperation(
&quot;NYC_1&quot;,
directorySchemaARN,
&quot;/NorthAmerica&quot;,
&quot;NewYork&quot;);
BatchWriteOperation createObjectPHX = getBatchCreateOperation(
&quot;PHX_1&quot;,
directorySchemaARN,
&quot;/NorthAmerica&quot;,
&quot;Phoenix&quot;);
BatchWriteOperation createObjectLAS = getBatchCreateOperation(
&quot;LAS_1&quot;,
directorySchemaARN,
&quot;/NorthAmerica&quot;,
&quot;LasVegas&quot;);
BatchWriteRequest request = new BatchWriteRequest();
request.setDirectoryArn(directoryARN);
request.setOperations(Lists.newArrayList(
createObjectNA,
createObjectNYC,
createObjectPHX,
createObjectLAS));
client.batchWrite(request);</code></pre> 
<p>Running the preceding code results in a hierarchy for the network with NA added to the network, as shown in the following diagram.</p> 
<p><img class="alignnone wp-image-4246 size-full" title="Diagram with NA added to the network" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/11/Diagram2-Vineeth-July2017-b.png" alt="" width="900" height="495" /></p> 
<h3>Using batch read operations</h3> 
<p>Now, let’s say that after I add <span style="font-family: courier">NorthAmerica</span> to AnyCompany’s global network, an analyst wants to see the updated view of the <span style="font-family: courier">NorthAmerica</span> warehouse network as well as some information about the newly introduced warehouse configurations for the <span style="font-family: courier">Phoenix</span> warehouses. To do this, I can use <a href="http://docs.aws.amazon.com/directoryservice/latest/APIReference/API_BatchRead.html" target="_blank" rel="noopener noreferrer">batch read operations</a> to get the network of warehouses for <span style="font-family: courier">NorthAmerica</span> as well as specifically request the attributes and configurations of the <span style="font-family: courier">Phoenix</span> warehouses.</p> 
<p>To list the children of the <span style="font-family: courier">NorthAmerica</span> warehouses, I use the <span style="font-family: courier">BatchListObjectChildren</span> API to get all the children at the path, <span style="font-family: courier">/NorthAmerica</span>. Next, I want to view the attributes of the <span style="font-family: courier">Phoenix</span> object, so I use the <span style="font-family: courier">BatchListObjectAttributes</span> API to read all the attributes of the object at <span style="font-family: courier">/NorthAmerica/Phoenix</span>, as shown in the following code example.</p> 
<pre><code class="lang-text">    BatchListObjectChildren listObjectChildrenRequest = new BatchListObjectChildren()
.withObjectReference(new ObjectReference().withSelector(&quot;/NorthAmerica&quot;));
BatchListObjectAttributes listObjectAttributesRequest = new BatchListObjectAttributes()
.withObjectReference(new ObjectReference()
.withSelector(&quot;/NorthAmerica/Phoenix&quot;));
BatchReadRequest batchRead = new BatchReadRequest()
.withConsistencyLevel(ConsistencyLevel.EVENTUAL)
.withDirectoryArn(directoryArn)
.withOperations(Lists.newArrayList(listObjectChildrenRequest, listObjectAttributesRequest));
BatchReadResult result = client.batchRead(batchRead);</code></pre> 
<h3>Exception handling</h3> 
<p>Batch operations in Cloud Directory might sometimes fail, and it is important to know how to handle such failures, which differ for write operations and read operations.</p> 
<h4>Batch write operation failures</h4> 
<p>If a batch write operation fails, Cloud Directory fails the entire batch operation and returns an exception. The exception contains the index of the operation that failed along with the exception type and message. If you see <span style="font-family: courier">RetryableConflictException</span>, you can try again with exponential backoff. A simple way to do this is to double the amount of time you wait each time you get an exception or failure. For example, if your first batch write operation fails, wait 100 milliseconds and try the request again. If the second request fails, wait 200 milliseconds and try again. If the third request fails, wait 400 milliseconds and try again.</p> 
<h4>Batch read operation failures</h4> 
<p>If a batch read operation fails, the response contains either a successful response or an exception response. Individual batch read operation failures do not cause the entire batch read operation to fail—Cloud Directory returns individual success or failure responses for each operation.</p> 
<h3>Limits of batch operations</h3> 
<p>Batch operations are still constrained by the same Cloud Directory limits as other Cloud Directory APIs. A single batch operation does not limit the number of operations, but the total number of nodes or objects being written or edited in a single batch operation have enforced limits. For example, a total of 20 objects can be written in a single batch operation request to Cloud Directory, regardless of how many individual operations there are within that batch. Similarly, a total of 200 objects can be read in a single batch operation request to Cloud Directory. For more information, see <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/limits.html#limits_cd" target="_blank" rel="noopener noreferrer">limits on batch operations</a>.</p> 
<h3>Summary</h3> 
<p>In this post, I have demonstrated how you can use batch operations to operate on multiple objects and simplify making complicated changes across hierarchies. In my next post, I will demonstrate how to use batch references within batch write operations. To learn more about batch operations, see <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/batches.html" target="_blank" rel="noopener noreferrer">Batches</a>, <a href="http://docs.aws.amazon.com/directoryservice/latest/APIReference/API_BatchWrite.html" target="_blank" rel="noopener noreferrer">BatchWrite</a>, and <a href="http://docs.aws.amazon.com/directoryservice/latest/APIReference/API_BatchRead.html" target="_blank" rel="noopener noreferrer">BatchRead</a>.</p> 
<p>If you have comments about this post, submit them in the “Comments” section below. If you have implementation questions, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=180" target="_blank" rel="noopener noreferrer">Directory Service forum</a>.</p> 
<p>– Vineeth</p> 
<footer> 
TAGS: 
<span property="keywords"><a href="https://aws.amazon.com/blogs/security/tag/amazon-cloud-directory/" rel="tag">Amazon Cloud Directory</a>, <a href="https://aws.amazon.com/blogs/security/tag/aws-cli/" rel="tag">AWS CLI</a>, <a href="https://aws.amazon.com/blogs/security/tag/batch-read-operations/" rel="tag">batch read operations</a>, <a href="https://aws.amazon.com/blogs/security/tag/batch-write-operations/" rel="tag">batch write operations</a>, <a href="https://aws.amazon.com/blogs/security/tag/cloud-directory-apis/" rel="tag">Cloud Directory APIs</a>, <a href="https://aws.amazon.com/blogs/security/tag/java-sdk/" rel="tag">Java SDK</a></span> 
</footer> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4233');
});
</script> 
</article> 
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b class="b post-title" property="name headline">Coming Soon: Improvements to How You Sign In to Your AWS Account</b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">Siraj Valiya Valappil</span></span> | on 
<time property="datePublished" datetime="2017-07-17T06:09:18+00:00">17 JUL 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-identity-and-access-management-iam/" title="View all posts in AWS Identity and Access Management (IAM)*"><span property="articleSection">AWS Identity and Access Management (IAM)*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/coming-soon-improvements-to-how-you-sign-in-to-your-aws-account/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-4218" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=4218&amp;disqus_title=Coming+Soon%3A+Improvements+to+How+You+Sign+In+to+Your+AWS+Account&amp;disqus_url=https://aws.amazon.com/blogs/security/coming-soon-improvements-to-how-you-sign-in-to-your-aws-account/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4218');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p><strong>Update from August 25, 2017:</strong>&nbsp;These improvements are now live. For more details, see&nbsp;<a href="https://aws.amazon.com/blogs/security/now-available-improvements-to-how-you-sign-in-to-your-aws-account/" target="_blank" rel="noopener noreferrer">Now Available: Improvements to How You Sign In to Your AWS Account</a>.</p> 
<hr /> 
<p>Coming soon, AWS will improve the way you sign in to your AWS account. Whether you sign in as your account’s <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user.html" target="_blank" rel="noopener noreferrer">root user</a> or an <a href="https://aws.amazon.com/iam/" target="_blank" rel="noopener noreferrer">AWS Identity and Access Management</a> (IAM) user, you will be able to sign in from the AWS Management Console’s home page. This means that if you sign in as an IAM user, you will no longer be required to use an account-specific URL. However, the account-specific URL you use to sign in today will continue to work.</p> 
<p>In the new sign-in experience, you can sign in from the homepage using either your root user’s or IAM user’s credentials. In the first step, root users will enter their email address; IAM users will enter their <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/console_account-alias.html" target="_blank" rel="noopener noreferrer">account ID (or account alias)</a>. In the second step, root users will enter their password; IAM users will enter their user name and password.</p> 
<p>In this blog post, I explain the improvements that are coming soon to the way you sign in to your AWS account as a root user or IAM user. If you use a password manager to help you sign in to AWS, you may need to make updates so that it will work with the new sign-in experience.<span id="more-4218"></span></p> 
<b>The new sign-in experience</b> 
<p>The new AWS sign-in experience will allow both root users and IAM users to sign in using the <strong>Sign In to the Console</strong> link on the AWS home page.</p> 
<h3>Step 1: For root users and IAM users</h3> 
<p>As shown in the following screenshot, to sign in as a root user, you will type the email address associated with the root account. To sign in as an IAM user, you will type an AWS account ID or account alias. You will then choose <strong>Next</strong> to proceed to Step 2.</p> 
<p>If you usually sign in using the same browser and allow the browser to store AWS cookies, you will skip Step 1 on subsequent sign-in attempts. If you regularly switch users or accounts, AWS recommends that you prevent the sign-in page from storing AWS cookies.</p> 
<p><img class="alignnone wp-image-4296 size-full" title="Step 1: Sign in as a root user or IAM user" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/14/Siraj-July2017-1.jpg" alt="Step 1: Sign in as a root user or IAM user" width="325" height="428" /></p> 
<h3>Step 2: For root users</h3> 
<p>If you enter the email address associated with the root account in Step 1, you will be taken to the second step of signing in to the root account, as shown in the following screenshot. Type the password of the root account and choose <strong>Sign in</strong>. If you enabled <a href="https://aws.amazon.com/iam/details/mfa" target="_blank" rel="noopener noreferrer">multi-factor authentication</a> (MFA) for your root account, you will then be prompted to enter the code from your MFA device. After successful authentication, you will be signed in to the AWS Management Console, and the homepage of your root account will be displayed.</p> 
<p><img class="alignnone wp-image-4297 size-full" title="Step 2: For root users" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/14/Siraj-July2017-3.jpg" alt="Step 2: For root users" width="323" height="375" /></p> 
<h3>Step 2: For IAM users</h3> 
<p>If you enter an AWS account ID or account alias in Step 1, you will be taken to the second step for signing in as an IAM user, as shown in the following screenshot. Type the user name and password of the IAM user, and choose <strong>Sign in</strong>. If MFA has been enabled for your IAM user, you will then be prompted to enter the code from your MFA device. After successful authentication, the IAM user home page will be displayed.</p> 
<p><img class="alignnone wp-image-4298 size-full" title="Step 2: For IAM users" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/14/Siraj-July2017-2.jpg" alt="Step 2: For IAM users" width="324" height="479" /></p> 
<p>With these changes, you may need to make updates to password managers so that they will work with the new sign-in experience. We will publish another Security Blog post when the updated sign-in experience is available.</p> 
<p>If you have comments about the upcoming changes to how your root user and IAM users will sign in to your AWS account, enter a comment in the “Comments” section below. If you have questions, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=76" target="_blank" rel="noopener noreferrer">IAM forum</a>.</p> 
<p>– Siraj</p> 
<footer> 
TAGS: 
<span property="keywords"><a href="https://aws.amazon.com/blogs/security/tag/aws-iam/" rel="tag">AWS IAM</a>, <a href="https://aws.amazon.com/blogs/security/tag/iam-user-sign-in/" rel="tag">IAM user sign-in</a>, <a href="https://aws.amazon.com/blogs/security/tag/root-user-sign-in/" rel="tag">root user sign-in</a>, <a href="https://aws.amazon.com/blogs/security/tag/sign-in/" rel="tag">sign-in</a></span> 
</footer> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4218');
});
</script> 
</article> 
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b><a href="https://aws.amazon.com/blogs/security/aws-adds-12-more-services-to-its-pci-dss-compliance-program/" property="url" rel="bookmark"><span property="name headline">AWS Adds 12 More Services to Its PCI DSS Compliance Program</span></a></b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">Sara Duffer</span></span> | on 
<time property="datePublished" datetime="2017-07-13T06:54:22+00:00">13 JUL 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/compliance/" title="View all posts in Compliance"><span property="articleSection">Compliance</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/aws-adds-12-more-services-to-its-pci-dss-compliance-program/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-4279" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=4279&amp;disqus_title=AWS+Adds+12+More+Services+to+Its+PCI+DSS+Compliance+Program&amp;disqus_url=https://aws.amazon.com/blogs/security/aws-adds-12-more-services-to-its-pci-dss-compliance-program/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4279');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p style="text-align: center"><img class="alignnone wp-image-4288" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/12/PCIBox1.jpg" alt="" width="450" height="222" /></p> 
<p>Twelve more AWS services have obtained <a href="https://aws.amazon.com/compliance/pci-dss-level-1-faqs/" target="_blank" rel="noopener noreferrer">Payment Card Industry Data Security Standard</a> (PCI DSS) compliance, giving you more options, flexibility, and functionality to process and store sensitive payment card data in the AWS Cloud. The services were audited by <a href="https://www.coalfire.com/" target="_blank" rel="noopener noreferrer">Coalfire</a> to ensure that they meet strict <a href="https://www.pcisecuritystandards.org/" target="_blank" rel="noopener noreferrer">PCI DSS standards</a>.</p> 
<p>The newly compliant AWS services are:</p> 
<ul> 
<li><a href="https://aws.amazon.com/api-gateway/" target="_blank" rel="noopener noreferrer">Amazon API Gateway</a></li> 
<li><a href="https://aws.amazon.com/cloudwatch/details/#log-monitoring" target="_blank" rel="noopener noreferrer">Amazon CloudWatch Logs</a></li> 
<li><a href="https://aws.amazon.com/cognito/" target="_blank" rel="noopener noreferrer">Amazon Cognito</a></li> 
<li><a href="https://aws.amazon.com/connect/" target="_blank" rel="noopener noreferrer">Amazon Connect</a></li> 
<li><a href="https://aws.amazon.com/kinesis/streams/" target="_blank" rel="noopener noreferrer">Amazon Kinesis Streams</a></li> 
<li><a href="https://aws.amazon.com/workdocs/" target="_blank" rel="noopener noreferrer">Amazon WorkDocs</a></li> 
<li><a href="https://aws.amazon.com/workspaces/" target="_blank" rel="noopener noreferrer">Amazon WorkSpaces</a></li> 
<li><a href="https://aws.amazon.com/dms/" target="_blank" rel="noopener noreferrer">AWS Database Migration Service</a></li> 
<li><a href="https://aws.amazon.com/directoryservice/" target="_blank" rel="noopener noreferrer">AWS Directory Service</a> (AWS Microsoft AD, Amazon Cloud Directory)</li> 
<li><a href="https://aws.amazon.com/lambda/" target="_blank" rel="noopener noreferrer">AWS Lambda</a></li> 
<li><a href="https://aws.amazon.com/managed-services/" target="_blank" rel="noopener noreferrer">AWS Managed Services</a></li> 
<li><a href="https://aws.amazon.com/opsworks/stacks/" target="_blank" rel="noopener noreferrer">AWS OpsWorks Stacks</a></li> 
</ul> 
<p>AWS now offers <a href="https://aws.amazon.com/compliance/services-in-scope/" target="_blank" rel="noopener noreferrer">42 services</a> that meet PCI DSS standards, putting administrators in better control of their frameworks and making workloads more efficient and cost effective.</p> 
<p>For more information about the AWS PCI DSS compliance program, see <a href="https://aws.amazon.com/compliance/resources/" target="_blank" rel="noopener noreferrer">Compliance Resources</a>, <a href="https://aws.amazon.com/compliance/services-in-scope/" target="_blank" rel="noopener noreferrer">AWS Services in Scope by Compliance Program</a>, and <a href="https://aws.amazon.com/compliance/pci-dss-level-1-faqs/" target="_blank" rel="noopener noreferrer">PCI DSS Compliance</a>.</p> 
<p>– Sara</p> 
</article> 
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b class="b post-title" property="name headline">How to Configure Even Stronger Password Policies to Help Meet Your Security Standards by Using AWS Directory Service for Microsoft Active Directory</b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">Ravi Turlapati</span></span> | on 
<time property="datePublished" datetime="2017-07-12T05:54:24+00:00">12 JUL 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-directory-service/" title="View all posts in AWS Directory Service*"><span property="articleSection">AWS Directory Service*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-configure-even-stronger-password-policies-to-help-meet-your-security-standards-by-using-aws-directory-service-for-microsoft-active-directory/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-4157" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=4157&amp;disqus_title=How+to+Configure+Even+Stronger+Password+Policies+to+Help+Meet+Your+Security+Standards+by+Using+AWS+Directory+Service+for+Microsoft+Active+Directory&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-configure-even-stronger-password-policies-to-help-meet-your-security-standards-by-using-aws-directory-service-for-microsoft-active-directory/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4157');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p>With <a href="https://aws.amazon.com/directoryservice/" target="_blank" rel="noopener noreferrer">AWS Directory Service for Microsoft Active Directory (Enterprise Edition)</a>, also known as AWS Microsoft AD, you can now create and enforce custom password policies for your Microsoft Windows users. AWS Microsoft AD now includes five empty password policies that you can edit and apply with standard Microsoft password policy tools such as <a href="https://technet.microsoft.com/en-us/library/dd560651%28v=ws.10%29.aspx" target="_blank" rel="noopener noreferrer">Active Directory Administrative Center</a> (ADAC). With this capability, you are no longer limited to the default Windows password policy. Now, you can configure even stronger password policies and define lockout policies that specify when to lock out an account after login failures.</p> 
<p>In this blog post, I demonstrate how to edit these new password policies to help you meet your security standards by using AWS Microsoft AD. I also introduce the password attributes you can modify and demonstrate how to apply password policies to user groups in your domain.<span id="more-4157"></span></p> 
<h3>Prerequisites</h3> 
<p>The instructions in this post assume that you already have the following components running:</p> 
<ul> 
<li>An active AWS Microsoft AD directory.</li> 
<li>An <a href="https://aws.amazon.com/windows/products/ec2/" target="_blank" rel="noopener noreferrer">Amazon EC2 for Windows Server</a> instance that is domain joined to your AWS Microsoft AD directory and on which you have installed ADAC.</li> 
</ul> 
<p>If you still need to meet these prerequisites before proceeding:</p> 
<ul> 
<li>For information about how to deploy AWS Microsoft AD, see <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/create_managed_ad.html" target="_blank" rel="noopener noreferrer">How to Create a Microsoft AD directory</a>.</li> 
<li>To join an EC2 for Windows Server instance to your AWS Microsoft AD domain on which you run ADAC, see <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/join_windows_instance.html" target="_blank" rel="noopener noreferrer">Manually Add a Windows Instance</a>.</li> 
<li>Follow the steps in <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/install_ad_tools.html" target="_blank" rel="noopener noreferrer">Installing the Active Directory Administration Tools</a> to install Active Directory Administration Tools on your EC2 for Windows Server instance.</li> 
</ul> 
<p><a name="scenariooverview"></a></p> 
<h3>Scenario overview</h3> 
<p>Let’s say I am the Active Directory (AD) administrator of Example Corp. At Example Corp., we have a group of technical administrators, several groups of senior managers, and general, nontechnical employees. I need to create password policies for these groups that match our security standards.</p> 
<p>Our general employees have access only to low-sensitivity information. However, our senior managers regularly access confidential information and we want to enforce password complexity (a mix of upper and lower case letters, numbers, and special characters) to reduce the risk of data theft. For our administrators, we want to enforce password complexity policies to prevent unauthorized access to our system administration tools.</p> 
<p>Our security standards call for the following enforced password and account lockout policies:</p> 
<ul> 
<li><strong>General employees</strong> – To make it easier for nontechnical general employees to remember their passwords, we do not enforce password complexity. However, we want to enforce a minimum password length of 8 characters and a lockout policy after 6 failed login attempts as a minimum bar to protect against unwanted access to our low-sensitivity information. If a general employee forgets their password and becomes locked out, we let them try again in 5 minutes, rather than require escalated password resets. We also want general employees to rotate their passwords every 60 days with no duplicated passwords in the past 10 password changes.</li> 
<li><strong>Senior managers</strong> – For senior managers, we enforce a minimum password length of 10 characters and require password complexity. An account lockout is enforced after 6 failed attempts with an account lockout duration of 15 minutes. Senior managers must rotate their passwords every 45 days, and they cannot duplicate passwords from the past 20 changes.</li> 
<li><strong>Administrators </strong>– For administrators, we enforce password complexity with a minimum password length of 15 characters. We also want to lock out accounts after 6 failed attempts, have password rotation every 30 days, and disallow duplicate passwords in the past 30 changes. When a lockout occurs, we require a special administrator to intervene and unlock the account so that we can be aware of any potential hacking.</li> 
<li><strong>Fine-Grained Password Policy administrators</strong> – To ensure that only trusted administrators unlock accounts, we have two special administrator accounts (<span style="font-family: courier">admin</span> and <span style="font-family: courier">midas</span>) that can unlock accounts. These two accounts have the same policy as the other administrators except they have an account lockout duration of 15 minutes, rather than requiring a password reset. These two accounts are also the accounts used to manage Example Corp.’s password policies.</li> 
</ul> 
<p>The following table summarizes how I edit each of the four policies I intend to use.</p> 
<table border="1" width="0"> 
<tbody> 
<tr> 
<td width="150"><strong>Policy name</strong></td> 
<td style="text-align: center" width="150"><span style="font-family: courier">EXAMPLE-PSO-01</span></td> 
<td style="text-align: center" width="150"><span style="font-family: courier">EXAMPLE-PSO-02</span></td> 
<td style="text-align: center" width="150"><span style="font-family: courier">EXAMPLE-PSO-03</span></td> 
<td style="text-align: center" width="150"><span style="font-family: courier">EXAMPLE-PSO-05</span></td> 
</tr> 
<tr> 
<td width="150"><strong>Precedence</strong></td> 
<td style="text-align: center" width="150">10</td> 
<td style="text-align: center" width="150">20</td> 
<td style="text-align: center" width="150">30</td> 
<td style="text-align: center" width="150">50</td> 
</tr> 
<tr> 
<td width="150"><strong>User group</strong></td> 
<td style="text-align: center" width="150"><span style="font-family: courier">Fine-Grained Password Policy Administrators</span></td> 
<td style="text-align: center" width="150"><span style="font-family: courier">Other Administrators</span></td> 
<td style="text-align: center" width="150"><span style="font-family: courier">Senior Managers</span></td> 
<td style="text-align: center" width="150"><span style="font-family: courier">General Employees</span></td> 
</tr> 
<tr> 
<td width="150"><strong>Minimum password length </strong></td> 
<td style="text-align: center" width="127">15</td> 
<td style="text-align: center" width="126">15</td> 
<td style="text-align: center" width="127">10</td> 
<td style="text-align: center" width="121">8</td> 
</tr> 
<tr> 
<td width="150"><strong>Password complexity </strong></td> 
<td style="text-align: center" width="127">Enable</td> 
<td style="text-align: center" width="126">Enable</td> 
<td style="text-align: center" width="127">Enable</td> 
<td style="text-align: center" width="121">Disable</td> 
</tr> 
<tr> 
<td width="150"><strong>Maximum password age</strong></td> 
<td style="text-align: center" width="127">30 days</td> 
<td style="text-align: center" width="126">30 days</td> 
<td style="text-align: center" width="127">45 days</td> 
<td style="text-align: center" width="121">60 days</td> 
</tr> 
<tr> 
<td width="150"><strong>Account complexity</strong></td> 
<td style="text-align: center" width="127">Enable</td> 
<td style="text-align: center" width="126">Enable</td> 
<td style="text-align: center" width="127">Enable</td> 
<td style="text-align: center" width="121">Disable</td> 
</tr> 
<tr> 
<td width="150"><strong>Number of failed logon attempts allowed</strong></td> 
<td style="text-align: center" width="127">6</td> 
<td style="text-align: center" width="126">6</td> 
<td style="text-align: center" width="127">6</td> 
<td style="text-align: center" width="121">6</td> 
</tr> 
<tr> 
<td width="150"><strong>Duration</strong></td> 
<td style="text-align: center" width="127">15 minutes</td> 
<td style="text-align: center" width="126">Not applicable</td> 
<td style="text-align: center" width="127">15 minutes</td> 
<td style="text-align: center" width="121">5 minutes</td> 
</tr> 
<tr> 
<td width="150"><strong>Password history</strong></td> 
<td style="text-align: center" width="127">24</td> 
<td style="text-align: center" width="126">30</td> 
<td style="text-align: center" width="127">20</td> 
<td style="text-align: center" width="121">10</td> 
</tr> 
<tr> 
<td width="150"><strong>Until admin manually unlocks account</strong></td> 
<td style="text-align: center" width="127">Not applicable</td> 
<td style="text-align: center" width="126">Selected</td> 
<td style="text-align: center" width="127">Not applicable</td> 
<td style="text-align: center" width="121">Not applicable</td> 
</tr> 
</tbody> 
</table> 
<p>To implement these password policies, I use 4 of the 5 new password policies available in AWS Microsoft AD:</p> 
<ol> 
<li>I first explain how to configure the password policies.</li> 
<li>I then demonstrate how to apply the four password policies that match Example Corp.’s security standards for these user groups.</li> 
</ol> 
<h3>1. Configure password policies in AWS Microsoft AD</h3> 
<p>To help you get started with password policies, AWS has added the <span style="font-family: courier">Fine-Grained Pwd Policy Admins</span> AD security group to your AWS Microsoft AD directory. Any user or other security group that is part of the <span style="font-family: courier">Fine-Grained Pwd Policy Admins</span> group has permissions to edit and apply the five new password policies. By default, your directory <span style="font-family: courier">Admin</span> is part of the new group and can add other users or groups to this group.</p> 
<h4>Adding users to the Fine-Grained Pwd Policy Admins user group</h4> 
<p>Follow these steps to add more users or AD security groups to the <span style="font-family: courier">Fine-Grained Pwd Policy Admins</span> security group so that they can administer fine-grained password policies:</p> 
<ol> 
<li>Launch ADAC from your managed instance.</li> 
<li>Switch to the <strong>Tree View</strong> and navigate to <strong>CORP &gt; Users</strong>.</li> 
<li>Find the <strong>Fine Grained Pwd Policy Admins</strong> user group. Add any users or groups in your domain to this group.</li> 
</ol> 
<p><a name="edit"></a></p> 
<h4>Edit password policies</h4> 
<p>To edit fine-grained password policies, <a href="https://technet.microsoft.com/en-us/library/dd560651%28v=ws.10%29.aspx" target="_blank" rel="noopener noreferrer">open ADAC</a> from any management instance joined to your domain. Switch to the <strong>Tree View</strong> and navigate to <strong>System &gt; Password Settings Container</strong>. You will see the five policies containing the string <span style="font-family: courier">-PSO-</span> that AWS added to your directory, as shown in the following screenshot. Select a policy to edit it.</p> 
<p><img class="alignnone wp-image-4175 size-full" title="Screenshot showing the five new password policies" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/06/RaviT-July2017-screenshot6.jpg" alt="Screenshot showing the five new password policies" width="851" height="320" /></p> 
<p>After editing the password policy, apply the policy by adding users or AD security groups to these policies by choosing <strong>Add</strong>. The default <strong>domain</strong> GPO applies if you do not configure any of the five password policies. For additional details about using Password Settings Container, go to <a href="https://blogs.technet.microsoft.com/canitpro/2013/05/29/step-by-step-enabling-and-using-fine-grained-password-policies-in-ad/" target="_blank" rel="noopener noreferrer">Step-by-Step: Enabling and Using Fine-Grained Password Policies in AD</a> on the Microsoft TechNet Blog.</p> 
<h4>The password attributes you can edit</h4> 
<p>AWS allows you to edit all of the password attributes except <strong><span style="font-family: courier">Precedence</span></strong> (I explain more about <strong><span style="font-family: courier">Precedence</span></strong> in the next section). These attributes include:</p> 
<ul> 
<li>Password history</li> 
<li>Minimum password length</li> 
<li>Minimum password age</li> 
<li>Maximum password age</li> 
<li>Store password using reversible encryption</li> 
<li>Password must meet complexity requirements</li> 
</ul> 
<p>You also can enforce the following attributes for account lockout settings:</p> 
<ul> 
<li>The number of failed login attempts allowed</li> 
<li>Account lockout duration</li> 
<li>Reset failed login attempts after a specified duration</li> 
</ul> 
<p>For more details about how these attributes affect password enforcement, see <a href="https://technet.microsoft.com/en-us/library/cc770394(v=ws.10).aspx" target="_blank" rel="noopener noreferrer">AD DS: Fine-Grained Password Policies</a> on Microsoft TechNet.</p> 
<h4>Understanding password policy precedence</h4> 
<p>AD password policies have a precedence (a numerical attribute that AD uses to determine the resultant policy) associated with them. Policies with a lower value for <strong><span style="font-family: courier">Precedence</span></strong> have higher priority than other policies. A user inherits all policies that you apply directly to the user or to any groups to which the user belongs. For example, suppose <span style="font-family: courier">jsmith</span> is a member of the <span style="font-family: courier">HR</span> group and also a member of the <span style="font-family: courier">MANAGERS</span> group. If I apply a policy with a <span style="font-family: courier">Precedence</span> of <span style="font-family: courier">50</span> to the <span style="font-family: courier">HR</span> group and a policy with a <span style="font-family: courier">Precedence</span> of <span style="font-family: courier">40</span> to <span style="font-family: courier">MANAGERS</span>, the policy with the <strong><span style="font-family: courier">Precedence</span></strong> value of <span style="font-family: courier">40</span> ranks higher and AD applies that policy to <span style="font-family: courier">jsmith</span>.</p> 
<p>If you apply multiple policies to a user or group, the resultant policy is determined as follows by AD:</p> 
<ol> 
<li>If you apply a policy directly to a user, AD enforces the lowest directly applied password policy.</li> 
<li>If you did not apply a policy directly to the user, AD enforces the policy with the lowest <strong><span style="font-family: courier">Precedence</span></strong> value of all policies inherited by the user through the user’s group membership.</li> 
</ol> 
<p>For more information about AD fine-grained policies, see <a href="https://technet.microsoft.com/en-us/library/cc770394(v=ws.10).aspx" target="_blank" rel="noopener noreferrer">AD DS: Fine-Grained Password Policies</a> on Microsoft TechNet.</p> 
<h3>2. Apply password policies to user groups</h3> 
<p>In this section, I demonstrate how to apply Example Corp.’s password policies. Except in rare cases, I only apply policies by group membership, which ensures that AD does not enforce a lower priority policy on an individual user if have I added them to a group with a higher priority policy.</p> 
<p>Because my directory is new, I use a <a href="https://technet.microsoft.com/pt-pt/library/cc753907(v=ws.10).aspx" target="_blank" rel="noopener noreferrer">Remote Desktop Protocol (RDP) connection</a> to sign in to the Windows Server instance I domain joined to my AWS Microsoft AD directory. Signing in with the <span style="font-family: courier">admin</span> account, I launch ADAC to perform the following tasks:</p> 
<ol> 
<li>First, I set up my groups so that I can apply password policies to them. Later, I can create user accounts and add them to my groups and AD applies the right policy by using the policy precedence and resultant policy algorithms I discussed previously. I start by adding the two special administrative accounts (<span style="font-family: courier">admin</span> and <span style="font-family: courier">midas</span>) that I described previously to the <span style="font-family: courier">Fine-Grained Pwd Policy Admins</span>. Because AWS Microsoft AD adds my default <span style="font-family: courier">admin</span> account to <span style="font-family: courier">Fine-Grained Pwd Policy Admins</span>, I only need to create <span style="font-family: courier">midas</span> and then add <span style="font-family: courier">midas</span> to the <span style="font-family: courier">Fine-Grained Pwd Policy Admins</span> group.</li> 
<li>Next, I create the <span style="font-family: courier">Other Administrators</span>, <span style="font-family: courier">Senior Managers</span>, and <span style="font-family: courier">General Employees</span> groups that I described previously, as shown in the following screenshot.<br /> <img class="alignnone wp-image-4176 size-full" title="Screenshot of the groups created" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/06/RaviT-July2017-Screenshot2.jpg" alt="Screenshot of the groups created" width="864" height="590" /></li> 
</ol> 
<p>For this post’s example, I use these four policies:</p> 
<ol> 
<li><span style="font-family: courier">EXAMPLE-PSO-01</span> (highest priority policy) – For the administrators who manage Example Corp.’s password policies. Applying this highest priority policy to the <span style="font-family: courier">Fine-Grained Pwd Policy Admins</span> group prevents these users from being locked out if they also are assigned to a different policy.</li> 
<li><span style="font-family: courier">EXAMPLE-PSO-02</span> (the second highest priority policy) – For Example Corp.’s other administrators.</li> 
<li><span style="font-family: courier">EXAMPLE-PSO-03</span> (the third highest priority policy) – For Example Corp.’s senior managers.</li> 
<li><span style="font-family: courier">EXAMPLE-PSO-05</span> (the lowest priority policy) – For Example Corp.’s general employees.</li> 
</ol> 
<p>This leaves me one password policy (<span style="font-family: courier">EXAMPLE-PSO-04</span>) that I can use for in the future if needed.</p> 
<p>I start by editing the policy, <span style="font-family: courier">EXAMPLE-PSO-01</span>. To edit the policy, I follow the <a href="https://aws.amazon.com/blogs/security/how-to-configure-strong-password-policies-to-help-meet-your-security-standards-by-using-aws-directory-service-for-microsoft-active-directory/#edit">Edit password policies</a> section from earlier in this post. When finished, I add the <span style="font-family: courier">Fine-Grained Pwd Policy Admins</span> group to that policy, as shown in the following screenshot. I then repeat the process for each of the remaining policies, as described in the <a href="https://aws.amazon.com/blogs/security/how-to-configure-strong-password-policies-to-help-meet-your-security-standards-by-using-aws-directory-service-for-microsoft-active-directory/#scenariooverview">Scenario overview</a> section earlier in this post.</p> 
<p><img class="alignnone wp-image-4226 size-full" title="Screenshot of adding the Fine-Grained Pwd Policy Admins group to the EXAMPLE-PSO-01 policy" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/10/RaviT-July2017-screenshot7-a.png" alt="Screenshot of adding the Fine-Grained Pwd Policy Admins group to the EXAMPLE-PSO-01 policy" width="900" height="455" /></p> 
<p>Though AD enforces new password policies, the timing related to how password policies replicate in the directory, the types of attributes that are changed, and the timing of user password changes can cause variability in the immediacy of policy enforcement. In general, after the policies are replicated throughout the directory, attributes that affect account lockout and password age take effect. Attributes that affect the quality of a password, such as password length, take effect when the password is changed. If the password age for a user is in compliance, but their password strength is out of compliance, the user is not forced to change their password. For more information password policy impact, see this <a href="https://technet.microsoft.com/en-us/library/hh994562(v=ws.10).aspx" target="_blank" rel="noopener noreferrer">Microsoft TechNet article</a>.</p> 
<h3>Summary</h3> 
<p>In this post, I have demonstrated how you can configure strong password policies to meet your security standards by using AWS Microsoft AD. To learn more about AWS Microsoft AD, see the <a href="http://aws.amazon.com/directoryservice/" target="_blank" rel="noopener noreferrer">AWS Directory Service home page</a>.</p> 
<p>If you have comments about this post, submit them in the “Comments” section below. If you have questions about this blog post, start a new thread on the&nbsp;<a href="https://forums.aws.amazon.com/forum.jspa?forumID=180" target="_blank" rel="noopener noreferrer">Directory Service forum.</a></p> 
<p>– Ravi</p> 
<footer> 
TAGS: 
<span property="keywords"><a href="https://aws.amazon.com/blogs/security/tag/active-directory/" rel="tag">Active Directory</a>, <a href="https://aws.amazon.com/blogs/security/tag/adac/" rel="tag">ADAC</a>, <a href="https://aws.amazon.com/blogs/security/tag/aws-directory-service/" rel="tag">AWS Directory Service</a>, <a href="https://aws.amazon.com/blogs/security/tag/aws-management-console/" rel="tag">AWS Management Console</a>, <a href="https://aws.amazon.com/blogs/security/tag/aws-microsoft-ad/" rel="tag">AWS Microsoft AD</a>, <a href="https://aws.amazon.com/blogs/security/tag/fgpp/" rel="tag">FGPP</a>, <a href="https://aws.amazon.com/blogs/security/tag/fine-grained-password-policies/" rel="tag">fine-grained password policies</a>, <a href="https://aws.amazon.com/blogs/security/tag/microsoft-ad/" rel="tag">Microsoft AD</a></span> 
</footer> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4157');
});
</script> 
</article> 
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b class="b post-title" property="name headline">How to Increase the Redundancy and Performance of Your AWS Directory Service for Microsoft AD Directory by Adding Domain Controllers</b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">Peter Pereira</span></span> | on 
<time property="datePublished" datetime="2017-07-06T14:51:04+00:00">06 JUL 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-directory-service/" title="View all posts in AWS Directory Service*"><span property="articleSection">AWS Directory Service*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-increase-the-redundancy-and-performance-of-your-aws-directory-service-for-microsoft-ad-directory-by-adding-domain-controllers/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-4130" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=4130&amp;disqus_title=How+to+Increase+the+Redundancy+and+Performance+of+Your+AWS+Directory+Service+for+Microsoft+AD+Directory+by+Adding+Domain+Controllers&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-increase-the-redundancy-and-performance-of-your-aws-directory-service-for-microsoft-ad-directory-by-adding-domain-controllers/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4130');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p>You can now increase the redundancy and performance of your <a href="https://aws.amazon.com/directoryservice/" target="_blank" rel="noopener noreferrer">AWS Directory Service for Microsoft Active Directory (Enterprise Edition)</a>, also known as AWS Microsoft AD, directory by deploying additional domain controllers. Adding domain controllers increases redundancy, resulting in even greater resilience and higher availability. This new capability enables you to have at least two domain controllers operating, even if an Availability Zone were to be temporarily unavailable. The additional domain controllers also improve the performance of your applications by enabling directory clients to load-balance their requests across a larger number of domain controllers. For example, AWS Microsoft AD enables you to use larger fleets of <a href="https://aws.amazon.com/ec2/" target="_blank" rel="noopener noreferrer">Amazon EC2</a> instances to run .NET applications that perform frequent user attribute lookups.</p> 
<p>AWS Microsoft AD is a highly available, managed Active Directory built on actual Microsoft Windows Server 2012 R2 in the AWS Cloud. When you create your AWS Microsoft AD directory, AWS deploys two domain controllers that are exclusively yours in separate <a href="https://aws.amazon.com/about-aws/global-infrastructure/" target="_blank" rel="noopener noreferrer">Availability Zones</a> for high availability. Now, you can deploy additional domain controllers easily via the <a href="https://console.aws.amazon.com/directoryservice/" target="_blank" rel="noopener noreferrer">Directory Service console</a> or <a href="http://docs.aws.amazon.com/directoryservice/latest/devguide/api-guide.html" target="_blank" rel="noopener noreferrer">API</a>, by specifying the total number of domain controllers that you want.</p> 
<p>AWS Microsoft AD distributes the additional domain controllers across the Availability Zones and subnets within the <a href="https://aws.amazon.com/vpc/" target="_blank" rel="noopener noreferrer">Amazon VPC</a> where your directory is running. AWS deploys the domain controllers, configures them to replicate directory changes, monitors for and repairs any issues, performs daily snapshots, and updates the domain controllers with patches. This reduces the effort and complexity of creating and managing your own domain controllers in the AWS Cloud.</p> 
<p>In this blog post, I create an AWS Microsoft AD directory with two domain controllers in each Availability Zone. This ensures that I always have at least two domain controllers operating, even if an entire Availability Zone were to be temporarily unavailable. To accomplish this, first I create an AWS Microsoft AD directory with one domain controller per Availability Zone, and then I deploy one additional domain controller per Availability Zone.</p> 
<h3>Solution architecture</h3> 
<p>The following diagram shows how AWS Microsoft AD deploys all the domain controllers in this solution after you complete Steps 1 and 2. In Step 1, AWS Microsoft AD deploys the two required domain controllers across multiple Availability Zones and subnets in an Amazon VPC. In Step 2, AWS Microsoft AD deploys one additional domain controller per Availability Zone and subnet.<span id="more-4130"></span></p> 
<p><img class="alignnone wp-image-4133 size-full" title="Solution diagram" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/06/PPereiradiagram-July2017.png" alt="Solution diagram" width="663" height="666" /></p> 
<h3>Step 1: Create an AWS Microsoft AD directory</h3> 
<p>First, I <a href="http://docs.aws.amazon.com/directoryservice/latest/admin-guide/create_directory.html" target="_blank" rel="noopener noreferrer">create an AWS Microsoft AD directory</a> in an Amazon VPC. I can add domain controllers only after AWS Microsoft AD configures my first two required domain controllers. In my example, my domain name is <span style="font-family: courier">example.com</span>.</p> 
<p>When I create my directory, I must choose the VPC in which to deploy my directory (as shown in the following screenshot). Optionally, I can choose the subnets in which to deploy my domain controllers, and AWS Microsoft AD ensures I select subnets from different Availability Zones. In this case, I have no subnet preference, so I choose <strong>No Preference</strong> from the <strong>Subnets</strong> drop-down list. In this configuration, AWS Microsoft AD selects subnets from two different Availability Zones to deploy the directory.</p> 
<p><img class="alignnone wp-image-4134 size-full" title="Screenshot of choosing the VPC in which to create the directory" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/06/Step1_Creating_Directory.png" alt="Screenshot of choosing the VPC in which to create the directory" width="800" height="529" /></p> 
<p>I then choose <strong>Next Step</strong> to review my configuration, and then choose <strong>Create Microsoft AD</strong>. It takes approximately 40 minutes for my domain controllers to be created. I can check the status from the AWS Directory Service console, and when the status is <strong>Active</strong>, I can add my two additional domain controllers to the directory.</p> 
<h3>Step 2: Deploy two more domain controllers in the directory</h3> 
<p>Now that I have created an AWS Microsoft AD directory and it is active, I can deploy two additional domain controllers in the directory. AWS Microsoft AD enables me to add domain controllers through the Directory Service console or API. In this post, I use the console.</p> 
<p>To deploy two more domain controllers in the directory:</p> 
<ol> 
<li>I open the <a href="https://console.aws.amazon.com/console/home" target="_blank" rel="noopener noreferrer">AWS Management Console</a>, choose <strong>Directory Service</strong>, and then choose the Microsoft AD <strong>Directory ID</strong>. In my example, my recently created directory is <span style="font-family: courier">example.com</span>, as shown in the following screenshot.<img class="alignnone wp-image-4135 size-full" title="Screenshot of choosing the Directory ID" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/06/Step2A_Listing_DCs.png" alt="Screenshot of choosing the Directory ID" width="573" height="165" /></li> 
<li>I choose the <strong>Domain controllers&nbsp;</strong>tab&nbsp;next. Here I can see the two domain controllers that AWS Microsoft AD created for me in Step 1. It also shows the Availability Zones and subnets in which AWS Microsoft AD deployed the domain controllers.<img class="alignnone wp-image-4138 size-full" title="Screenshot showing the domain controllers, Availability Zones, and subnets" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/06/Step2B_Required_DCs.png" alt="Screenshot showing the domain controllers, Availability Zones, and subnets" width="556" height="662" /></li> 
<li>I then choose <strong>Modify</strong> on the <strong>Domain controllers</strong>&nbsp;tab. I specify the total number of domain controllers I want by choosing the subtract and add buttons. In my example, I want four domain controllers in total for my directory.<img class="alignnone wp-image-4145 size-full" title="Screenshot showing how to specify the total number of domain controllers" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/06/Step2C_Modify_DCs-a.png" alt="Screenshot showing how to specify the total number of domain controllers" width="849" height="419" /></li> 
<li>I choose <strong>Apply</strong>. AWS Microsoft AD deploys the two additional domain controllers and distributes them evenly across the Availability Zones and subnets in my Amazon VPC. Within a few seconds, I can see the Availability Zones and subnets in which AWS Microsoft AD deployed my two additional domain controllers with a status of <strong>Creating</strong> (see the following screenshot). While AWS Microsoft AD deploys the additional domain controllers, my directory continues to operate by using the active domain controllers—with no disruption of service.<br /> <img class="alignnone wp-image-4147 size-full" title="Screenshot of two additional domain controllers with a status of &quot;Creating&quot;" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/06/Step2D_Creating-a.png" alt="Screenshot of two additional domain controllers with a status of &quot;Creating&quot;" width="687" height="405" /></li> 
<li>When AWS Microsoft AD completes the deployment steps, all domain controllers are in <strong>Active</strong> status and available for use by my applications. As a result, I have improved the redundancy and performance of my directory.<img class="alignnone wp-image-4149 size-full" title="Screenshot showing all domain controllers in &quot;Active&quot; status" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/06/Step2E_Complete-a.png" alt="" width="686" height="346" /></li> 
</ol> 
<p style="padding-left: 30px"><strong>Note:&nbsp;</strong>After deploying additional domain controllers, I can reduce the number of domain controllers by repeating the modification steps with a lower number of total domain controllers. Unless a directory is deleted, AWS Microsoft AD does not allow fewer than two domain controllers per directory in order to deliver fault tolerance and high availability.</p> 
<h3>Summary</h3> 
<p>In this blog post, I demonstrated how to deploy additional domain controllers in your AWS Microsoft AD directory. By adding domain controllers, you increase the redundancy and performance of your directory, which makes it easier for you to migrate and run mission-critical Active Directory–integrated workloads in the AWS Cloud without having to deploy and maintain your own AD infrastructure.</p> 
<p>To learn more about AWS Directory Service, see the <a href="http://aws.amazon.com/directoryservice/" target="_blank" rel="noopener noreferrer">AWS Directory Service home page</a>. If you have questions, post them on the&nbsp;<a href="https://forums.aws.amazon.com/forum.jspa?forumID=180" target="_blank" rel="noopener noreferrer">Directory Service forum.</a></p> 
<p>– Peter</p> 
<footer> 
TAGS: 
<span property="keywords"><a href="https://aws.amazon.com/blogs/security/tag/aws-directory-service/" rel="tag">AWS Directory Service</a>, <a href="https://aws.amazon.com/blogs/security/tag/aws-microsoft-ad/" rel="tag">AWS Microsoft AD</a>, <a href="https://aws.amazon.com/blogs/security/tag/domain-controller/" rel="tag">domain controller</a>, <a href="https://aws.amazon.com/blogs/security/tag/microsoft-active-directory/" rel="tag">Microsoft Active Directory</a></span> 
</footer> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4130');
});
</script> 
</article> 
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b><a href="https://aws.amazon.com/blogs/security/new-security-whitepaper-now-available-use-aws-waf-to-mitigate-owasps-top-10-web-application-vulnerabilities/" property="url" rel="bookmark"><span property="name headline">New Security Whitepaper Now Available: Use AWS WAF to Mitigate OWASP’s Top 10 Web Application Vulnerabilities</span></a></b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">Vlad Vlasceanu</span></span> | on 
<time property="datePublished" datetime="2017-07-06T06:58:49+00:00">06 JUL 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-waf/" title="View all posts in AWS WAF*"><span property="articleSection">AWS WAF*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/new-security-whitepaper-now-available-use-aws-waf-to-mitigate-owasps-top-10-web-application-vulnerabilities/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-4047" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=4047&amp;disqus_title=New+Security+Whitepaper+Now+Available%3A+Use+AWS+WAF+to+Mitigate+OWASP%E2%80%99s+Top+10+Web+Application+Vulnerabilities&amp;disqus_url=https://aws.amazon.com/blogs/security/new-security-whitepaper-now-available-use-aws-waf-to-mitigate-owasps-top-10-web-application-vulnerabilities/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4047');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p style="text-align: center"><img class="alignnone wp-image-4055 size-medium" title="Whitepaper image" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/06/22/whitepaper-generic-300x235.png" alt="Whitepaper image" width="300" height="235" /></p> 
<p>Today, we released a new security whitepaper: <a href="https://d0.awsstatic.com/whitepapers/Security/aws-waf-owasp.pdf" target="_blank" rel="noopener noreferrer">Use AWS WAF to Mitigate OWASP’s Top 10 Web Application Vulnerabilities</a>. This whitepaper describes how you can use <a href="https://aws.amazon.com/waf/" target="_blank" rel="noopener noreferrer">AWS WAF</a>, a web application firewall, to address the top application security flaws as named by the&nbsp;<a href="https://www.owasp.org/index.php/Main_Page" target="_blank" rel="noopener noreferrer">Open Web Application Security Project</a> (OWASP). Using AWS WAF, you can write rules to match patterns of exploitation attempts in HTTP requests and block requests from reaching your web servers. This whitepaper discusses manifestations of these security vulnerabilities, AWS WAF–based mitigation strategies, and other AWS services or solutions that can help address these threats.</p> 
<p>– Vlad</p> 
</article> 
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b class="b post-title" property="name headline">New Information in the AWS IAM Console Helps You Follow IAM Best Practices</b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">Rob Moncur</span></span> | on 
<time property="datePublished" datetime="2017-07-05T14:03:58+00:00">05 JUL 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-identity-and-access-management-iam/" title="View all posts in AWS Identity and Access Management (IAM)*"><span property="articleSection">AWS Identity and Access Management (IAM)*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/newly-updated-features-in-the-aws-iam-console-help-you-adhere-to-iam-best-practices/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-3727" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=3727&amp;disqus_title=New+Information+in+the+AWS+IAM+Console+Helps+You+Follow+IAM+Best+Practices&amp;disqus_url=https://aws.amazon.com/blogs/security/newly-updated-features-in-the-aws-iam-console-help-you-adhere-to-iam-best-practices/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-3727');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p>Today, we added new information to the <strong>Users</strong> section of the <a href="https://aws.amazon.com/iam/" target="_blank" rel="noopener noreferrer">AWS Identity and Access Management</a>&nbsp;(IAM) <a href="https://console.aws.amazon.com/iam/home" target="_blank" rel="noopener noreferrer">console</a> to make it easier for you to follow <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html" target="_blank" rel="noopener noreferrer">IAM best practices</a>. With this new information, you can more easily monitor users’ activity in your AWS account and identify access keys and passwords that you should&nbsp;<a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#rotate-credentials" target="_blank" rel="noopener noreferrer">rotate regularly</a>. You can also better audit users’ MFA device usage and keep track of their group memberships. In this post, I show how you can use this new information to help you follow&nbsp;IAM best practices.</p> 
<h3>Monitor activity in your AWS account</h3> 
<p>The IAM best practice, <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#keep-a-log" target="_blank" rel="noopener noreferrer">monitor activity in your AWS account</a>, encourages you to monitor user activity in your AWS account by using services such as <a href="https://aws.amazon.com/cloudtrail/" target="_blank" rel="noopener noreferrer">AWS CloudTrail</a> and <a href="https://aws.amazon.com/config/" target="_blank" rel="noopener noreferrer">AWS Config</a>. In addition to monitoring usage in your AWS account, you should be aware of inactive users so that you can remove them from your account. By only retaining necessary users, you can help maintain the security of your AWS account.<span id="more-3727"></span></p> 
<p>To help you find users that are inactive, we added three new columns to the IAM user table: <strong>Last activity</strong>, <strong>Console last sign-in</strong>, and <strong>Access key last used</strong>.<br /> <img class="alignnone wp-image-4208 size-full" title="Screenshot showing three new columns in the IAM user table" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/10/img-01-rm0517-c.png" alt="" width="678" height="306" /></p> 
<ol> 
<li><strong>Last activity</strong> – This column tells you how long it has been since the user has either signed in to the AWS Management Console or accessed AWS programmatically with their access keys. Use this column to find users who might be inactive, and consider removing them from your AWS account.</li> 
<li><strong>Console last sign-in</strong> – This column displays the time since the user’s most recent console sign-in. Consider removing passwords from users who are not signing in to the console.</li> 
<li><strong>Access key last used </strong>– This column displays the time since a user last used access keys. Use this column to find any access keys that are not being used, and deactivate or remove them.</li> 
</ol> 
<h3>Rotate credentials regularly</h3> 
<p>The IAM best practice, <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#rotate-credentials" target="_blank" rel="noopener noreferrer">rotate credentials regularly</a>, recommends that all users in your AWS account change passwords and access keys regularly. With this practice, if a password or access key is compromised without your knowledge, you can limit how long the credentials can be used to access your resources. To help your management efforts, we added three new columns to the IAM user table: <strong>Access key age</strong>, <strong>Password age</strong>, and <strong>Access key ID</strong>.</p> 
<p><img class="alignnone wp-image-4204 size-full" title="Screenshot showing three new columns in the IAM user table" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/10/img-02-rm0517-b-071017.png" alt="" width="826" height="402" /></p> 
<ol> 
<li><strong>Access key age</strong> – This column shows how many days it has been since the oldest active access key was created for a user. With this information, you can audit access keys easily across all your users and identify the access keys that may need to be rotated.</li> 
</ol> 
<p style="padding-left: 30px">Based on the number of days since the access key has been rotated, a green, yellow, or red icon is displayed. To see the corresponding time frame for each icon, pause your mouse pointer on the <strong>Access key age</strong> column heading to see the tooltip, as shown in the following screenshot.</p> 
<p style="padding-left: 30px"><img class="alignnone wp-image-3733 size-full" title="Icons showing days since the oldest active access key was created" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/05/08/img-03-rm0517.png" alt="Icons showing days since the oldest active access key was created" width="255" height="132" /></p> 
<ol start="2"> 
<li><strong>Password age </strong>– This column shows the number of days since a user last changed their password. With this information, you can audit password rotation and identify users who have not changed their password recently. The easiest way to make sure that your users are rotating their password often is to establish an <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_passwords_account-policy.html" target="_blank" rel="noopener noreferrer">account password policy</a> that requires users to change their password after a specified time period.</li> 
<li><strong>Access key ID</strong> – This column displays the access key IDs for users and the current status (<strong>Active</strong>/<strong>Inactive</strong>) of those access key IDs. This column makes it easier for you to locate and see the state of access keys for each user, which is useful for auditing. To find a specific access key ID, use the search box above the table.</li> 
</ol> 
<h3>Enable MFA for privileged users</h3> 
<p>Another IAM best practice is to <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#enable-mfa-for-privileged-users" target="_blank" rel="noopener noreferrer">enable multi-factor authentication (MFA) for privileged IAM users</a>. With MFA, users have a device that generates a unique authentication code (a one-time password [OTP]). Users must provide both their normal credentials (such as their user name and password) and the OTP when signing in.</p> 
<p>To help you see if MFA has been enabled for your users, we’ve improved the <strong>MFA</strong> column to show you if MFA is enabled and which type of MFA (hardware, virtual, or SMS) is enabled for each user, where applicable.</p> 
<p><img class="alignnone wp-image-4209 size-full" title="Screenshot showing the improved &quot;MFA&quot; column" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/10/img-04-rm0517-a.png" alt="" width="459" height="442" /></p> 
<h3>Use groups to assign permissions to IAM users</h3> 
<p>Instead of defining permissions for individual IAM users, it’s usually more convenient to create groups that relate to job functions (such as administrators, developers, and accountants), define the relevant permissions for each group, and then assign IAM users to those groups. All the users in an IAM group inherit the permissions assigned to the group. This way, if you need to modify permissions, you can make the change once for everyone in a group instead of making the change one time for each user. As people move around in your company, you can change the group membership of the IAM user.</p> 
<p>To better understand which groups your users belong to, we’ve made updates:</p> 
<ol> 
<li><strong>Groups</strong> – This column now lists the groups of which a user is a member. This information makes it easier to understand and compare multiple users’ permissions at once.</li> 
<li><strong>Group count </strong>– This column shows the number of groups to which each user belongs.<img class="alignnone wp-image-4210 size-full" title="Screenshot showing the updated &quot;Groups&quot; and &quot;Group count&quot; columns" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/07/10/img-05-rm0517-c.png" alt="" width="630" height="410" /></li> 
</ol> 
<h3>Customize your view</h3> 
<p>Choosing which columns you see in the <strong>User</strong> table is easy to do. When you click the button with the gear icon in the upper right corner of the table, you can choose the columns you want to see, as shown in the following screenshots.</p> 
<p><img class="alignnone wp-image-3743 size-full" title="Screenshot showing gear icon" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/05/08/img-06-rm0517-a.png" alt="Screenshot showing gear icon" width="335" height="190" align="top" />&nbsp;&nbsp;<img class="alignnone wp-image-3744 size-full" title="Screenshot of &quot;Manage columns&quot; dialog box" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/05/08/img-07-rm0517-a.png" alt="Screenshot of &quot;Manage columns&quot; dialog box" width="325" height="614" /></p> 
<h3>Conclusion</h3> 
<p>We made these improvements to the <strong>Users</strong> section of the IAM console to make it easier for you to follow IAM best practices in your AWS account. Following these best practices can help you improve the security of your AWS resources and make your account easier to manage.</p> 
<p>If you have comments about this post, submit them in the “Comments” section below. If you have questions or suggestions, please start a new thread on the&nbsp;<a href="https://forums.aws.amazon.com/forum.jspa?forumID=76" target="_blank" rel="noopener noreferrer">IAM forum</a>.</p> 
<p>– Rob</p> 
<footer> 
TAGS: 
<span property="keywords"><a href="https://aws.amazon.com/blogs/security/tag/access-key-ids/" rel="tag">access key IDs</a>, <a href="https://aws.amazon.com/blogs/security/tag/access-keys/" rel="tag">Access keys</a>, <a href="https://aws.amazon.com/blogs/security/tag/groups/" rel="tag">groups</a>, <a href="https://aws.amazon.com/blogs/security/tag/iam-best-practices/" rel="tag">IAM best practices</a>, <a href="https://aws.amazon.com/blogs/security/tag/iam-console/" rel="tag">IAM console</a>, <a href="https://aws.amazon.com/blogs/security/tag/mfa/" rel="tag">MFA</a>, <a href="https://aws.amazon.com/blogs/security/tag/passwords/" rel="tag">passwords</a></span> 
</footer> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-3727');
});
</script> 
</article> 
<article class="post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b><a href="https://aws.amazon.com/blogs/security/perform-more-productive-audits-of-your-aws-resources-by-using-the-new-aws-auditor-learning-path/" property="url" rel="bookmark"><span property="name headline">Perform More Productive Audits of Your AWS Resources by Using the New AWS Auditor Learning Path</span></a></b> 
<footer class="meta">
by 
<span property="author" typeof="Person"><span property="name">Jodi Scrofani</span></span> | on 
<time property="datePublished" datetime="2017-06-29T06:28:02+00:00">29 JUN 2017</time> | in 
<span class="categories"><a href="https://aws.amazon.com/blogs/security/category/compliance/" title="View all posts in Compliance"><span property="articleSection">Compliance</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/perform-more-productive-audits-of-your-aws-resources-by-using-the-new-aws-auditor-learning-path/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-4065" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=4065&amp;disqus_title=Perform+More+Productive+Audits+of+Your+AWS+Resources+by+Using+the+New+AWS+Auditor+Learning+Path&amp;disqus_url=https://aws.amazon.com/blogs/security/perform-more-productive-audits-of-your-aws-resources-by-using-the-new-aws-auditor-learning-path/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-4065');
});
</script> | 
<a href="#" role="button" data-share-dialog=""><span class="span icon-share"></span>&nbsp;Share</a> 
<ul> 
</ul> 
</footer> 
<p style="text-align: center"><img class="alignnone wp-image-4068 size-medium" title="Auditing image" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/06/28/meet-compliance-m-300x182.png" alt="Auditing image" width="300" height="182" /></p> 
<p>AWS customers in highly regulated industries such as financial services and healthcare tend to undergo frequent security audits. To help make these audits more productive, AWS has released the <a href="https://aws.amazon.com/compliance/auditor-learning-path/" target="_blank" rel="noopener noreferrer">AWS Auditor Learning Path</a>. This set of online and in-person classes provides foundational and advanced education about implementing security in the AWS Cloud and using AWS tools to gather the information necessary to audit an AWS environment. The Learning Path also includes a set of self-paced labs to help you gain hands-on experience for auditing your use of AWS services.</p> 
<p>After completing the AWS Auditor Learning Path, you should have an understanding of how your IT department consumes AWS services and be able to more effectively engage with your compliance and security teams. The Learning Path is specifically designed for:</p> 
<ul> 
<li>Auditing executives</li> 
<li>Field auditors</li> 
<li>Specialized internal auditors</li> 
</ul> 
<p>To get started today, see the <a href="https://aws.amazon.com/compliance/auditor-learning-path/" target="_blank" rel="noopener noreferrer">AWS Auditor Learning Path</a>.</p> 
<p>– Jodi</p> 
</article> 
<p>
© 2017, Amazon Web Services, Inc. or its affiliates. All rights reserved.
</p>

    </div>
  </div>
</div>


    <div id="footer" class="navigation hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <ul class="footer-links nav navbar-nav">
              <li><a href="../aws.html">AWS</a></li>
              <li><a href="../linux.html">Linux</a></li>
              <li><a href="../docker.html">Docker</a></li>
              <li><a href="../ibmpower.html">IBM Power</a></li>
              <li><a href="blogsataws1.html">Blogs@AWS (Kindle Friendly)</a></li>
            </ul>
            <ul class="footer-links nav navbar-nav navbar-right">
              <li><a href="../comments.html">Comments?</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
