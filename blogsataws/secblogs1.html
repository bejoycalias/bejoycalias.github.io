<!DOCTYPE html>
<html lang="en">
  <head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-593498H');</script>
<!-- End Google Tag Manager -->

    <meta charset="utf-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <meta name="msapplication-config" content="/microsoft-tile.xml" />
    <meta name="theme-color" content="#ffffff">

    <meta property="og:url" content="https://bejoycalias.github.io/blogsataws/secblogs1.html" />
    <meta property="og:site_name" content="Bejoy's TechNotes"/>
    <meta property="og:title" content="Bejoy's TechNotes - Kindle Friendly AWS Security Blogs" />
    <meta property="og:image" content="https://bejoycalias.github.io/assets/images/og-image.png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="1200"/>
    <meta property="og:description" content="" />

    <title>Bejoy's TechNotes - Kindle Friendly AWS Security Blogs</title>
    <link href="../assets/stylesheets/application-832aa42c.css" rel="stylesheet" />

    <!--[if lt IE 9]>
      <script src="../assets/javascripts/ie-compat-c141a02d.js"></script>
    <![endif]-->
    <script src="../assets/javascripts/application-ff53d307.js"></script>

    <!-- Typekit script to import Klavika font -->
    <script src="https://use.typekit.net/wxf7mfi.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-100043608-1', 'auto');
  ga('send', 'pageview');

</script>

    
  </head>

  <body id="uh-oh-" class="layout-inner page-uh-oh-">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-593498H"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


    <div id="header" class="navigation navbar-static-top hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <div class="navbar-header">
              <div class="navbar-brand">
                <a href="/">
                  <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="135.000000pt" height="50" viewbox="0 0 135.000000 45.000000" preserveaspectratio="xMidYMid meet" class="logo">

<g transform="translate(0.000000,45.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
<path class="text" fill="#000000" d="M527 384 c-4 -4 -7 -18 -7 -31 0 -21 4 -24 28 -21 21 2 27 8 27 28 0
18 -6 26 -20 28 -12 2 -24 0 -28 -4z"></path>
<path class="text" fill="#000000" d="M1080 335 c0 -48 2 -55 20 -55 18 0 20 7 20 55 0 48 -2 55 -20 55
-18 0 -20 -7 -20 -55z"></path>
<path class="text" fill="#000000" d="M54 357 c-2 -7 -3 -69 -2 -138 l3 -124 65 -3 c90 -3 130 20 130 77 0
29 -6 44 -20 54 -20 14 -20 15 -3 45 14 25 15 34 5 56 -6 15 -23 31 -38 36
-38 15 -134 13 -140 -3z m110 -33 c19 -7 21 -45 4 -62 -7 -7 -22 -12 -35 -12
-20 0 -23 5 -23 40 0 41 13 50 54 34z m20 -130 c19 -18 19 -20 6 -45 -8 -13
-21 -19 -45 -19 -34 0 -35 1 -35 40 0 38 2 40 29 40 16 0 37 -7 45 -16z"></path>
<path class="text" fill="#000000" d="M319 271 c-23 -24 -29 -38 -29 -74 0 -25 3 -53 6 -62 20 -50 164 -64
164 -15 0 15 -7 17 -45 12 -46 -5 -75 8 -75 34 0 11 16 14 65 14 l65 0 0 35
c0 80 -92 114 -151 56z m99 -33 c3 -15 -4 -18 -37 -18 -43 0 -50 7 -29 28 18
18 62 11 66 -10z"></path>
<path class="text" fill="#000000" d="M520 184 c0 -107 -1 -116 -20 -121 -11 -3 -20 -12 -20 -19 0 -21 76
-19 84 2 3 9 6 69 6 135 l0 119 -25 0 -25 0 0 -116z"></path>
<path class="text" fill="#000000" d="M649 271 c-24 -25 -29 -37 -29 -78 1 -70 34 -103 105 -103 55 0 95
44 95 103 0 60 -7 75 -41 92 -47 25 -96 19 -130 -14z m111 -30 c25 -48 2 -111
-40 -111 -45 0 -69 80 -34 114 21 22 61 20 74 -3z"></path>
<path class="text" fill="#000000" d="M850 287 c0 -8 16 -57 36 -110 28 -76 33 -100 25 -116 -16 -28 -14
-31 18 -31 27 0 29 4 70 123 23 67 41 128 41 135 0 6 -11 12 -24 12 -21 0 -26
-8 -41 -65 -10 -36 -21 -68 -25 -70 -3 -2 -16 27 -29 66 -19 60 -25 69 -47 69
-13 0 -24 -6 -24 -13z"></path>
<path class="text" fill="#000000" d="M1192 284 c-17 -12 -22 -24 -20 -47 2 -26 10 -36 45 -52 49 -23 59
-55 17 -55 -14 0 -34 5 -45 10 -16 9 -19 7 -19 -13 0 -17 7 -27 23 -31 69 -18
117 6 117 60 0 32 -4 37 -45 55 -60 26 -62 54 -4 46 37 -5 40 -3 37 16 -2 18
-11 23 -43 25 -25 2 -49 -3 -63 -14z"></path>
</g>
</svg>

                </a>
              </div>
              <button class="navbar-toggle" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <div class="buttons hidden-xs">
              <nav class="navigation-links" role="navigation">
                <ul class="main-links nav navbar-nav navbar-right">
                  <li><a href="../aws.html">AWS</a></li>
                  <li><a href="../linux.html">Linux</a></li>
                  <li><a href="../docker.html">Docker</a></li>
                  <li><a href="../ibmpower.html">IBM Power</a></li>
                  <li><a href="blogsataws1.html">Blogs@AWS (Kindle Friendly)</a></li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar-overlay"></div>

<aside class="sidebar" role="navigation">
  <div class="sidebar-header">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="135.000000pt" height="42" viewbox="0 0 135.000000 45.000000" preserveaspectratio="xMidYMid meet">

<g transform="translate(0.000000,45.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
<path class="text" fill="#000000" d="M527 384 c-4 -4 -7 -18 -7 -31 0 -21 4 -24 28 -21 21 2 27 8 27 28 0
18 -6 26 -20 28 -12 2 -24 0 -28 -4z"></path>
<path class="text" fill="#000000" d="M1080 335 c0 -48 2 -55 20 -55 18 0 20 7 20 55 0 48 -2 55 -20 55
-18 0 -20 -7 -20 -55z"></path>
<path class="text" fill="#000000" d="M54 357 c-2 -7 -3 -69 -2 -138 l3 -124 65 -3 c90 -3 130 20 130 77 0
29 -6 44 -20 54 -20 14 -20 15 -3 45 14 25 15 34 5 56 -6 15 -23 31 -38 36
-38 15 -134 13 -140 -3z m110 -33 c19 -7 21 -45 4 -62 -7 -7 -22 -12 -35 -12
-20 0 -23 5 -23 40 0 41 13 50 54 34z m20 -130 c19 -18 19 -20 6 -45 -8 -13
-21 -19 -45 -19 -34 0 -35 1 -35 40 0 38 2 40 29 40 16 0 37 -7 45 -16z"></path>
<path class="text" fill="#000000" d="M319 271 c-23 -24 -29 -38 -29 -74 0 -25 3 -53 6 -62 20 -50 164 -64
164 -15 0 15 -7 17 -45 12 -46 -5 -75 8 -75 34 0 11 16 14 65 14 l65 0 0 35
c0 80 -92 114 -151 56z m99 -33 c3 -15 -4 -18 -37 -18 -43 0 -50 7 -29 28 18
18 62 11 66 -10z"></path>
<path class="text" fill="#000000" d="M520 184 c0 -107 -1 -116 -20 -121 -11 -3 -20 -12 -20 -19 0 -21 76
-19 84 2 3 9 6 69 6 135 l0 119 -25 0 -25 0 0 -116z"></path>
<path class="text" fill="#000000" d="M649 271 c-24 -25 -29 -37 -29 -78 1 -70 34 -103 105 -103 55 0 95
44 95 103 0 60 -7 75 -41 92 -47 25 -96 19 -130 -14z m111 -30 c25 -48 2 -111
-40 -111 -45 0 -69 80 -34 114 21 22 61 20 74 -3z"></path>
<path class="text" fill="#000000" d="M850 287 c0 -8 16 -57 36 -110 28 -76 33 -100 25 -116 -16 -28 -14
-31 18 -31 27 0 29 4 70 123 23 67 41 128 41 135 0 6 -11 12 -24 12 -21 0 -26
-8 -41 -65 -10 -36 -21 -68 -25 -70 -3 -2 -16 27 -29 66 -19 60 -25 69 -47 69
-13 0 -24 -6 -24 -13z"></path>
<path class="text" fill="#000000" d="M1192 284 c-17 -12 -22 -24 -20 -47 2 -26 10 -36 45 -52 49 -23 59
-55 17 -55 -14 0 -34 5 -45 10 -16 9 -19 7 -19 -13 0 -17 7 -27 23 -31 69 -18
117 6 117 60 0 32 -4 37 -45 55 -60 26 -62 54 -4 46 37 -5 40 -3 37 16 -2 18
-11 23 -43 25 -25 2 -49 -3 -63 -14z"></path>
</g>
</svg>

  </div>

  <ul class="nav sidebar-nav">
    <li><a href="../aws.html">AWS</a></li>
    <li><a href="../linux.html">Linux</a></li>
    <li><a href="../docker.html">Docker</a></li>
    <li><a href="../ibmpower.html">IBM Power</a></li>
    <li><a href="blogsataws1.html">Blogs@AWS (Kindle Friendly)</a></li>
  </ul>
</aside>


    <div class="container">
  <div class="row">
    <div id="docs-sidebar" class="col-sm-3 col-md-3 col-xs-12 hidden-print" role="complementary">
      <ul class="nav docs-sidenav">
      <li><a href="blogsataws1.html">Blogs @ AWS</a></li>
      <li><a href="whatsnew1.html">What's New @ AWS</a></li>
      <li><a href="mgmtblogs1.html">Management Tools Blogs @ AWS</a></li>
      <li><a href="computeblogs1.html">Compute Blogs @ AWS</a></li>
      <li><a href="devopsblogs1.html">DevOps Blogs @ AWS</a></li>
      <li class="active"><a href="secblogs1.html">Security Blogs @ AWS</a></li>
      <li><a href="apnblogs1.html">APN Blogs @ AWS</a></li>

    </ul>
    </div>

    <div id="inner" class="col-sm-9 col-md-9 col-xs-12" role="main">
<p></p>
<p><i>Contents of this page is copied directly from AWS blog sites to make it Kindle friendly. Some styles & sections from these pages are removed to render this properly in 'Article Mode' of Kindle e-Reader browser. All the contents of this page is property of AWS.</i></p>
<p><a href="secblogs1.html">Page 1</a>|<a href="secblogs2.html">Page 2</a>|<a href="secblogs3.html">Page 3</a>|<a href="secblogs4.html">Page 4</a></p>
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/09/SNS-VPCE-Diagram-800x400.jpg" /> 
<b class="lb-b blog-post-title" property="name headline">Securing messages published to Amazon SNS with AWS PrivateLink</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Otavio Ferreira</span></span> | on 
<time property="datePublished" datetime="2018-04-10T13:40:32+00:00">10 APR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/messaging/amazon-simple-notification-service-sns/" title="View all posts in Amazon Simple Notification Service (SNS)*"><span property="articleSection">Amazon Simple Notification Service (SNS)*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/messaging/" title="View all posts in Messaging*"><span property="articleSection">Messaging*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/securing-messages-published-to-amazon-sns-with-aws-privatelink/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-7657" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=7657&amp;disqus_title=Securing+messages+published+to+Amazon+SNS+with+AWS+PrivateLink&amp;disqus_url=https://aws.amazon.com/blogs/security/securing-messages-published-to-amazon-sns-with-aws-privatelink/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7657');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
<li> <a class="lb-txt" href="mailto:?subject=Securing%20messages%20published%20to%20Amazon%20SNS%20with%20AWS%20PrivateLink&amp;body=Securing%20messages%20published%20to%20Amazon%20SNS%20with%20AWS%20PrivateLink%0A%0Ahttps://aws.amazon.com/blogs/security/securing-messages-published-to-amazon-sns-with-aws-privatelink/" target="_blank"><span class="icon-envelope-square" aria-label="Share on Email"></span></a> </li> 
</footer> 
<p><a href="https://aws.amazon.com/sns/" title="Amazon Simple Notification Service" target="_blank" rel="noopener noreferrer">Amazon Simple Notification Service</a> (SNS) now supports <a href="https://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-endpoints.html" title="VPC Endpoints" target="_blank" rel="noopener noreferrer">VPC Endpoints</a> (VPCE) via <a href="https://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Introduction.html#what-is-privatelink" title="AWS PrivateLink" target="_blank" rel="noopener noreferrer">AWS PrivateLink</a>. You can use VPC Endpoints to privately publish messages to SNS topics, from an <a href="https://aws.amazon.com/vpc/" title="Amazon Virtual Private Cloud" target="_blank" rel="noopener noreferrer">Amazon Virtual Private Cloud</a> (VPC), without traversing the public internet. When you use AWS PrivateLink, you don’t need to set up an Internet Gateway (IGW), Network Address Translation (NAT) device, or Virtual Private Network (VPN) connection. You don’t need to use public IP addresses, either.</p> 
<p>VPC Endpoints doesn’t require code changes and can bring additional security to <a href="https://aws.amazon.com/pub-sub-messaging/" title="Pub/Sub Messaging" target="_blank" rel="noopener noreferrer">Pub/Sub Messaging</a> use cases that rely on SNS. VPC Endpoints helps promote data privacy and is aligned with assurance programs, including the <a href="https://aws.amazon.com/compliance/hipaa-compliance/" title="Health Insurance Portability and Accountability Act" target="_blank" rel="noopener noreferrer">Health Insurance Portability and Accountability Act</a> (HIPAA), <a href="https://aws.amazon.com/compliance/fedramp/" title="FedRAMP" target="_blank" rel="noopener noreferrer">FedRAMP</a>, and others discussed below.</p> 
<b>VPC Endpoints for SNS in action</b> 
<p>Here’s how VPC Endpoints for SNS works. The following example is based on a banking system that processes mortgage applications. This banking system, which has been deployed to a VPC, publishes each mortgage application to an SNS topic. The SNS topic then fans out the mortgage application message to two subscribing <a href="https://aws.amazon.com/lambda/" title="AWS Lambda" target="_blank" rel="noopener noreferrer">AWS Lambda</a> functions:</p> 
<li>Save-Mortgage-Application stores the application in an <a href="https://aws.amazon.com/dynamodb/" title="Amazon DynamoDB" target="_blank" rel="noopener noreferrer">Amazon DynamoDB</a> table. As the mortgage application contains personally identifiable information (PII), the message must not traverse the public internet.</li> 
<li>Save-Credit-Report checks the applicant’s credit history against an external Credit Reporting Agency (CRA), then stores the final credit report in an <a href="https://aws.amazon.com/s3/" title="Amazon S3" target="_blank" rel="noopener noreferrer">Amazon S3</a> bucket.</li> 
<p>The following diagram depicts the underlying architecture for this banking system:<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/09/SNS-diagram-01.png">Elastic Network Interface</a> (ENI) is automatically placed in the same VPC subnet as the publisher EC2 instance. This ENI exposes a private IP address that is used as the entry point for traffic destined to SNS. This ensures that traffic between the VPC and SNS doesn’t leave the Amazon network.</p> 
<b>Set up VPC Endpoints for SNS</b> 
<p>The process for creating a VPC endpoint to privately connect to SNS doesn’t require code changes: access the <a href="https://console.aws.amazon.com/vpc/home" title="VPC Management Console" target="_blank" rel="noopener noreferrer">VPC Management Console</a>, navigate to the <strong>Endpoints</strong> section, and create a new Endpoint. Three attributes are required:</p> 
<li>The SNS service name.</li> 
<li>The VPC and <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html" title="Availability Zones" target="_blank" rel="noopener noreferrer">Availability Zones</a> (AZs) from which you’ll publish your messages.</li> 
<li>The <a href="https://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html" title="Security Group" target="_blank" rel="noopener noreferrer">Security Group</a> (SG) to be associated with the endpoint network interface. The Security Group controls the traffic to the endpoint network interface from resources in your VPC. If you don’t specify a Security Group, the default Security Group for your VPC will be associated.</li> 
<b>Help ensure your security and compliance</b> 
<p>SNS can support messaging use cases in regulated market segments, such as healthcare provider systems subject to the <a href="https://aws.amazon.com/compliance/hipaa-compliance/" title="Health Insurance Portability and Accountability Act" target="_blank" rel="noopener noreferrer">Health Insurance Portability and Accountability Act</a> (HIPAA) and financial systems subject to the <a href="https://aws.amazon.com/compliance/pci-dss-level-1-faqs/" title="Payment Card Industry Data Security Standard" target="_blank" rel="noopener noreferrer">Payment Card Industry Data Security Standard</a> (PCI DSS), and is also in-scope with the following <a href="https://aws.amazon.com/compliance/services-in-scope/" title="Assurance Programs" target="_blank" rel="noopener noreferrer">Assurance Programs</a>:</p> 
<li><a href="https://aws.amazon.com/compliance/iso-9001-faqs/" title="ISO 9001" target="_blank" rel="noopener noreferrer">ISO 9001</a>, <a href="https://aws.amazon.com/compliance/iso-27001-faqs/" title="ISO 27001" target="_blank" rel="noopener noreferrer">ISO 27001</a>, <a href="https://aws.amazon.com/compliance/iso-27017-faqs/" title="ISO 27017" target="_blank" rel="noopener noreferrer">ISO 27017</a>, <a href="https://aws.amazon.com/compliance/iso-27018-faqs/" title="ISO 27018" target="_blank" rel="noopener noreferrer">ISO 27018</a></li> 
<li><a href="https://aws.amazon.com/compliance/fedramp/" title="FedRAMP Moderate" target="_blank" rel="noopener noreferrer">FedRAMP Moderate</a> (East/West), <a href="https://aws.amazon.com/compliance/fedramp/" title="FedRAMP High" target="_blank" rel="noopener noreferrer">FedRAMP High</a> (GovCloud)</li> 
<li><a href="https://aws.amazon.com/compliance/dod/" title="DoD CC SRG IL2" target="_blank" rel="noopener noreferrer">DoD CC SRG IL2</a> (East/West/GovCloud), <a href="https://aws.amazon.com/compliance/dod/" title="DoD CC SRG IL4" target="_blank" rel="noopener noreferrer">DoD CC SRG IL4</a> (GovCloud)</li> 
<li><a href="https://aws.amazon.com/compliance/soc-faqs/" title="SOC 1, SOC 2, SOC 3" target="_blank" rel="noopener noreferrer">SOC 1, SOC 2, SOC 3</a></li> 
<li><a href="https://aws.amazon.com/compliance/hipaa-compliance/" title="HIPAA BAA" target="_blank" rel="noopener noreferrer">HIPAA BAA</a></li> 
<li><a href="https://aws.amazon.com/compliance/fips/" title="FIPS 140-2" target="_blank" rel="noopener noreferrer">FIPS 140-2</a></li> 
<li><a href="https://aws.amazon.com/compliance/pci-dss-level-1-faqs/" title="PCI DSS" target="_blank" rel="noopener noreferrer">PCI DSS</a></li> 
<li><a href="https://aws.amazon.com/compliance/irap/" title="IRAP" target="_blank" rel="noopener noreferrer">IRAP</a></li> 
<p>The SNS API is served through HTTP Secure (HTTPS), and encrypts all messages in transit with Transport Layer Security (TLS) certificates issued by <a href="https://aws.amazon.com/blogs/security/how-to-prepare-for-aws-move-to-its-own-certificate-authority/" title="Amazon Trust Services" target="_blank" rel="noopener noreferrer">Amazon Trust Services</a> (ATS). The certificates verify the identity of the SNS API server when encrypted connections are established. The certificates help establish proof that your SNS API client (SDK, CLI) is communicating securely with the SNS API server. A Certificate Authority (CA) issues the certificate to a specific domain. Hence, when a domain presents a certificate that’s issued by a trusted CA, the SNS API client knows it’s safe to make the connection.</p> 
<b>Summary</b> 
<p>VPC Endpoints can increase the security of your pub/sub messaging use cases by allowing you to publish messages to SNS topics, from instances in your VPC, without traversing the internet. Setting up VPC Endpoints for SNS doesn’t require any code changes because the SNS API address remains the same.</p> 
<p>VPC Endpoints for SNS is now available in all AWS Regions where AWS PrivateLink is available. For information on pricing and regional availability, visit the <a href="https://aws.amazon.com/vpc/pricing/" title="VPC pricing" target="_blank" rel="noopener noreferrer">VPC pricing</a> page.<br /> For more information and on-boarding, see <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-vpc.html" title="Publishing to Amazon SNS Topics from Amazon Virtual Private Cloud" target="_blank" rel="noopener noreferrer">Publishing to Amazon SNS Topics from Amazon Virtual Private Cloud</a> in the SNS documentation.</p> 
<p>If you have comments about this post, submit them in the <strong>Comments</strong> section below. If you have questions about anything in this post, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=72" title="Amazon SNS forum" target="_blank" rel="noopener noreferrer">Amazon SNS forum</a> or <a href="https://console.aws.amazon.com/support/home" title="AWS Support" target="_blank" rel="noopener noreferrer">contact AWS Support</a>.</p> 
<p><strong>Want more AWS Security news? Follow us on <a href="https://twitter.com/AWSsecurityinfo" title="Twitter" target="_blank" rel="noopener noreferrer">Twitter</a>.</strong></p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7657');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/02/26/ha_hero_certificate.png" /> 
<b class="lb-b blog-post-title" property="name headline">Preparing for AWS Certificate Manager (ACM) Support of Certificate Transparency</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Jonathan Kozolchyk</span></span> | on 
<time property="datePublished" datetime="2018-04-05T12:44:43+00:00">05 APR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-certificate-manager/" title="View all posts in AWS Certificate Manager*"><span property="articleSection">AWS Certificate Manager*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-get-ready-for-certificate-transparency/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-7278" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=7278&amp;disqus_title=Preparing+for+AWS+Certificate+Manager+%28ACM%29+Support+of+Certificate+Transparency&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-get-ready-for-certificate-transparency/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7278');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
<li> <a class="lb-txt" href="mailto:?subject=Preparing%20for%20AWS%20Certificate%20Manager%20%28ACM%29%20Support%20of%20Certificate%20Transparency&amp;body=Preparing%20for%20AWS%20Certificate%20Manager%20%28ACM%29%20Support%20of%20Certificate%20Transparency%0A%0Ahttps://aws.amazon.com/blogs/security/how-to-get-ready-for-certificate-transparency/" target="_blank"><span class="icon-envelope-square" aria-label="Share on Email"></span></a> </li> 
</footer> 
<p><img width="100%" src="https://d1.awsstatic.com/Digital%20Marketing/House/Hero/products/certificate-manager/ha_hero_certificate-manager.d0ab7b1a8bb871a42a5651a59b110c528fa83553.png" /></p> 
<p>&nbsp;</p> 
<p><strong>Update from March 27, 2018</strong>: On March 27, 2018, we updated ACM APIs so that you can disable Certificate Transparency logging on a per-certificate basis.</p> 
<hr /> 
<p><a href="https://groups.google.com/a/chromium.org/forum/#!topic/ct-policy/wHILiYf31DE" target="_blank" rel="noopener noreferrer">Starting April 30, 2018</a>, Google Chrome will require all publicly trusted certificates<strong> issued after this date</strong> to be logged in at least two <a href="https://www.certificate-transparency.org/" target="_blank" rel="noopener noreferrer">Certificate Transparency</a>&nbsp;logs. This means that any certificate issued that is not logged will result in an error message in Google Chrome. Beginning April 24, 2018, Amazon will log all new and renewed certificates in at least two public logs unless you disable Certificate Transparency logging.</p> 
<p>Without Certificate Transparency, it can be difficult for a domain owner to know if an unexpected certificate was issued for their domain. Under the current system, no record is kept of certificates being issued, and domain owners&nbsp;do not have a reliable way to identify rogue certificates.</p> 
<p>To address this situation, Certificate Transparency creates a cryptographically secure log of each certificate issued. Domain owners can search the log to identify unexpected certificates, whether issued by mistake or malice. Domain owners can also identify Certificate Authorities (CAs) that are improperly issuing certificates. In this blog post, I explain more about Certificate Transparency and tell you how to prepare for it.</p> 
<h3>How does Certificate Transparency work?</h3> 
<p>When a CA issues a publicly trusted certificate, the CA must submit the certificate to one or more Certificate Transparency log servers. The Certificate Transparency log server responds with a signed certificate timestamp (SCT) that confirms the log server will add the certificate to the list of known certificates. The SCT is then embedded in the certificate and delivered automatically to a browser.&nbsp;The SCT is like a receipt that proves the certificate was published into the Certificate Transparency log. Starting April 30, Google Chrome will require an SCT as proof that the certificate was published to a Certificate Transparency log in order to trust the certificate without displaying an error message.</p> 
<h3>What is Amazon doing to support Certificate Transparency?</h3> 
<p>Certificate Transparency is a good practice.&nbsp;It enables AWS customers to be more confident that an unauthorized certificate hasn’t been issued by a CA. Beginning on April 24, 2018, Amazon will log all new and renewed certificates in at least two Certificate Transparency logs unless you disable Certificate Transparency logging.</p> 
<p>We recognize that there can be times when our customers do not want to log certificates. For example, if you are building a website for an unreleased product and have registered the subdomain, <code>newproduct.example.com</code>, requesting a logged certificate for your domain will make it publicly known that the new product is coming. Certificate Transparency logging also can expose server hostnames that you want to keep private.&nbsp;Hostnames such as <code>payments.example.com</code>&nbsp;can reveal the purpose of a server and provide attackers with information about your private network. These logs <strong>do not</strong> contain the private key for your certificate. For these reasons, on March 27, 2018 we updated ACM APIs so that you can disable Certificate Transparency logging on a per-certificate basis using the ACM APIs or with the AWS CLI. Doing so will lead to errors in Google Chrome, which may be preferable to exposing the information.</p> 
<p>Please refer to ACM documentation for specifics on <a title="undefined" href="https://docs.aws.amazon.com/acm/latest/userguide/acm-bestpractices.html#best-practices-transparency" target="_blank" rel="noopener noreferrer">how to opt out of Certificate Transparency logging</a>.</p> 
<h3>Conclusion</h3> 
<p>Beginning April 24, 2018, ACM will begin logging all new and renewed certificates by default. If you don’t want a certificate to be logged, you’ll be able to&nbsp;opt out using the AWS API or CLI. However, for Google Chrome to trust the certificate, all issued or imported certificates must have the SCT information embedded in them by April 30, 2018.</p> 
<p>If you have comments about this blog post, submit them in the “Comments” section below. If you have questions, start a new thread in the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=206">ACM forum</a>.</p> 
<p>– Jonathan</p> 
<p><strong>Interested in AWS Security news? Follow the AWS Security Blog <a href="https://twitter.com/AWSsecurityinfo"><span style="text-decoration: underline">on</span> Twitter</a>.</strong></p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7278');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/05/Secrets-Manager-Social-800x400.png" /> 
<b class="lb-b blog-post-title" property="name headline">Rotate Amazon RDS database credentials automatically with AWS Secrets Manager</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Apurv Awasthi</span></span> | on 
<time property="datePublished" datetime="2018-04-05T06:55:13+00:00">05 APR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-identity-and-access-management-iam/" title="View all posts in AWS Identity and Access Management (IAM)*"><span property="articleSection">AWS Identity and Access Management (IAM)*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/identity/" title="View all posts in Identity*"><span property="articleSection">Identity*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/" title="View all posts in Security, Identity, &amp; Compliance*"><span property="articleSection">Security, Identity, &amp; Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/rotate-amazon-rds-database-credentials-automatically-with-aws-secrets-manager/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-7627" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=7627&amp;disqus_title=Rotate+Amazon+RDS+database+credentials+automatically+with+AWS+Secrets+Manager&amp;disqus_url=https://aws.amazon.com/blogs/security/rotate-amazon-rds-database-credentials-automatically-with-aws-secrets-manager/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7627');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
<li> <a class="lb-txt" href="mailto:?subject=Rotate%20Amazon%20RDS%20database%20credentials%20automatically%20with%20AWS%20Secrets%20Manager&amp;body=Rotate%20Amazon%20RDS%20database%20credentials%20automatically%20with%20AWS%20Secrets%20Manager%0A%0Ahttps://aws.amazon.com/blogs/security/rotate-amazon-rds-database-credentials-automatically-with-aws-secrets-manager/" target="_blank"><span class="icon-envelope-square" aria-label="Share on Email"></span></a> </li> 
</footer> 
<p>Recently, we launched <a href="https://aws.amazon.com/secrets-manager/" target="_blank" rel="noopener noreferrer">AWS Secrets Manager</a>, a service that makes it easier to rotate, manage, and retrieve database credentials, API keys, and other secrets throughout their lifecycle. You can configure Secrets Manager to rotate secrets automatically, which can help you meet your security and compliance needs. Secrets Manager offers built-in integrations for MySQL, PostgreSQL, and Amazon Aurora on Amazon RDS, and can rotate credentials for these databases natively. You can control access to your secrets by using fine-grained <a href="https://aws.amazon.com/iam/" target="_blank" rel="noopener noreferrer">AWS Identity and Access Management</a> (IAM) policies. To retrieve secrets, employees replace plaintext secrets with a call to Secrets Manager APIs, eliminating the need to hard-code secrets in source code or update configuration files and redeploy code when secrets are rotated.</p> 
<p>In this post, I introduce the <a href="https://aws.amazon.com/secrets-manager/features/" target="_blank" rel="noopener noreferrer">key features of Secrets Manager</a>. I then show you how to store a database credential for a MySQL database hosted on Amazon RDS and how your applications can access this secret. Finally, I show you how to configure Secrets Manager to rotate this secret automatically.</p> 
<b>Key features of Secrets Manager</b> 
<p>These features include the ability to:</p> 
<li><strong>Rotate secrets safely</strong>. You can configure Secrets Manager to rotate secrets automatically without disrupting your applications. Secrets Manager offers built-in integrations for rotating credentials for <a href="https://aws.amazon.com/rds/" target="_blank" rel="noopener noreferrer">Amazon RDS</a> databases for MySQL, PostgreSQL, and Amazon Aurora. You can extend Secrets Manager to meet your custom rotation requirements by creating an <a href="https://aws.amazon.com/lambda/" target="_blank" rel="noopener noreferrer">AWS Lambda</a> function to rotate other types of secrets. For example, you can create an AWS Lambda function to rotate OAuth tokens used in a mobile application. Users and applications retrieve the secret from Secrets Manager, eliminating the need to email secrets to developers or update and redeploy applications after AWS Secrets Manager rotates a secret.</li> 
<li><strong>Secure and manage secrets centrally</strong>. You can store, view, and manage all your secrets. By default, Secrets Manager encrypts these secrets with encryption keys that you own and control. Using fine-grained IAM policies, you can control access to secrets. For example, you can require developers to provide a second factor of authentication when they attempt to retrieve a production database credential. You can also tag secrets to help you discover, organize, and control access to secrets used throughout your organization.</li> 
<li><strong>Monitor and audit easily</strong>. Secrets Manager integrates with AWS logging and monitoring services to enable you to meet your security and compliance requirements. For example, you can audit <a href="https://aws.amazon.com/cloudtrail/" target="_blank" rel="noopener noreferrer">AWS CloudTrail</a> logs to see when Secrets Manager rotated a secret or configure <a href="https://aws.amazon.com/cloudwatch/" target="_blank" rel="noopener noreferrer">AWS CloudWatch</a> Events to alert you when an administrator deletes a secret.</li> 
<li><strong>Pay as you go</strong>. Pay for the secrets you store in Secrets Manager and for the use of these secrets; there are no long-term contracts or licensing fees.</li> 
<b>Get started with Secrets Manager</b> 
<p>Now that you’re familiar with the key features, I’ll show you how to store the credential for a MySQL database hosted on Amazon RDS. To demonstrate how to retrieve and use the secret, I use a python application running on Amazon EC2 that requires this database credential to access the MySQL instance. Finally, I show how to configure Secrets Manager to rotate this database credential automatically. Let’s get started.</p> 
<h3>Phase 1: Store a secret in Secrets Manager</h3> 
<ol> 
<li>Open the <a href="https://console.aws.amazon.com/secretsmanager/home?region=us-east-1#/home" target="_blank" rel="noopener noreferrer">Secrets Manager console</a> and select <strong>Store a new secret</strong>.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-01.png" /><br /> &nbsp; </li> 
<li>I select <strong>Credentials for RDS database</strong> because I’m storing credentials for a MySQL database hosted on Amazon RDS. For this example, I store the credentials for the database <span style="font-family: courier">superuser</span>. I start by securing the <span style="font-family: courier">superuser</span> because it’s the most powerful database credential and has full access over the database.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-02.png" /><br /> &nbsp;<p></p> 
<blockquote> 
<p><strong>Note</strong>: For this example, you need permissions to store secrets in Secrets Manager. To grant these permissions, you can use the <a href="https://console.aws.amazon.com/iam/home?#/policies/arn:aws:iam::aws:policy/SecretsManagerReadWrite" target="_blank" rel="noopener noreferrer"><span style="font-family: courier">AWSSecretsManagerReadWriteAccess</span> managed policy</a>. Read the AWS Secrets Manager Documentation for more information about <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/manage_retrieve-secret.html" target="_blank" rel="noopener noreferrer">the minimum IAM permissions required to store a secret</a>.</p> 
</blockquote> </li> 
<li>Next, I review the encryption setting and choose to use the default encryption settings. Secrets Manager will encrypt this secret using the Secrets Manager <span style="font-family: courier">DefaultEncryptionKey</span>DefaultEncryptionKey in this account. Alternatively, I can choose to encrypt using a customer master key (CMK) that I have stored in AWS KMS.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-03.png" /><br /> &nbsp; </li> 
<li>Next, I view the list of Amazon RDS instances in my account and select the database this credential accesses. For this example, I select the DB instance <span style="font-family: courier">mysql-rds-database</span>, and then I select <strong>Next</strong>.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-04.png" /><br /> &nbsp; </li> 
<li>In this step, I specify values for <strong>Secret Name</strong> and <strong>Description</strong>. For this example, I use <span style="font-family: courier">Applications/MyApp/MySQL-RDS-Database</span> as the name and enter a description of this secret, and then select <strong>Next</strong>.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-05-1.png" /><br /> &nbsp; </li> 
<li>For the next step, I keep the default setting <strong>Disable automatic rotation</strong> because my secret is used by my application running on Amazon EC2. I’ll enable rotation after I’ve updated my application (see Phase 2 below) to use Secrets Manager APIs to retrieve secrets. I then select <strong>Next</strong>.<br /> 
<blockquote> 
<p><strong>Note</strong>: If you’re storing a secret that you’re not using in your application, select <strong>Enable automatic rotation</strong>. See our <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets.html" target="_blank" rel="noopener noreferrer">AWS Secrets Manager getting started guide on rotation</a> for details.</p> 
</blockquote> <p> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-06.png" /><br /> &nbsp; </p></li> 
<li>Review the information on the next screen and, if everything looks correct, select <strong>Store</strong>. We’ve now successfully stored a secret in Secrets Manager.</li> 
<li>Next, I select <strong>See sample code</strong>.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-07.png" /><br /> &nbsp; </li> 
<li>Take note of the code samples provided. I will use this code to update my application to retrieve the secret using Secrets Manager APIs.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-08.png" /><br /> &nbsp; </li> 
</ol> 
<h3>Phase 2: Update an application to retrieve secret from Secrets Manager</h3> 
<p>Now that I have stored the secret in Secrets Manager, I update my application to retrieve the database credential from Secrets Manager instead of hard coding this information in a configuration file or source code. For this example, I show how to configure a python application to retrieve this secret from Secrets Manager. </p> 
<ol> 
<li>I <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html" target="_blank" rel="noopener noreferrer">connect to my Amazon EC2 instance via Secure Shell</a> (SSH).</li> 
<li>Previously, I configured my application to retrieve the database user name and password from the configuration file. Below is the source code for my application.<br /> <code>import MySQLdb<br /> import config<p></p> <p>def no_secrets_manager_sample()</p> <p> # Get the user name, password, and database connection information from a config file.<br /> database = config.database<br /> user_name = config.user_name<br /> password = config.password</p> </code><p><code> # Use the user name, password, and database connection information to connect to the database<br /> db = MySQLdb.connect(database.endpoint, user_name, password, database.db_name, database.port)</code> </p></li> 
<li>I use the sample code from Phase 1 above and update my application to retrieve the user name and password from Secrets Manager. This code sets up the client and retrieves and decrypts the secret <span style="font-family: courier">Applications/MyApp/MySQL-RDS-Database</span>. I’ve added comments to the code to make the code easier to understand.<br /> <code># Use the code snippet provided by Secrets Manager.<br /> import boto3<br /> from botocore.exceptions import ClientError<p></p> <p>def get_secret():<br /> #Define the secret you want to retrieve<br /> secret_name = &quot;Applications/MyApp/MySQL-RDS-Database&quot;<br /> #Define the Secrets mManager end-point your code should use.<br /> endpoint_url = &quot;https://secretsmanager.us-east-1.amazonaws.com&quot;<br /> region_name = &quot;us-east-1&quot;</p> <p>#Setup the client<br /> session = boto3.session.Session()<br /> client = session.client(<br /> service_name='secretsmanager',<br /> region_name=region_name,<br /> endpoint_url=endpoint_url<br /> )</p> <p>#Use the client to retrieve the secret<br /> try:<br /> get_secret_value_response = client.get_secret_value(<br /> SecretId=secret_name<br /> )<br /> #Error handling to make it easier for your code to tolerate faults<br /> except ClientError as e:<br /> if e.response['Error']['Code'] == 'ResourceNotFoundException':<br /> print(&quot;The requested secret &quot; + secret_name + &quot; was not found&quot;)<br /> elif e.response['Error']['Code'] == 'InvalidRequestException':<br /> print(&quot;The request was invalid due to:&quot;, e)<br /> elif e.response['Error']['Code'] == 'InvalidParameterException':<br /> print(&quot;The request had invalid params:&quot;, e)<br /> else:<br /> # Decrypted secret using the associated KMS CMK<br /> # Depending on whether the secret was a string or binary, one of these fields will be populated<br /> if 'SecretString' in get_secret_value_response:<br /> secret = get_secret_value_response['SecretString']<br /> else:<br /> binary_secret_data = get_secret_value_response['SecretBinary']</p> </code><p><code># Your code goes here.</code> </p></li> 
<li>Applications require permissions to access Secrets Manager. My application runs on Amazon EC2 and uses an IAM role to obtain access to AWS services. I will attach the following policy to my IAM role. This policy uses the <span style="font-family: courier">GetSecretValue</span> action to grant my application permissions to read secret from Secrets Manager. This policy also uses the resource element to limit my application to read only the <span style="font-family: courier">Applications/MyApp/MySQL-RDS-Database</span> secret from Secrets Manager. You can visit the AWS Secrets Manager Documentation to understand the <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/manage_retrieve-secret.html" target="_blank" rel="noopener noreferrer">minimum IAM permissions required to retrieve a secret</a>.<br /> <code>{<br /> &quot;Version&quot;: &quot;2012-10-17&quot;,<br /> &quot;Statement&quot;: {<br /> &quot;Sid&quot;: &quot;RetrieveDbCredentialFromSecretsManager&quot;,<br /> &quot;Effect&quot;: &quot;Allow&quot;,<br /> &quot;Action&quot;: &quot;secretsmanager:GetSecretValue&quot;,<br /> &quot;Resource&quot;: &quot;arn:aws:secretsmanager:::secret:Applications/MyApp/MySQL-RDS-Database&quot;<br /> }<br /> }<br /> </code> </li> 
</ol> 
<h3>Phase 3: Enable Rotation for Your Secret</h3> 
<p>Rotating secrets periodically is a security best practice because it reduces the risk of misuse of secrets. Secrets Manager makes it easy to follow this security best practice and offers built-in integrations for rotating credentials for MySQL, PostgreSQL, and Amazon Aurora databases hosted on Amazon RDS. When you enable rotation, Secrets Manager creates a Lambda function and attaches an IAM role to this function to execute rotations on a schedule you define. </p> 
<blockquote> 
<p><strong>Note</strong>: Configuring rotation is a privileged action that requires several IAM permissions and you should only grant this access to trusted individuals. To grant these permissions, you can use the <a href="https://console.aws.amazon.com/iam/home?region=ap-south-1#/policies/arn:aws:iam::aws:policy/IAMFullAccess" target="_blank" rel="noopener noreferrer">AWS <span style="font-family: courier">IAMFullAccess</span> managed policy</a>.</p> 
</blockquote> 
<p>Next, I show you how to configure Secrets Manager to rotate the secret <span style="font-family: courier">Applications/MyApp/MySQL-RDS-Database</span> automatically.</p> 
<ol> 
<li>From the <a href="https://console.aws.amazon.com/secretsmanager/home?region=us-east-1#/home" target="_blank" rel="noopener noreferrer">Secrets Manager console</a>, I go to the list of secrets and choose the secret I created in the first step <span style="font-family: courier">Applications/MyApp/MySQL-RDS-Database</span>.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-09.png" /><br /> &nbsp; </li> 
<li>I scroll to Rotation configuration, and then select <strong>Edit rotation</strong>.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-10.png" /><br /> &nbsp; </li> 
<li>To enable rotation, I select <strong>Enable automatic rotation</strong>. I then choose how frequently I want Secrets Manager to rotate this secret. For this example, I set the rotation interval to 60 days.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-11.png" /><br /> &nbsp;</li> 
<li>Next, Secrets Manager requires permissions to rotate this secret on your behalf. Because I’m storing the <span style="font-family: courier">superuser</span> database credential, Secrets Manager can use this credential to perform rotations. Therefore, I select <strong>Use the secret that I provided in step 1</strong>, and then select <strong>Next</strong>.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-12.png" /><br /> &nbsp; </li> 
<li>The banner on the next screen confirms that I have successfully configured rotation and the first rotation is in progress, which enables you to verify that rotation is functioning as expected. Secrets Manager will rotate this credential automatically every 60 days.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/04/secrets-manager-13.png" /><br /> &nbsp; </li> 
</ol> 
<b>Summary</b> 
<p>I introduced AWS Secrets Manager, explained the key benefits, and showed you how to help meet your compliance requirements by configuring AWS Secrets Manager to rotate database credentials automatically on your behalf. Secrets Manager helps you protect access to your applications, services, and IT resources without the upfront investment and on-going maintenance costs of operating your own secrets management infrastructure. To get started, visit the <a href="https://console.aws.amazon.com/secretsmanager/home?region=us-east-1#/home" target="_blank" rel="noopener noreferrer">Secrets Manager console</a>. To learn more, visit <a href="https://aws.amazon.com/documentation/secretsmanager/" target="_blank" rel="noopener noreferrer">Secrets Manager documentation</a>. </p> 
<p>If you have comments about this post, submit them in the <strong>Comments</strong> section below. If you have questions about anything in this post, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=296" target="_blank" rel="noopener noreferrer">Secrets Manager forum</a>.</p> 
<p><strong>Want more AWS Security news? Follow us on <a href="https://twitter.com/AWSsecurityinfo" target="_blank" rel="noopener noreferrer">Twitter</a>.</strong></p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7627');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<b class="lb-b blog-post-title" property="name headline">Classify sensitive data in your environment using Amazon Macie</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Alexander Watson</span></span> | on 
<time property="datePublished" datetime="2018-04-04T06:36:04+00:00">04 APR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/amazon-macie/" title="View all posts in Amazon Macie*"><span property="articleSection">Amazon Macie*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/" title="View all posts in Security, Identity, &amp; Compliance*"><span property="articleSection">Security, Identity, &amp; Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/classify-sensitive-data-in-your-environment-using-amazon-macie/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-7543" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=7543&amp;disqus_title=Classify+sensitive+data+in+your+environment+using+Amazon+Macie&amp;disqus_url=https://aws.amazon.com/blogs/security/classify-sensitive-data-in-your-environment-using-amazon-macie/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7543');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
<li> <a class="lb-txt" href="mailto:?subject=Classify%20sensitive%20data%20in%20your%20environment%20using%20Amazon%20Macie&amp;body=Classify%20sensitive%20data%20in%20your%20environment%20using%20Amazon%20Macie%0A%0Ahttps://aws.amazon.com/blogs/security/classify-sensitive-data-in-your-environment-using-amazon-macie/" target="_blank"><span class="icon-envelope-square" aria-label="Share on Email"></span></a> </li> 
</footer> 
<p>In this post, I’ll show you how to create a sample dataset for <a href="https://docs.aws.amazon.com/macie/latest/userguide/what-is-macie.html" target="_blank" rel="noopener noreferrer">Amazon Macie</a>, and how you can use Amazon Macie to implement data-centric compliance and security analytics in your Amazon S3 environment. I’ll also dive into the different kinds of credentials, document types, and PII detections supported by Macie. First, I’ll walk through creating a “getting started” sample set of artificial, generated data that you can use to test Macie capabilities and start building your own policies and alerts.</p> 
<b>Create a realistic data sample set in S3</b> 
<p>I’ll use <span style="font-family: courier"><a href="https://github.com/aws-samples/amazon-macie-activity-generator" title="undefined" target="_blank">amazon-macie-activity-generator</a></span>, which we call “<span style="font-family: courier">AMG</span>” for short, a sample application developed by AWS that generates realistic content and accesses your test account to create the data. <span style="font-family: courier">AMG</span> uses <a href="https://aws.amazon.com/cloudformation/aws-cloudformation-templates/" target="_blank" rel="noopener noreferrer">AWS CloudFormation</a>, <a href="https://aws.amazon.com/lambda/" target="_blank" rel="noopener noreferrer">AWS Lambda</a>, and Python’s excellent <a href="https://faker.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener noreferrer">Faker</a> library to create a data set with artificial—but realistic—data classifications and access patterns to help test some of the features and capabilities of <a href="https://aws.amazon.com/macie/" target="_blank" rel="noopener noreferrer">Macie</a>. <span style="font-family: courier">AMG</span> is released under Amazon Software License 1.0, and we’ll accept pull requests on our GitHub repository and monitor any issues that are opened so we can try to fix bugs and consider new feature requests.</p> 
<p>The following diagram shows a high level architecture overview of the components that will be created in your AWS account for <span style="font-family: courier">AMG</span>. For additional detail about these components and their relationships, review the CloudFormation setup <a href="https://s3.amazonaws.com/amazon-macie-activity-generator-us-east-1-fb58a9df3468/CloudFormationTemplate.yml" title="undefined" target="_blank">script</a>.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/03/amazon-macie-activity-generator-CF-diagram.png" /></p> 
<p>Depending on the data types specified in your JSON configuration template (details below), <span style="font-family: courier">AMG</span> will periodically generate artificial documents for the specified S3 target with a <span style="font-family: courier">PutObject</span> action. By default, the CloudFormation stack uses a configuration file that instructs <span style="font-family: courier">AMG</span> to create a new, private S3 bucket that can only be accessed by authorized AWS users/roles in the same account as the bucket. All the S3 objects with fake data in this bucket have a private ACL and inherit the bucket’s access control configuration. All generated objects feature the header in the example below, and <span style="font-family: courier">AMG</span> supports all fake data providers offered by <a href="https://faker.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener noreferrer">https://faker.readthedocs.io/en/latest/index.html</a>, as well as a few of <span style="font-family: courier">AMG</span>‘s own custom fake data providers requested by our customers: <span style="font-family: courier">aws_creds</span>, <span style="font-family: courier">slack_creds</span>, <span style="font-family: courier">github_creds</span>, <span style="font-family: courier">facebook_creds</span>, <span style="font-family: courier">linux_shadow</span>, <span style="font-family: courier">rsa</span>, <span style="font-family: courier">linux_passwd</span>, <span style="font-family: courier">dsa</span>, <span style="font-family: courier">ec</span>, <span style="font-family: courier">pgp</span>, <span style="font-family: courier">cert</span>, <span style="font-family: courier">itin</span>, <span style="font-family: courier">swift_code</span>, and <span style="font-family: courier">cve</span>.</p> 
<p><code># Sample Report - No identification of actual persons or places is<br /> # intended or should be inferred</code></p> 
<code> <p>74323 Julie Field<br /> Lake Joshuamouth, OR 30055-3905<br /> 1-196-191-4438x974<br /> 53001 Paul Union<br /> New John, HI 94740<br /> Mastercard<br /> Amanda Wells<br /> 5135725008183484 09/26<br /> CVV: 550</p> <p>354-70-6172<br /> 242 George Plaza<br /> East Lawrencefurt, VA 37287-7620<br /> GB73WAUS0628038988364<br /> 587 Silva Village<br /> Pearsonburgh, NM 11616-7231<br /> LDNM1948227117807<br /> American Express<br /> Brett Garza<br /> 347965534580275 05/20<br /> CID: 4758</p> </code> 
<p><code>599.335.2742<br /> JCB 15 digit<br /> Michael Arias<br /> 210069190253121 03/27<br /> CVC: 861</code></p> 
<b>Create your <span style="font-family: courier">amazon-macie-activity-generator</span> CloudFormation stack</b> 
<p>You can deploy <span style="font-family: courier">AMG</span> in your AWS account by using either these methods:</p> 
<li>Use the CloudFormation Template: <a href="https://s3.amazonaws.com/amazon-macie-activity-generator-us-east-1-fb58a9df3468/CloudFormationTemplate.yml" title="undefined" target="_blank">https://s3.amazonaws.com/amazon-macie-activity-generator-us-east-1-fb58a9df3468/CloudFormationTemplate.yml</a></li> 
<li>Or use this <a href="https://console.aws.amazon.com/cloudformation/home?#/stacks/create/review?filter=active&amp;templateURL=https%3A%2F%2Fs3.amazonaws.com%2Famazon-macie-activity-generator-us-east-1-fb58a9df3468%2FCloudFormationTemplate.yml&amp;stackName=amazon-macie-activity-generator&amp;param_BlueprintBucket=&amp;param_BlueprintObject=DefaultBlueprint.json&amp;param_LambdaPkgBucket=&amp;param_LambdaPkgObject=LambdaFunction.zip" title="undefined" target="_blank">One-click CloudFormation launch stack</a>.</li> 
<p>Follow these steps:</p> 
<ol> 
<li>Log in to the AWS Console in a region supported by Amazon Macie, which currently includes US East (N. Virginia), US West (Oregon).</li> 
<li>Select the One-click CloudFormation launch stack, or launch CloudFormation using the template above.</li> 
<li>Read our terms, select the <strong>Acknowledgement</strong> box, and then select <strong>Create</strong>.</li> 
</ol> 
<p>Creating the data takes a few minutes, and you can periodically refresh CloudWatch to track progress.</p> 
<b>Add the new sample data to Macie</b> 
<p>Now, I’ll log into the Macie console and add the newly created sample data buckets for analysis by Macie.</p> 
<blockquote> 
<p><strong>Note</strong>: If you don’t explicitly specify a bucket for S3 targets in CloudFormation, <span style="font-family: courier">AMG</span> will use the S3 bucket that’s created by default for the stack, which will be printed out in the CloudFormation stack’s output.</p> 
</blockquote> 
<p>To add buckets for data classification, follow these steps:</p> 
<ol> 
<li>Log in to Amazon Macie.</li> 
<li>Select <strong>Integrations</strong>, and then select <strong>Services</strong>.</li> 
<li>Select your account, and then select <strong>Details</strong> from the Amazon S3 card.</li> 
<li>Select your newly created buckets for <strong>Full classification</strong>, including existing data.</li> 
</ol> 
<p>For additional details on configuring Macie, refer to our <a href="https://docs.aws.amazon.com/macie/latest/userguide/macie-setting-up.html" target="_blank" rel="noopener noreferrer">getting started</a> documentation.</p> 
<p>Macie classifies all historical and newly created data in the buckets created by <span style="font-family: courier">AMG</span>, and the data will be available in the Macie console as it’s classified. Typically, you can expect the data in the sample set to be classified within 60 minutes of the time it was selected for analysis.</p> 
<b>Classifying objects with Macie</b> 
<p>To see the objects in your test sample set, in Macie, open the <strong>Research</strong> tab, and then select the <strong>S3 Objects</strong> index. We’ll use the regular expression search capability in Macie to find any objects written to buckets that start with “amazon-macie-activity-generator-defaults3bucket”. To search for this, type the following text into the Macie search box and select the magnifying glass icon.</p> 
<p><code>filesystem_metadata.bucket:/amazon-macie-activity-generator-defaults3bucket.*/</code></p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/03/sensitive-data-Amazon-Macie-V2-02.png" /></p> 
<p>From here, you can see a nice breakdown of the kinds of objects that have been classified by Macie, as well as the object-specific details. Create an advanced search using <a href="https://lucene.apache.org/core/2_9_4/queryparsersyntax.html" target="_blank" rel="noopener noreferrer">Lucene Query Syntax</a>, and save it as an alert to be matched against any newly created data.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/03/sensitive-data-Amazon-Macie-V2-03.png" /></p> 
<b>Analyzing accesses to your test data</b> 
<p>In addition to classifying data, Macie tracks all control plane and data plane accesses to your content using CloudTrail. To see accesses to your generated environment (created periodically by <span style="font-family: courier">AMG</span> to mimic user activity), on the Macie navigation bar, select <strong>Research</strong>, select the <strong>CloudTrail data</strong> index, and then use the following search to identify our generated role activity:</p> 
<p><code>sessionName.key:/amazon-macie-activity-generator-LambdaFunction-.*/</code></p> 
<p>From this search, you can dive into the user activity (IAM users, assumed roles, federated users, and so on), which is summarized in 5-minute aggregations (user sessions). For example, in the screen shot you can see that one of our <span style="font-family: courier">AMG</span>-generated users listed objects one time (ListObjects) and wrote 56 objects to S3 (PutObject) during a 5-minute period.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/03/sensitive-data-Amazon-Macie-V2-04.png" /></p> 
<b>Macie alerts</b> 
<p>Macie features both predictive (machine learning-based) and basic (rule-based) alerts, including alerts on unencrypted credentials being uploaded to S3 (because this activity might not follow compliance best practices), risky activity such as data exfiltration, and user-defined alerts that are based on saved searches. To see alerts that have been generated based on <span style="font-family: courier">AMG</span>‘s activity, on the Macie navigation bar, select <strong>Alerts</strong>.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/27/sensitive-data-Amazon-Macie-05.png" /></p> 
<p><span style="font-family: courier">AMG</span> will continue to run, periodically uploading content to the specified S3 buckets. To stop <span style="font-family: courier">AMG</span>, delete the <span style="font-family: courier">AMG</span> CloudFormation stack and associated resources <a href="https://console.aws.amazon.com/cloudformation/" target="_blank" rel="noopener noreferrer">here</a>.</p> 
<b>What are the costs?</b> 
<p>Macie has a free tier enabling up to 1GB of content to be analyzed per month at no cost to you. By default, <span style="font-family: courier">AMG</span> will write approximately 10MB of objects to Amazon S3 per day, and you will incur charges for data classification after crossing the 1GB monthly free tier. Running continuously, <span style="font-family: courier">AMG</span> will generate about 310MB of content per month (10MB/day x 31 days), which will stay below the free tier. Any data use above 1GB will be billed at the Macie public price of $5/GB. For more detail, see the Macie <a href="https://aws.amazon.com/macie/pricing/" target="_blank" rel="noopener noreferrer">pricing documentation</a>.</p> 
<p>If you have feedback about this blog post, submit comments in the <strong>Comments</strong> section below. If you have questions about this blog post, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=258&amp;start=0" target="_blank" rel="noopener noreferrer">Amazon Macie forum</a> or contact <a href="https://console.aws.amazon.com/support/home" target="_blank" rel="noopener noreferrer">AWS Support</a>.</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7543');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/12/13/AmazonGuardDuty.png" /> 
<b class="lb-b blog-post-title" property="name headline">How to Use Amazon Alexa to Get Amazon GuardDuty Statistics and Findings</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Cameron Worrell</span></span> | on 
<time property="datePublished" datetime="2018-04-03T07:03:51+00:00">03 APR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/alexa/" title="View all posts in Alexa*"><span property="articleSection">Alexa*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/amazon-guardduty/" title="View all posts in Amazon GuardDuty"><span property="articleSection">Amazon GuardDuty</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/" title="View all posts in Security, Identity, &amp; Compliance*"><span property="articleSection">Security, Identity, &amp; Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-use-amazon-alexa-to-get-amazon-guardduty-statistics-and-findings/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-7435" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=7435&amp;disqus_title=How+to+Use+Amazon+Alexa+to+Get+Amazon+GuardDuty+Statistics+and+Findings&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-use-amazon-alexa-to-get-amazon-guardduty-statistics-and-findings/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7435');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p>You can always view and manage your <a href="https://aws.amazon.com/guardduty/" target="_blank" rel="noopener noreferrer">Amazon GuardDuty</a> findings on the Findings page in the GuardDuty console or by using <a href="https://docs.aws.amazon.com/guardduty/latest/ug/guardduty_api_ref.html" target="_blank" rel="noopener noreferrer">GuardDuty APIs</a> with the <a href="https://aws.amazon.com/tools/" target="_blank" rel="noopener noreferrer">AWS CLI or SDK</a>. But there’s a quicker and easier way, you can use Amazon Alexa as a conversational interface to review your GuardDuty findings. With Alexa, you can build natural voice experiences and create a more intuitive way of interacting GuardDuty. </p> 
<p>In this post, I show you how to deploy a sample custom Alexa skill and use an <a href="https://www.amazon.com/b?ie=UTF8&amp;node=15443147011" target="_blank" rel="noopener noreferrer">Alexa-enabled device</a>, such as <a href="https://www.amazon.com/all-new-amazon-echo-speaker-with-wifi-alexa-dark-charcoal/dp/B06XCM9LJ4" target="_blank" rel="noopener noreferrer">Amazon Echo</a>, to get information about GuardDuty findings across your AWS accounts and regions. The information provided by this sample skill gives you a broad overview of GuardDuty finding statistics, severities, and descriptions. When you hear something interesting, you can log in to the GuardDuty console or another analysis tool to investigate the findings data.</p> 
<blockquote> 
<p><strong>Note</strong>: Although not covered here, you can also deploy this sample skill using <a href="https://aws.amazon.com/alexaforbusiness/" target="_blank" rel="noopener noreferrer">Alexa for Business</a>, which you can use to make skills available to your shared devices and enrolled users without having to publish them to the Alexa skills store.</p> 
</blockquote> 
<b>Prerequisites</b> 
<p>To complete the steps in this post, make sure you have:</p> 
<li>A basic understanding of Alexa Custom Skills, which is helpful for deploying the sample skill described here. If you’re not already familiar with Alexa custom skill concepts and terminology, you might want to review the following <a href="https://developer.amazon.com/docs/custom-skills/understanding-custom-skills.html" target="_blank" rel="noopener noreferrer">documentation resources</a>.</li> 
<li>An AWS account with GuardDuty enabled in one or more AWS regions.</li> 
<li>An <a href="https://www.amazon.com/b?ie=UTF8&amp;node=15443147011" target="_blank" rel="noopener noreferrer">Alexa-enabled device</a>, such as <a href="https://www.amazon.com/all-new-amazon-echo-speaker-with-wifi-alexa-dark-charcoal/dp/B06XCM9LJ4" target="_blank" rel="noopener noreferrer">Amazon Echo</a>.</li> 
<li>An <a href="https://developer.amazon.com/alexa" target="_blank" rel="noopener noreferrer">Amazon Developer Account</a>.</li> 
<b>Solution overview</b> 
<p>This diagram shows how the <a href="https://s3.amazonaws.com/awsiammedia/public/sample/GuardDutyStatisticsFindings/alexa-ask-guardduty.template" target="_blank" rel="noopener noreferrer">CloudFormation template</a> creates the Lambda function for the sample Alexa skill.</p> 
<p><img width="100%" src="https://d1.awsstatic.com/security-center/SecurityBlog/alexa_guardduty_1.tif.2e6caa68e6940557c609525bfe2c723f466fec1c.jpg" /></p> 
<p>Here’s how the solution works, as shown in the diagram:</p> 
<ol> 
<li>The user opens the skill by saying “Alexa, ask GuardDuty” or “Alexa, open GuardDuty.”</li> 
<li>After the skill opens, the user states a supported intent, such as “Get flash briefing.”</li> 
<li>The Alexa service passes the intent to the custom skill that uses the Lambda function to call the GuardDuty API and request the information.</li> 
<li>The GuardDuty service returns the requested information and the Lambda function returns the response to the Alexa service.</li> 
<li>The Alexa service delivers the audio response via the <a href="https://www.amazon.com/b?ie=UTF8&amp;node=15443147011" target="_blank" rel="noopener noreferrer">Alexa-enabled device</a>.</li> 
</ol> 
<b>Solution deployment</b> 
<p>This sample solution includes three parts:</p> 
<ol> 
<li>Deploy the Lambda function by using the CloudFormation Template.</li> 
<li>Create the custom skill in the Alexa developer console.</li> 
<li>Test the skill using an Alexa-enabled device.</li> 
</ol> 
<h3>Deploy the Lambda function with the CloudFormation Template</h3> 
<p>For this next step, make sure you deploy the template within the AWS account you want to monitor.</p> 
<ol> 
<li>To deploy the Lambda function in the N. Virginia region (see the note below), you can use the CloudFormation template provided by clicking the following link: <a href="https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/new?stackName=AlexaAskGuardDutySample&amp;templateURL=https://s3.amazonaws.com/awsiammedia/public/sample/GuardDutyStatisticsFindings/alexa-ask-guardduty.template" target="_blank" rel="noopener noreferrer">load the supplied template</a>. In the CloudFormation console, on the <strong>Select Template</strong> page, select <strong>Next</strong>.<br /> 
<blockquote> 
<p><strong>Note</strong>: The following AWS regions support hosting custom Alexa skills: US East (N. Virginia), Asia Pacific (Tokyo), EU (Ireland), West (Oregon). If you want to deploy in a region other than N. Virginia, you will first <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/upload-objects.html" target="_blank" rel="noopener noreferrer">need to upload</a> the <a href="https://s3.amazonaws.com/awsiammedia/public/sample/GuardDutyStatisticsFindings/alexa-ask-guardduty-lambda.zip" target="_blank" rel="noopener noreferrer">custom skill’s Lambda deployment package</a> (zip file with code) to an S3 bucket in the selected region.</p> 
</blockquote> </li> 
<li>After you load the template, provide the following input parameters:<br /> 
<table style="margin-left: 45px" border="1" width="0"> 
<tbody> 
<tr> 
<td style="padding-left: 10px" width="233"><strong>Input parameter</strong></td> 
<td style="padding-left: 10px" width="301"><strong>Input parameter description</strong></td> 
</tr> 
<tr style="padding-left: 10px"> 
<td style="padding-left: 10px" width="233"><span style="font-family: courier">FLASHREGIONS</span></td> 
<td style="padding-left: 10px" width="301">Comma separated list of <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html" target="_blank" rel="noopener noreferrer">region Ids</a> with NO spaces to include in flash briefing stats. At least one region is required. Make sure GuardDuty is enabled in regions declared.</td> 
</tr> 
<tr style="padding-left: 10px"> 
<td style="padding-left: 10px" width="233"><span style="font-family: courier">MAXRESP</span></td> 
<td style="padding-left: 10px" width="301">Max number of findings to return in a response.</td> 
</tr> 
<tr style="padding-left: 10px"> 
<td style="padding-left: 10px" width="233"><span style="font-family: courier">ArtifactsBucket</span></td> 
<td style="padding-left: 10px" width="301">S3 Bucket where Lambda deployment package resides. Leave the default for N. Virginia.</td> 
</tr> 
<tr style="padding-left: 10px"> 
<td style="padding-left: 10px" width="233"><span style="font-family: courier">ArtifactsPrefix</span></td> 
<td style="padding-left: 10px" width="301">Path in S3 bucket where Lambda deployment package resides. Leave the default for N. Virginia.</td> 
</tr> 
</tbody> 
</table> </li> 
<li>On the <strong>Specify Details</strong> page, enter the input parameters (see above), and then select <strong>Next</strong>.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/02/alexa-guardduty-specify-details-01.png" /><br /> &nbsp; </li> 
<li>On the <strong>Options</strong> page, accept the default values, and then select <strong>Next</strong>.</li> 
<li>On the <strong>Review</strong> page, confirm the details, and then select <strong>Create</strong>. The stack will be created in approximately 2 minutes.</li> 
</ol> 
<h3>Create the custom skill in the Alexa developer console</h3> 
<p>In the second part of this solution implementation, you will create the skill in the Amazon Developer Console.</p> 
<ol> 
<li>Sign in to the Alexa area of the <a href="https://developer.amazon.com/alexa/console/ask" target="_blank" rel="noopener noreferrer">Amazon Developer Console</a>, select <strong>Your Alexa Consoles</strong> in the top right, and then select <strong>Skills</strong>.</li> 
<li>Select <strong>Create Skill</strong>.</li> 
<li>For the name, enter <span style="font-family: courier">Ask Amazon GuardDuty</span>, and then select <strong>Next</strong>.</li> 
<li>In the <strong>Choose a model to add to your skill</strong> page, select <strong>Custom</strong>, and then select <strong>Create skill</strong>.</li> 
<li>Select the <strong>JSON Editor</strong> and paste the contents of the <a href="https://github.com/aws-samples/amazon-guardduty-alexa-sample/blob/master/alexa/alexa_ask_guardduty_skill.json" target="_blank" rel="noopener noreferrer">alexa_ask_guardduty_skill.json</a> file into the code editor, and overwrite the existing content. This file contains the <a href="https://developer.amazon.com/docs/custom-skills/custom-interaction-model-reference.html#intent-syntax" target="_blank" rel="noopener noreferrer">intent schema</a> which defines the set of intents the service can accept and process.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/02/alexa-guardduty-json-01.png" /><br /> &nbsp; </li> 
<li>Select <strong>Save Model</strong>, select <strong>Build Model</strong>, and then wait for the build to complete.</li> 
<li>When the model build is complete, on the left side, select <strong>Endpoint</strong>.</li> 
<li>In the <strong>Endpoint</strong> page, in the <strong>Service Endpoint Type</strong> section, select <strong>AWS Lambda ARN (Amazon Resource Name)</strong>.</li> 
<li>In the <strong>Default Region</strong> field, copy and paste the value from the CloudFormation Stack Outputs key named <span style="font-family: courier">AlexaAskGDSkillArn</span>. Leave the default values for other options, and then select <strong>Save Endpoints</strong>.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/04/03/alexa-guardduty-endpoint-02.png" /><br /> &nbsp; </li> 
</ol> 
<p>Because you’re not publishing this skill, you don’t need to complete the Launch section of the configuration. The skill will remain in the “Development” status and will only be available for Alexa devices linked to the Amazon developer account used to create the skill. Anyone with physical access to the linked Alexa-enabled device can use the custom skill. As a best practice, I recommend that you delete the Lambda trigger created by the CloudFormation template and <a href="https://developer.amazon.com/docs/custom-skills/host-a-custom-skill-as-an-aws-lambda-function.html#configuring-the-alexa-skills-kit-trigger" target="_blank" rel="noopener noreferrer">add a new one with Skill ID verification enabled</a>.</p> 
<h3>Test the skill using an Alexa-enabled device</h3> 
<p>Now that you’ve deployed the sample solution, the next step is to test the skill. Make sure you’re using an Alexa-enabled device linked to the Amazon developer account used to create the skill. Before testing, if there are no current GuardDuty findings available, you can <a href="https://docs.aws.amazon.com/guardduty/latest/ug/guardduty_findings.html#guardduty_sample-findings" target="_blank" rel="noopener noreferrer">generate sample findings</a> in the console. When you generate sample findings, GuardDuty populates your current findings list with one sample finding for each supported finding type.</p> 
<p>You can test using the following voice commands:</p> 
<li>“Alexa, Open GuardDuty” — Opens the skill and provides a welcome response. You can also use “Alexa, Ask GuardDuty”.</li> 
<li>“Get flash briefing” — Provides global and regional counts for low, medium, and high severity findings. The regions declared in the <span style="font-family: courier">FLASHREGIONS</span> parameter are included. You can also use “Ask GuardDuty to get flash briefing” to bypass the welcome message. You can learn more about <a href="https://docs.aws.amazon.com/guardduty/latest/ug/guardduty_findings.html#guardduty_findings-severity" target="_blank" rel="noopener noreferrer">GuardDuty severity levels in the documentation</a>.</li> 
<p>For the next set of commands, you can specify the region, use region names such as &lt;Virginia&gt;, &lt;Oregon&gt;, &lt;Ireland&gt;, and so on:</p> 
<ol> 
<li>“Get statistics for region” — Provides regional counts for low, medium, and high severity findings. </li> 
<li>“Get findings for region” — Returns finding information for the requested region. The number of findings returned is configured in the <span style="font-family: courier">MAXRESP</span> parameter.</li> 
<li>“Get &lt;high/medium/low&gt; severity findings for region” – Returns finding information with the minimum severity requested as high, medium, or low. The number of findings returned is configured in the <span style="font-family: courier">MAXRESP</span> parameter.</li> 
<li>“Help” — Provides information about the skill and supported utterances. Also provides current configuration for <span style="font-family: courier">FLASHREGIONS</span> and <span style="font-family: courier">MAXRESP</span>.</li> 
</ol> 
<p>In addition to the voice response, this skill shows the response text within <a href="https://developer.amazon.com/docs/custom-skills/include-a-card-in-your-skills-response.html#overview-of-cards" target="_blank" rel="noopener noreferrer">Home Cards</a> in the <a href="https://www.amazon.com/gp/help/customer/display.html?nodeId=201602060" target="_blank" rel="noopener noreferrer">Alexa mobile application</a>.</p> 
<b>Conclusion</b> 
<p>You can use this sample solution to get GuardDuty statistics and findings through the Alexa conversational interface. You’ll be able to identify findings that require further investigation quickly. This solution’s code is <a href="https://github.com/aws-samples/amazon-guardduty-alexa-sample" target="_blank" rel="noopener noreferrer">available on GitHub</a>.</p> 
<p>If you have comments about this blog post, submit them in the <strong>Comments</strong> section below. If you have questions about using GuardDuty, start a thread in the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=288" target="_blank" rel="noopener noreferrer">GuardDuty forum</a> or <a href="https://console.aws.amazon.com/support/home" target="_blank" rel="noopener noreferrer">contact AWS Support</a>. If you questions about Alexa, submit them in the <a href="https://forums.developer.amazon.com/spaces/23/index.html" target="_blank" rel="noopener noreferrer">Alexa Developer Forum</a> or the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=273" target="_blank" rel="noopener noreferrer">Alexa for Business Forum</a>.</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7435');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/29/AWSOrganizations_800x400.jpg" /> 
<b class="lb-b blog-post-title" property="name headline">How to Use Service Control Policies in AWS Organizations</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Frank Phillis</span></span> | on 
<time property="datePublished" datetime="2018-04-02T06:45:24+00:00">02 APR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-identity-and-access-management-iam/" title="View all posts in AWS Identity and Access Management (IAM)*"><span property="articleSection">AWS Identity and Access Management (IAM)*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/identity/" title="View all posts in Identity*"><span property="articleSection">Identity*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/" title="View all posts in Security, Identity, &amp; Compliance*"><span property="articleSection">Security, Identity, &amp; Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-use-service-control-policies-in-aws-organizations/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-7555" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=7555&amp;disqus_title=How+to+Use+Service+Control+Policies+in+AWS+Organizations&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-use-service-control-policies-in-aws-organizations/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7555');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p>With <a href="https://aws.amazon.com/organizations/" target="_blank" rel="noopener noreferrer">AWS Organizations</a>, you can centrally manage policies across multiple AWS accounts without having to use custom scripts and manual processes. For example, you can apply <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scp.html" target="_blank" rel="noopener noreferrer">service control policies</a> (SCPs) across multiple AWS accounts that are members of an organization. SCPs allow you to define which AWS service APIs can and cannot be executed by <a href="https://aws.amazon.com/iam/" target="_blank" rel="noopener noreferrer">AWS Identity and Access Management</a> (IAM) entities (such as IAM users and roles) in your organization’s member AWS accounts. SCPs are created and applied from the <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_getting-started_concepts.html" target="_blank" rel="noopener noreferrer">master account</a>, which is the AWS account that you used when you created your organization.</p> 
<p>In a previous post, <a href="https://aws.amazon.com/blogs/security/how-to-use-service-control-policies-in-aws-organizations-to-enforce-healthcare-compliance-in-your-aws-account/" target="_blank" rel="noopener noreferrer">How to Use Service Control Policies in AWS Organizations to Enforce Healthcare Compliance in Your AWS Account</a>, we reviewed how to create and manage SCPs and <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_ous.html" target="_blank" rel="noopener noreferrer">Organizational Units</a> (OU) within an organization. In this post, I show how to use SCPs for access control in Organizations, with a specific focus on evaluating SCPs when an IAM entity calls an API in a member AWS account. I first cover some key Organizations concepts, and then I show how an SCP attached to an organization impacts which AWS service APIs are available to member accounts. Finally, I demonstrate these concepts with an example.</p> 
<b>Organizational structure in Organizations</b> 
<p>OUs give you a way to logically group and structure member AWS accounts in your organization. The screenshot shows the tree view of an example organizational structure in my organization with several OUs. Currently, I have selected <code>OrgUnit01</code>, and this is the current view I see in my main window. You can see here that within the <code>OrgUnit01</code> OU, I have nested two additional OUs (<code>OrgUnit01ChildA</code> and <code>OrgUnit01ChildB</code>) and an AWS account is also contained within <code>OrgUnit01</code>, named “Developer Sandbox Account”.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/27/service-control-policies-01.png" /></p> 
<p>The parts of the example organizational structure in the screenshot are:</p> 
<ol> 
<li><strong>Tree view</strong> — The hierarchy of your organization’s root and any OUs you have created</li> 
<li><strong>Tree view toggle</strong> — Enable and disable tree view</li> 
<li><strong>Organizational Units</strong> — Any child OUs of the selected root or OU in tree view</li> 
<li><strong>Accounts</strong> — Any AWS accounts (members or master) in the current OU</li> 
</ol> 
<p>In the next section, I explain why at least one SCP must be attached to your root and OUs and introduce SCP evaluation.</p> 
<b>How Service Control Policy evaluation logic works</b> 
<p>To allow an AWS service API at the member account level, you must allow the API at every level between the member account and the root of your organization. This means you must attach an SCP at every level between your organization’s root and the member account that allows the given AWS service API (such as <code>ec2:RunInstances</code>). For more information, see <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_about-scps.html" target="_blank" rel="noopener noreferrer">About Service Control Policies</a>.</p> 
<p>Let’s say you want to allow the <code>ec2:RunInstances</code> API in the Developer Sandbox Account in the example structure in the preceding screenshot. To allow this AWS service API, you must allow the API in at least one SCP attached at each of these levels:</p> 
<ol> 
<li>The organization’s root</li> 
<li>The OU named <code>OrgUnit01</code></li> 
</ol> 
<p>If you don’t allow the AWS service in an SCP attached at each of these two levels, neither IAM entities nor the root user in the Developer Sandbox Account will be able to call <code>ec2:RunInstances</code>, even if an administrator has given them permission to do so (for IAM entities). In terms of policy evaluation, SCPs follow exactly the same policy evaluation logic as IAM does: by default, all requests are denied, an explicit allow overrides this default, and an explicit deny overrides any explicit allows.</p> 
<p>What does this look like in practice? In the next section, I share a practical example to demonstrate how this works in Organizations.</p> 
<b>An example structure with nested OUs and SCPs</b> 
<p>In the previous section, I introduced design aspects of AWS Organizations that help prevent administrators from breaking structures in their Organizations. But because AWS Organizations is flexible enough to address multiple use cases, administrators can make changes that have unintended consequences, such as breaking organizational structures when moving an AWS account from one OU to another. In this section, I show an example with broken OU and SCP structures and explain how you can fix them.</p> 
<p>I’ll take a blacklisting approach. That is, I’ll use the <code>FullAWSAccess</code> SCP, which doesn’t filter out any AWS service APIs. Then, I will filter out specific APIs by blacklisting them in subsequent SCPs attached to OUs at various points in my organization’s structure. For further reading on blacklisting and whitelisting with AWS Organizations, review <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_getting-started_concepts.html" target="_blank" rel="noopener noreferrer">AWS Organizations Terminology and Concepts</a>.</p> 
<p>Let’s say I have developed the OU and SCP structure shown in the diagram below. Before taking a close look at that diagram, I’ll briefly outline the goals I’m trying to achieve. Broadly speaking, there’s a small subset of APIs that I want to filter out using SCPs. This means that IAM entities in some AWS accounts in my organization will not have access to particular AWS service APIs, such as those related to Amazon EC2, while other accounts will not have access to APIs associated with Amazon CloudWatch, Amazon S3, and so on. Apart from these special cases, I do want the accounts in my organization to have access to all other APIs. More specifically, my goals are as follows:</p> 
<ol> 
<li>Any AWS accounts in the Root should not have any API filtered out.</li> 
<li>Any AWS accounts in OU 001 should have APIs for CloudWatch filtered out, but all other APIs will be accessible.</li> 
<li>Any AWS accounts in OU 002 should have APIs for both CloudWatch and EC2 filtered out, but all other APIs will be accessible.</li> 
<li>Any AWS accounts in OU 003 should have APIs for S3 filtered out, but all other APIs will be accessible.</li> 
</ol> 
<p>To that end, let’s now look at my initial SCP and OU configuration in the image below that shows the example OU and SCP structure. The arrow shows the direction of inheritance: the root and the OUs below it (children) inherit SCPs from the OUs above them (parents). This example structure contains the following SCPs:</p> 
<ol> 
<li><code>FullAWSAccess</code> — Allows all AWS service APIs</li> 
<li><code>Deny_CW</code> — Denies all CloudWatch APIs</li> 
<li><code>Deny_EC2</code> — Denies all Amazon EC2 APIs </li> 
<li><code>Deny_S3</code> — Denies all Amazon S3 APIs</li> 
</ol> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/28/service-control-policies-02.png" /></p> 
<p>Now that I’ve outlined my intent, and shown you the OU / SCP structure that I’ve created to meet that set of goals, you can probably already see that the structure provided in the image above will not work correctly for my stated goals. In fact, AWS accounts in the Root container and <code>OU 001</code> will have the intended access, as per my goals (1) and (2). I will not, however, meet my goals (3) and (4) with the above structure: entities in member accounts directly under <code>OU 002</code> cannot perform any actions, even if they’re granted permissions by IAM access policies. This is because the <code>FullAWSAccess</code> SCP isn’t attached directly to this OU (it’s only inherited).</p> 
<p>Why is this important? For an AWS service API to be available to IAM entities in a member account, the API must be specified in an <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_about-scps.html" target="_blank" rel="noopener noreferrer">SCP attached at every level all the way down the hierarchy</a> to the relevant member account. Similarly, even though <code>OU 003</code> does have the <code>FullAWSAccess</code> SCP attached directly to it, the fact that it’s not attached to the parent OU (<code>OU 002</code>) means that IAM entities in member accounts under <code>OU 003</code> also aren’t able to access any service APIs. This doesn’t happen by default—I have deliberately taken this action to organize my structure in this way, to show both the flexibility and the kind of problems you can encounter when working with OUs and SCPs.</p> 
<p>So I now need to fix the problems that I’ve inadvertently created. To start with, I’m going to make one change to <code>OU 002</code> by attaching the <code>FullAWSAccess</code> SCP directly to that OU. After I do that, <code>OU 002</code> has the attached and inherited policies that are shown in the following image.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/28/service-control-policies-03.png" /></p> 
<p>With the <code>FullAWSAccess</code> policy attached to <code>OU 002</code>, member accounts in both <code>OU 002</code> and <code>OU 003</code> can access the other non-restricted AWS service APIs (keeping in mind that the <code>FullAWSAccess</code> policy was already applied to <code>OU 003</code>).</p> 
<p>I have one final issue to address in this example: <code>OU 003</code> has an SCP attached that blocks access to the Amazon S3 APIs. However, in this OU, the intent is to allow IAM entities in member accounts to access the EC2 APIs. EC2 API access is blocked because in the parent OU (<code>OU 002</code>), an SCP is attached that denies access to that API (the <code>Deny_EC2</code> SCP), which means that any actions listed in <code>Deny_EC2</code> have already been filtered out. An explicit deny always trumps an allow, so to meet goal (4) and have an OU in which EC2 APIs are allowed but access to CloudWatch APIs and S3 APIs is filtered out, I will move <code>OU 003</code> up one level, placing it directly under <code>OU 001</code>. This change gives me a working OU and policy structure, as shown in the following image.</p> 
<p><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/28/service-control-policies-04.png" /></p> 
<p>I recommend that at each level of your organization’s hierarchy, you directly apply the relevant SCPs. By doing this, you’re less likely to forget to apply an SCP to a particular OU, which can break your permission structure. By directly applying SCPs, you also make your policy structure easier to read.</p> 
<p>If you have a group of accounts in your organization that are for testing purposes, I recommend that you experiment with OUs and SCPs. Applying SCPs to OUs and then moving an AWS account around within that structure can show you how SCPs affect IAM entities. For example, if you have an IAM user with the <code>AdministratorAccess</code> policy attached, you should see how SCPs can filter out certain AWS service APIs from specified member accounts.</p> 
<b>Conclusion</b> 
<p>I showed you how you can effectively apply SCPs to OUs in your organization and avoid some of the common issues that you might experience. I demonstrated an approach to designing a working organizational structure that I hope will help smooth your deployment of your organization and enables you to better centrally secure and manage your AWS accounts.</p> 
<p>If you have comments about this post, submit them in the <strong>Comments</strong> section below. If you have questions about anything in this post, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=219&amp;start=0" target="_blank" rel="noopener noreferrer">Organizations forum</a>.</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7555');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/27/IAM_social_v2_nologo-800x400.png" /> 
<b class="lb-b blog-post-title" property="name headline">Enable Federated API Access to your AWS Resources for up to 12 hours Using IAM Roles</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Ujjwal Pugalia</span></span> | on 
<time property="datePublished" datetime="2018-03-28T17:37:59+00:00">28 MAR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-identity-and-access-management-iam/" title="View all posts in AWS Identity and Access Management (IAM)*"><span property="articleSection">AWS Identity and Access Management (IAM)*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/identity/" title="View all posts in Identity*"><span property="articleSection">Identity*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/" title="View all posts in Security, Identity, &amp; Compliance*"><span property="articleSection">Security, Identity, &amp; Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/enable-federated-api-access-to-your-aws-resources-for-up-to-12-hours-using-iam-roles/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-7519" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=7519&amp;disqus_title=Enable+Federated+API+Access+to+your+AWS+Resources+for+up+to+12+hours+Using+IAM+Roles&amp;disqus_url=https://aws.amazon.com/blogs/security/enable-federated-api-access-to-your-aws-resources-for-up-to-12-hours-using-iam-roles/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7519');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p>Now, your applications and federated users can complete longer running workloads in a single session by increasing the maximum session duration up to 12 hours for an IAM role. Users and applications still retrieve temporary credentials by assuming roles using <a href="https://docs.aws.amazon.com/STS/latest/APIReference/Welcome.html" target="_blank" rel="noopener noreferrer">AWS Security Token Service</a> (AWS STS), but these credentials can now be valid for up to 12 hours when using the AWS SDK or CLI. This change allows your users and applications to perform longer running workloads, such as a batch upload to S3 or a CloudFormation template, using a single session. You can extend the maximum session duration using the <a href="https://console.aws.amazon.com/iam" target="_blank" rel="noopener noreferrer">IAM console</a> or <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html" target="_blank" rel="noopener noreferrer">CLI</a>. Once you increase the maximum session duration, users and applications assuming the IAM role can request temporary credentials that expire when the IAM role session expires.</p> 
<p>In this post, I show you how to configure the maximum session duration for an existing IAM role to 4 hours (maximum allowed duration is 12 hours) using the IAM console. I’ll use 4 hours because AWS recommends configuring the session duration for a role to the shortest duration that your federated users would require to access your AWS resources. I’ll then show how existing federated users can use the AWS SDK or CLI to request temporary security credentials that are valid until the role session expires.</p> 
<b>Prerequisites</b> 
<p>In this post, I’ll use a federation example. If you have an existing identity provider, you might have enabled federation by using <a href="https://aws.amazon.com/identity/saml/" target="_blank" rel="noopener noreferrer">SAML (Security Assertion Markup Language)</a> to allow your users to access your AWS resources. This post assumes you have <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp.html" target="_blank" rel="noopener noreferrer">created an IAM role for a third-party identity provider</a> that defines the permissions for your federated users. You could also have <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_saml.html#CreatingSAML-configuring" target="_blank" rel="noopener noreferrer">configured SAML-based federation for API access to AWS</a>. For my example, I’ve chosen to configure SAML-based federation using Microsoft Active Directory Federation Service (ADFS) as the identity provider (IdP).</p> 
<b>Configure the maximum session duration for an existing IAM role to 4 hours</b> 
<p>Let’s assume you have an existing IAM role called ADFS-Production that allows your federated users to upload objects to an S3 bucket in your AWS account. You want to extend the maximum session duration for this role to 4 hours. By default, IAM roles in your AWS accounts have a maximum session duration of one hour. To extend a role’s maximum session duration to 4 hours, follow the steps below:</p> 
<ol> 
<li>Sign in to the <a href="https://console.aws.amazon.com/iam" target="_blank" rel="noopener noreferrer">IAM console</a>.</li> 
<li>In the left navigation pane, select <strong>Roles</strong> and then select the role for which you want to increase the maximum session duration. For this example, I select <code>ADFS-Production</code> and verify the maximum session duration for this role. This value is set to 1 hour (3,600 seconds) by default.</li> 
<li>Select <strong>Edit</strong>, and then define the maximum session duration.<br /> &nbsp;<br /> <img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/27/federated-api-requests-02.png" /> </li> 
<p> &nbsp;</p> 
<li>Select one of the predefined durations or provide a custom duration. For this example, I set the maximum session duration to be 4 hours. </li> 
<li>Select <strong>Save changes</strong>.</li> 
</ol> 
<p>Alternatively, you can use the latest <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html" target="_blank" rel="noopener noreferrer">AWS CLI</a> and call <code>Update-Role</code> to set the maximum session duration for the role <code>ADFS-Production</code>. Here’s an example to set the maximum session duration to 14,400 seconds (4 hours).</p> 
<p><code>$ aws iam update-role -–role-name ADFS-Production -–max-session-duration 14400</code></p> 
<p>Now that you’ve successfully extended the maximum session for your IAM role, ADFS-Production, your federated users can use AWS STS to retrieve temporary credentials that are valid for 4 hours to access your S3 buckets.</p> 
<b>Access AWS resources with temporary security credentials using AWS CLI/SDK</b> 
<p>To enable federated SDK and CLI access for your users who use temporary security credentials, you might have implemented the solution described in the blog post on <a href="https://aws.amazon.com/blogs/security/how-to-implement-federated-api-and-cli-access-using-saml-2-0-and-ad-fs/" target="_blank" rel="noopener noreferrer">How to Implement Federated API and CLI Access Using SAML 2.0 and AD FS</a>. That blog post demonstrates how to use the <a href="https://aws.amazon.com/sdk-for-python/" target="_blank" rel="noopener noreferrer">AWS Python SDK</a> and some additional client-side integration code provided in the post to implement federated SDK and CLI access for your users. To enable your users to request longer temporary security credentials, you can make the following changes suggested in this blog to the solution provided in that post.</p> 
<p>When calling <a href="https://docs-aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithSAML.html" target="_blank" rel="noopener noreferrer">AssumeRoleWithSAML API</a> to request AWS temporary security credentials, you need to include the DurationSeconds parameter. The value of this parameter is the duration the user requests and, therefore, the duration their temporary security credentials are valid. In this example, I am using <a href="https://github.com/boto/boto3" target="_blank" rel="noopener noreferrer">boto</a> to request the maximum length of 14,400 seconds (4 hours) using code from the <a href="https://aws.amazon.com/blogs/security/how-to-implement-federated-api-and-cli-access-using-saml-2-0-and-ad-fs/" target="_blank" rel="noopener noreferrer">How to Implement Federated API and CLI Access Using SAML 2.0 and AD FS</a> post that I have updated:</p> 
<p><code># Use the assertion to get an AWS STS token using Assume Role with SAML<br /> conn = boto.sts.connect_to_region(region)<br /> token = conn.assume_role_with_saml(role_arn, principal_arn, assertion, 14400)</code></p> 
<p>By adding a value for the DurationSeconds parameter in the AssumeRoleWithSAML call, your federated user can retrieve temporary security credentials that are valid for up to 14,400 seconds (4 hours). If you don’t provide this value, the default session duration is 1 hour.</p> 
<b>Conclusion</b> 
<p>I demonstrated how you can configure the maximum session duration for a role from 1 hour (default) up to 12 hours. Then, I showed you how your federated users can retrieve temporary security credentials that are valid for longer durations to access AWS resources using AWS CLI/SDK for up to 12 hours.</p> 
<p>Similarly, you can also increase the maximum role session duration for your applications and users who use <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp_oidc.html" target="_blank" rel="noopener noreferrer">Web Identity or OpenID Connect Federation</a> or <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/tutorial_cross-account-with-roles.html" target="_blank" rel="noopener noreferrer">Cross-Account Access with Assume Role</a>. If you have comments about this blog, submit them in the <strong>Comments</strong> section below. If you have questions or suggestions, please start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=76" target="_blank" rel="noopener noreferrer">IAM forum</a>.</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7519');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/11/15/AWSCertificateManager_2b1.png" /> 
<b class="lb-b blog-post-title" property="name headline">How to Prepare for AWS’s Move to Its Own Certificate Authority</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Jonathan Kozolchyk</span></span> | on 
<time property="datePublished" datetime="2018-03-28T14:20:48+00:00">28 MAR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/aws-certificate-manager/" title="View all posts in AWS Certificate Manager*"><span property="articleSection">AWS Certificate Manager*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/how-to-prepare-for-aws-move-to-its-own-certificate-authority/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-5777" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=5777&amp;disqus_title=How+to+Prepare+for+AWS%26%238217%3Bs+Move+to+Its+Own+Certificate+Authority&amp;disqus_url=https://aws.amazon.com/blogs/security/how-to-prepare-for-aws-move-to-its-own-certificate-authority/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5777');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
<li> <a class="lb-txt" href="mailto:?subject=How%20to%20Prepare%20for%20AWS%27s%20Move%20to%20Its%20Own%20Certificate%20Authority&amp;body=How%20to%20Prepare%20for%20AWS%27s%20Move%20to%20Its%20Own%20Certificate%20Authority%0A%0Ahttps://aws.amazon.com/blogs/security/how-to-prepare-for-aws-move-to-its-own-certificate-authority/" target="_blank"><span class="icon-envelope-square" aria-label="Share on Email"></span></a> </li> 
</footer> 
<p style="text-align: center"><img width="100%" src="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2017/10/25/AWSCertificateManager_2b.png" /></p> 
<p>&nbsp;</p> 
<p><strong>Update from March 28, 2018</strong>: We updated the Amazon Trust Services table by replacing an out-of-date value with a new value.</p> 
<hr /> 
<p>Transport Layer Security (TLS, formerly called Secure Sockets Layer [SSL]) is essential for encrypting information that is exchanged on the internet. For example, Amazon.com uses TLS for all traffic on its website, and AWS uses it to secure calls to AWS services.</p> 
<p>An electronic document called a <em>certificate</em>&nbsp;verifies the identity of the server when creating such an encrypted connection. The certificate helps establish proof that your web browser is communicating securely with the website that you typed in your browser’s address field. <em>Certificate Authorities</em>, also known as CAs, issue certificates to specific domains. When a domain presents a certificate that is issued by a trusted CA, your browser or application knows it’s safe to make the connection.</p> 
<p>In January 2016, AWS launched <a href="https://aws.amazon.com/acm/" target="_blank" rel="noopener noreferrer">AWS Certificate Manager</a> (ACM), a service that lets you easily provision, manage, and deploy SSL/TLS certificates for use with AWS services. These certificates are available for no additional charge through Amazon’s own CA: <a href="https://www.amazontrust.com/repository/" target="_blank" rel="noopener noreferrer">Amazon Trust Services</a>. For browsers and other applications to trust a certificate, the certificate’s issuer must be included in the browser’s <em>trust store</em>, which is a list of trusted CAs. If the issuing CA is not in the trust store, the browser will display an error message (see an <a href="https://untrusted-root.badssl.com/" target="_blank" rel="noopener noreferrer">example</a>) and applications will show an application-specific error. To ensure the ubiquity of the Amazon Trust Services CA, AWS purchased the Starfield Services CA, a root found in most browsers and which has been valid since 2005. This means you shouldn’t have to take any action to use the certificates issued by Amazon Trust Services.</p> 
<p>AWS has been offering free certificates to AWS customers from the Amazon Trust Services CA. Now, AWS is in the process of moving certificates for services such as <a href="https://aws.amazon.com/ec2/" target="_blank" rel="noopener noreferrer">Amazon EC2</a> and <a href="https://aws.amazon.com/dynamodb/" target="_blank" rel="noopener noreferrer">Amazon DynamoDB</a> to use certificates from Amazon Trust Services as well. Most software doesn’t need to be changed to handle this transition, but there are exceptions. In this blog post, I show you how to verify that you are prepared to use the Amazon Trust Services CA.</p> 
<h3>How to tell if the Amazon Trust Services CAs are in your trust store</h3> 
<p>The following table lists the Amazon Trust Services certificates. To verify that these certificates are in your browser’s trust store, click each Test URL in the following table to verify that it works for you. When a Test URL does not work, it displays an error similar to <a href="https://untrusted-root.badssl.com/" target="_blank" rel="noopener noreferrer">this example</a>.<span id="more-5777"></span></p> 
<table border="1" width="475" cellpadding="5"> 
<tbody> 
<tr> 
<td><strong>Distinguished name</strong></td> 
<td><strong>SHA-256 hash of subject public key information</strong></td> 
<td><strong>Test URL</strong></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Amazon Root CA 1,O=Amazon,C=US</span></td> 
<td><span style="font-family: courier">fbe3018031f9586bcbf41727e417b7d1c45c2f47f93be372a17b96b50757d5a2</span></td> 
<td><a href="https://good.sca1a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Amazon Root CA 2,O=Amazon,C=US</span></td> 
<td><span style="font-family: courier">7f4296fc5b6a4e3b35d3c369623e364ab1af381d8fa7121533c9d6c633ea2461</span></td> 
<td><a href="https://good.sca2a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Amazon Root CA 3,O=Amazon,C=US</span></td> 
<td><span style="font-family: courier">36abc32656acfc645c61b71613c4bf21c787f5cabbee48348d58597803d7abc9</span></td> 
<td><a href="https://good.sca3a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Amazon Root CA 4,O=Amazon,C=US</span></td> 
<td><span style="font-family: courier">f7ecded5c66047d28ed6466b543c40e0743abe81d109254dcf845d4c2c7853c5</span></td> 
<td><a href="https://good.sca4a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">CN=Starfield Services Root Certificate Authority – G2,O=Starfield Technologies\, Inc.,L=Scottsdale,ST=Arizona,C=US</span></td> 
<td><span style="font-family: courier">2b071c59a0a0ae76b0eadb2bad23bad4580b69c3601b630c2eaf0613afa83f92</span></td> 
<td><a href="https://good.sca0a.amazontrust.com/" target="_blank" rel="noopener noreferrer">Test URL</a></td> 
</tr> 
<tr> 
<td><span style="font-family: courier">Starfield Class 2 Certification Authority</span></td> 
<td><span style="font-family: courier">15f14ac45c9c7da233d3479164e8137fe35ee0f38ae858183f08410ea82ac4b4</span></td> 
<td>Not available*</td> 
</tr> 
</tbody> 
</table> 
<p><strong>* Note</strong>: Amazon doesn’t own this root and doesn’t have a test URL for it. The certificate can be downloaded from <a href="https://certs.secureserver.net/repository/sf-class2-root.crt" title="undefined" target="_blank">here</a>.</p> 
<p>You can calculate the SHA-256 hash of Subject Public Key Information as follows. With the PEM-encoded certificate stored in certificate.pem, run the following <code>openssl</code> commands:</p> 
<p><code>openssl x509 -in certificate.pem -noout -pubkey | openssl asn1parse -noout -inform pem -out certificate.key<br /> openssl dgst -sha256 certificate.key</code></p> 
<p>As an example, with the Starfield Class 2 Certification Authority self-signed cert in a PEM encoded file <code>sf-class2-root.crt</code>, you can use the following <code>openssl</code> commands:</p> 
<p><code>openssl x509 -in sf-class2-root.crt -noout -pubkey | openssl asn1parse -noout -inform pem -out sf-class2-root.key<br /> openssl dgst -sha256 sf-class2-root.key ~<br /> SHA256(sf-class2-root.key)= 15f14ac45c9c7da233d3479164e8137fe35ee0f38ae858183f08410ea82ac4b4</code></p> 
<h3>What to do if the Amazon Trust Services CAs are not in your trust store</h3> 
<p>If your tests of any of the Test URLs failed, you must update your trust store. The easiest way to update your trust store is to upgrade the operating system or browser that you are using.</p> 
<p>You will find the Amazon Trust Services CAs in the following operating systems (release dates are in parentheses):</p> 
<li>Microsoft Windows versions that have January 2005 or later updates installed, Windows Vista, Windows 7, Windows Server 2008, and newer versions</li> 
<li>Mac OS X 10.4 with Java for Mac OS X 10.4 Release 5, Mac OS X 10.5 and newer versions</li> 
<li>Red Hat Enterprise Linux 5 (March 2007), Linux 6, and Linux 7 and CentOS 5, CentOS 6, and CentOS 7</li> 
<li>Ubuntu 8.10</li> 
<li>Debian 5.0</li> 
<li>Amazon Linux (all versions)</li> 
<li>Java 1.4.2_12, Java 5 update 2, and all newer versions, including Java 6, Java 7, and Java 8</li> 
<p>All modern browsers trust Amazon’s CAs. You can update the certificate bundle in your browser simply by updating your browser. You can find instructions for updating the following browsers on their respective websites:</p> 
<li><a href="https://support.google.com/chrome/answer/95414?hl=en" target="_blank" rel="noopener noreferrer">Chrome</a></li> 
<li><a href="https://support.mozilla.org/en-US/kb/update-firefox-latest-version" target="_blank" rel="noopener noreferrer">Firefox</a></li> 
<li><a href="https://support.apple.com/en-us/HT204416" target="_blank" rel="noopener noreferrer">Safari</a></li> 
<li>The Windows operating system manages certificate bundles for <a href="http://windows.microsoft.com/en-us/internet-explorer/which-version-am-i-using#ie=other" target="_blank" rel="noopener noreferrer">Internet Explorer and Microsoft Edge</a>, so you must update Windows as well.</li> 
<p>If your application is using a custom trust store, you must add the <a href="https://www.amazontrust.com/repository/" target="_blank" rel="noopener noreferrer">Amazon root CAs</a> to your application’s trust store. The instructions for doing this vary based on the application or platform. Please refer to the documentation for the application or platform you are using.</p> 
<h4>AWS SDKs and CLIs</h4> 
<p>Most&nbsp;<a href="https://aws.amazon.com/tools/" target="_blank" rel="noopener noreferrer">AWS SDKs and CLIs</a> are not impacted by the transition to the Amazon Trust Services CA. If you are using a version of the Python AWS SDK or CLI released before October 29, 2013, you&nbsp;must upgrade. The .NET, Java, PHP, Go, JavaScript, and C++ SDKs and CLIs do not bundle any certificates, so their certificates come from the underlying operating system. The Ruby SDK has included at least one of the required CAs since June 10, 2015. Before that date, the Ruby V2 SDK did not bundle certificates.</p> 
<h3>Certificate pinning</h3> 
<p>If you are using a technique called <em>certificate pinning</em> to lock down the CAs you trust on a domain-by-domain basis, you must adjust your pinning to include the Amazon Trust Services CAs. Certificate pinning helps defend you from an attacker&nbsp;using&nbsp;misissued certificates to fool an application into creating a connection to a spoofed host (an illegitimate host masquerading as a legitimate host). The restriction to a specific, pinned certificate is made by checking that the certificate issued is the expected certificate. This is done by checking that the hash of the certificate public key received from the server matches the expected hash stored in the application. If the hashes do not match, the code stops the connection.</p> 
<p>AWS recommends against using certificate pinning because it introduces a potential availability risk. If the certificate to which you pin is replaced, your application will fail to connect. If your use case requires pinning, we&nbsp;recommend that you pin to a CA rather than to an individual certificate. If you are pinning to an Amazon Trust Services CA, you should pin to all&nbsp;CAs shown in the table earlier in this post.</p> 
<p>If you have comments about this post, submit them in the “Comments” section below. If you have questions about this post, start a new thread on the <a href="https://forums.aws.amazon.com/forum.jspa?forumID=206" target="_blank" rel="noopener noreferrer">ACM forum</a>.</p> 
<p>– Jonathan</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-5777');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/13/AustraliaFlag800x400.jpg" /> 
<b class="lb-b blog-post-title" property="name headline">Newly released guide provides Australian public sector the ability to evaluate AWS at PROTECTED level</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Oliver Bell</span></span> | on 
<time property="datePublished" datetime="2018-03-28T07:08:20+00:00">28 MAR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/compliance/" title="View all posts in Compliance*"><span property="articleSection">Compliance*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/" title="View all posts in Security, Identity, &amp; Compliance*"><span property="articleSection">Security, Identity, &amp; Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/newly-released-guide-provides-australian-public-sector-the-ability-to-evaluate-aws-at-protected-level/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-7503" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=7503&amp;disqus_title=Newly+released+guide+provides+Australian+public+sector+the+ability+to+evaluate+AWS+at+PROTECTED+level&amp;disqus_url=https://aws.amazon.com/blogs/security/newly-released-guide-provides-australian-public-sector-the-ability-to-evaluate-aws-at-protected-level/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7503');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p>Australian public sector customers now have a clear roadmap to use our secure services for sensitive workloads at the PROTECTED level. For the first time, we’ve released our Information Security Registered Assessors Program (IRAP) PROTECTED documentation via <a href="https://aws.amazon.com/artifact/" title="undefined" target="_blank">AWS Artifact</a>. This information provides the ability to plan, architect, and self-assess systems built in AWS under the <a href="https://www.dta.gov.au/what-we-do/policies-and-programs/secure-cloud/" title="undefined" target="_blank">Digital Transformation Agency’s Secure Cloud Guidelines</a>.</p> 
<p>In short, this documentation gives public sector customers everything needed to evaluate AWS at the PROTECTED level. And we’re making this resource available to download on-demand through AWS Artifact. When you download the guide, you’ll find a mapping of how AWS meets each requirement to securely and compliantly process PROTECTED data.</p> 
<p>With the AWS IRAP PROTECTED documentation, the process of adopting our secure services has never been easier. The information enables individual agencies to complete their own assessments and adopt AWS, but we also continue to work with the <a href="https://www.asd.gov.au/" title="undefined" target="_blank">Australian Signals Directorate</a> to include our services at the PROTECTED level on the <a href="https://www.asd.gov.au/infosec/irap/certified_clouds.htm" title="undefined" target="_blank">Certified Cloud Services List</a>.</p> 
<p>Meanwhile, we’re also excited to announce that there are now 46 services in scope, which mean more options to build secure and innovative solutions, while also saving money and gaining the productivity of the cloud.</p> 
<p>If you have questions about this announcement or would like to inquire about how to use AWS for your regulated workloads, contact your account team.</p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7503');
});
</script> 
</article> 
<article class="blog-post" vocab="http://schema.org/" typeof="TechArticle"> 
<meta property="inLanguage" content="en-US" /> 
<meta property="image" content="https://d2908q01vomqb2.cloudfront.net/22d200f8670dbdb3e253a90eee5098477c95c23d/2018/03/13/AustraliaFlag800x400.jpg" /> 
<b class="lb-b blog-post-title" property="name headline">AWS and the Australian Notifiable Data Breaches Scheme</b> 
<footer class="blog-post-meta" data-lb-comp="aws-blog:share-dialog">
by 
<span property="author" typeof="Person"><span property="name">Oliver Bell</span></span> | on 
<time property="datePublished" datetime="2018-03-27T13:34:34+00:00">27 MAR 2018</time> | in 
<span class="blog-post-categories"><a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/compliance/" title="View all posts in Compliance*"><span property="articleSection">Compliance*</span></a>, <a href="https://aws.amazon.com/blogs/security/category/security-identity-compliance/" title="View all posts in Security, Identity, &amp; Compliance*"><span property="articleSection">Security, Identity, &amp; Compliance*</span></a></span> | 
<a href="https://aws.amazon.com/blogs/security/aws-and-the-australian-notifiable-data-breaches-scheme/" property="url">Permalink</a> | 
<a id="aws-comment-trigger-7458" href="https://commenting.awsblogs.com/embed.html?disqus_shortname=aws-security-blog&amp;disqus_identifier=7458&amp;disqus_title=AWS+and+the+Australian+Notifiable+Data+Breaches+Scheme&amp;disqus_url=https://aws.amazon.com/blogs/security/aws-and-the-australian-notifiable-data-breaches-scheme/" data-sandbox-attr="allow-forms allow-scripts allow-popups allow-same-origin" property="discussionUrl"><i class="icon-comment"></i> Comments</a> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7458');
});
</script> | 
<a href="#" role="button" data-share-dialog-toggle=""><span class="span icon-share"></span>&nbsp;Share</a> 
</footer> 
<p>Recent amendments to the Australian Privacy Act 1988 (Privacy Act) established the Notifiable Data Breaches (NDB) scheme in Australia, which went into effect February 22, 2018. The NDB scheme aims to give affected individuals the opportunity to take steps to protect their personal information following a data breach that is likely to result in serious harm. It also reinforces entities’ accountability for the personal information they hold.</p> 
<p>We’re happy to announce AWS offers an Australian Notifiable Data Breaches (ANDB) Addendum to customers who are subject to the Privacy Act and are using AWS to store and process personal information covered by the NDB scheme. The ANDB Addendum addresses customers’ need for notification if a security event affects their data. We have made the ANDB Addendum available online as a click-through agreement in AWS Artifact, where customers can review and activate the ANDB Addendum for AWS accounts they use to store and process personal information covered by the NDB scheme.</p> 
<p>We welcome the arrival of the NDB scheme, and hope it encourages Australian entities to raise the bar on their security capabilities. At AWS, we continually maintain a high bar for security across all of our AWS Regions around the world. </p> 
<script>
require(['blog'], function() {
AWS.Blog.commenting('#aws-comment-trigger-7458');
});
</script> 
</article> 
<p>
© 2018 Amazon Web Services, Inc. or its affiliates. All rights reserved.
</p>

    </div>
  </div>
</div>


    <div id="footer" class="navigation hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <ul class="footer-links nav navbar-nav">
              <li><a href="../aws.html">AWS</a></li>
              <li><a href="../linux.html">Linux</a></li>
              <li><a href="../docker.html">Docker</a></li>
              <li><a href="../ibmpower.html">IBM Power</a></li>
              <li><a href="blogsataws1.html">Blogs@AWS (Kindle Friendly)</a></li>
            </ul>
            <ul class="footer-links nav navbar-nav navbar-right">
              <li><a href="../comments.html">Comments?</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
